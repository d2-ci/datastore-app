import{P as p,c as S,e as ja,l as Om,s as xw,a as K,b as Sw,t as ee,r as y,R as w,i as P,I as Zu,d as ot,_ as I,f as es,L as zm,g as Xu,C as Uo,h as kw,j as Cw,S as Pw,F as Aw,B as Ia,u as Lm,k as Tw,m as ji,M as Ho,n as Wo,o as qo,p as Go,q as Ko,v as Bt,w as Ew,x as Yo,y as Mw,z as Nw,A as vn,U as Rw,D as Dw,N as Ii,E as Bm,G as ed,H as Ow,J as k,K as zw,O as jm}from"./main-BUZAAzJq.js";const Lw=s=>typeof s>"u"||s===null||s==="",lh=(s,e,t)=>(n,r,i)=>{const a=n[r];return t?new Error(`Property \`${r}\` on component \`${i}\` is using the \`requiredIf\` prop-validator combined with \`.isRequired\`. This is an invalid combination.`):typeof s!="function"?new Error("The `condition` argument passed to the `requiredIf` prop-validator was not a function."):typeof e!="function"?new Error("The `propType` argument passed to the `requiredIf` prop-validator was not a function."):s(n)&&Lw(a)?new Error(`Invalid prop \`${r}\` supplied to \`${i}\`, this prop is conditionally required but has value \`${a}\`. The condition that made this prop required is: \`${s.toString()}\`.`):(p.checkPropTypes({[r]:e},n,"prop",i),null)};function pt(s,e){const t=lh(s,e,!1);return t.isRequired=lh(s,e,!0),t}const Bw=Object.freeze(Object.defineProperty({__proto__:null,colors:S,elevations:ja,layers:Om,sharedPropTypes:xw,spacers:K,spacersNum:Sw,theme:ee},Symbol.toStringTag,{value:"Module"}));function Im(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M8 2a1 1 0 011 1v4h4a1 1 0 010 2H9v4a1 1 0 01-2 0V9H3a1 1 0 110-2h4V3a1 1 0 011-1z",fill:"currentColor",fillRule:"evenodd"}))}Im.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function $m(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M12 3a1 1 0 011 1v7h7a1 1 0 010 2h-7v7a1 1 0 01-2 0v-7H4a1 1 0 010-2h7V4a1 1 0 011-1z",fill:"currentColor",fillRule:"evenodd"}))}$m.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function _m(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M4.146 6.146a.5.5 0 01.638-.057l.07.057L8 9.293l3.146-3.147a.5.5 0 01.638-.057l.07.057a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 010-.708z",fill:"currentColor"}))}_m.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function Fm(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M11.293 15.707a1 1 0 001.414 0l5-5a1 1 0 00-1.414-1.414L12 13.586 7.707 9.293a1 1 0 00-1.414 1.414z",fill:"currentColor"}))}Fm.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function Vm(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M9.146 4.146a.5.5 0 01.765.638l-.057.07L6.707 8l3.147 3.146a.5.5 0 01.057.638l-.057.07a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 01-.057-.638l.057-.07z",fill:"currentColor"}))}Vm.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function Um(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M6.146 4.146a.5.5 0 01.638-.057l.07.057 3.5 3.5a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.765-.638l.057-.07L9.293 8 6.146 4.854a.5.5 0 01-.057-.638z",fill:"currentColor"}))}Um.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function Hm(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M11.293 8.293a1 1 0 011.32-.083l.094.083 5 5a1 1 0 01-1.32 1.497l-.094-.083L12 10.415l-4.293 4.292a1 1 0 01-1.32.083l-.094-.083a1 1 0 01-.083-1.32l.083-.094z",fill:"currentColor"}))}Hm.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function Wm(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M13.5 3a.5.5 0 110 1H13v10a1 1 0 01-1 1H4a1 1 0 01-1-1V4h-.5a.5.5 0 010-1zM12 4H4v10h8zM7 6v6H6V6zm3 0v6H9V6zm-.5-5a.5.5 0 010 1h-3a.5.5 0 010-1z",fill:"currentColor"}))}Wm.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function qm(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M9.5 16a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-5-6a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-5-6a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3z",fill:"currentColor",fillRule:"evenodd"}))}qm.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function Gm(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2zm.5 5v4H10v1H6v-1h1.5V7zM8 4a.75.75 0 110 1.5A.75.75 0 018 4z",fill:"currentColor"}))}Gm.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function Km(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M6 1a5 5 0 013.871 8.164l4.483 4.482-.708.708L9.164 9.87A5 5 0 116 1zm0 1a4 4 0 100 8 4 4 0 000-8z",fill:"currentColor"}))}Km.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function Ym(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M11.5 1a2.5 2.5 0 11-1.913 4.11l.024.027-3.73 2.098a2.498 2.498 0 01-.003 1.539l.003-.009 3.73 2.098-.024.027a2.5 2.5 0 11-.465.837l-.003.008L5.39 9.636l.023-.026a2.5 2.5 0 110-3.22l-.024-.027 3.73-2.098A2.5 2.5 0 0111.5 1zm0 10a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm-8-4.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm8-4.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z",fill:"currentColor"}))}Ym.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function Qm(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M13 15a4 4 0 014 4v2H7v-2a4 4 0 014-4zm0 2h-2a2 2 0 00-1.995 1.85L9 19h6a2 2 0 00-1.85-1.995zM7 9v2H6a2 2 0 00-1.995 1.85L4 13h3v2H2v-2a4 4 0 014-4zm11 0a4 4 0 014 4v2h-5v-2h3a2 2 0 00-1.85-1.995L18 11h-1V9zm-6-1a3 3 0 110 6 3 3 0 010-6zm0 2a1 1 0 100 2 1 1 0 000-2zM7 2a3 3 0 110 6 3 3 0 010-6zm10 0a3 3 0 110 6 3 3 0 010-6zM7 4a1 1 0 100 2 1 1 0 000-2zm10 0a1 1 0 100 2 1 1 0 000-2z",fill:"currentColor"}))}Qm.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function Jm(s){let{color:e,dataTest:t,ariaLabel:n}=s;return y.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":t},y.createElement("path",{d:"M12 3a9 9 0 110 18 9 9 0 010-18zm0 2a6.967 6.967 0 00-3.848 1.152l.494.494a.5.5 0 00.708 0l.5-.5A.5.5 0 0110.207 6h.859a.5.5 0 01.416.777l-1.434 2.15a.5.5 0 00-.069.157l-.384 1.537A.5.5 0 019.11 11H8.5a.5.5 0 01-.5-.5V10a.414.414 0 00-.707-.293l-.94.94a.5.5 0 000 .707l1.5 1.5a.5.5 0 00.354.146h1.484a.5.5 0 01.447.276l.75 1.5a.5.5 0 010 .448L9.275 18.45c.838.354 1.759.55 2.725.55a6.968 6.968 0 004.026-1.273.43.43 0 01-.026-.152V15.36a.5.5 0 00-.342-.474l-2.184-.728a.5.5 0 01-.316-.632l.728-2.184A.5.5 0 0114.36 11h4.57a6.951 6.951 0 00-.712-2.218l-.928.928a.5.5 0 01-.631.063l-2.243-1.496a.5.5 0 01-.139-.693l1.133-1.699A6.968 6.968 0 0012 5zm-7 7.009a6.98 6.98 0 002.435 5.298l-.398-1.195a.5.5 0 00-.12-.195l-.77-.77A.5.5 0 016 14.792v-1.586a.5.5 0 00-.146-.353l-.797-.797z",fill:"currentColor"}))}Jm.propTypes={color:p.string,dataTest:p.string,ariaLabel:p.string};function Be(){return Be=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Be.apply(null,arguments)}function Pr(s,e){if(s==null)return{};var t={};for(var n in s)if({}.hasOwnProperty.call(s,n)){if(e.includes(n))continue;t[n]=s[n]}return t}var jw=46,Iw=/\\(\\)?/g,$w=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),_w=function(e){var t=[];return e.charCodeAt(0)===jw&&t.push(""),e.replace($w,function(n,r,i,a){var o=n;i?o=a.replace(Iw,"$1"):r&&(o=r.trim()),t.push(o)}),t},sa={},Fw=/[.[\]]+/,Zm=function(e){if(e==null||!e.length)return[];if(typeof e!="string")throw new Error("toPath() expects a string");return sa[e]==null&&(e.endsWith("[]")?sa[e]=e.split(Fw).filter(Boolean):sa[e]=_w(e)),sa[e]},Ye=function(e,t){for(var n=Zm(t),r=e,i=0;i<n.length;i++){var a=n[i];if(r==null||typeof r!="object"||Array.isArray(r)&&isNaN(a))return;r=r[a]}return r};function Vw(s){var e=Uw(s,"string");return typeof e=="symbol"?e:String(e)}function Uw(s,e){if(typeof s!="object"||s===null)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var n=t.call(s,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var Hw=function s(e,t,n,r,i){if(t>=n.length)return r;var a=n[t];if(isNaN(a)){var o;if(e==null){var l,c=s(void 0,t+1,n,r,i);return c===void 0?void 0:(l={},l[a]=c,l)}if(Array.isArray(e))throw new Error("Cannot set a non-numeric property on an array");var u=s(e[a],t+1,n,r,i);if(u===void 0){var d=Object.keys(e).length;if(e[a]===void 0&&d===0)return;if(e[a]!==void 0&&d<=1)return!isNaN(n[t-1])&&!i?{}:void 0;e[a];var h=Pr(e,[a].map(Vw));return h}return Be({},e,(o={},o[a]=u,o))}var f=Number(a);if(e==null){var m=s(void 0,t+1,n,r,i);if(m===void 0)return;var g=[];return g[f]=m,g}if(!Array.isArray(e))throw new Error("Cannot set a numeric property on an object");var v=e[f],b=s(v,t+1,n,r,i),C=[].concat(e);if(i&&b===void 0){if(C.splice(f,1),C.length===0)return}else C[f]=b;return C},Gt=function(e,t,n,r){if(r===void 0&&(r=!1),e==null)throw new Error("Cannot call setIn() with "+String(e)+" state");if(t==null)throw new Error("Cannot call setIn() with "+String(t)+" key");return Hw(e,0,Zm(t),n,r)},ch="FINAL_FORM/form-error",si="FINAL_FORM/array-error";function uh(s,e){var t=s.errors,n=s.initialValues,r=s.lastSubmittedValues,i=s.submitErrors,a=s.submitFailed,o=s.submitSucceeded,l=s.submitting,c=s.values,u=e.active,d=e.blur,h=e.change,f=e.data,m=e.focus,g=e.modified,v=e.modifiedSinceLastSubmit,b=e.name,C=e.touched,A=e.validating,E=e.visited,x=Ye(c,b),R=Ye(t,b);R&&R[si]&&(R=R[si]);var O=i&&Ye(i,b),z=n&&Ye(n,b),M=e.isEqual(z,x),$=!!(r&&!e.isEqual(Ye(r,b),x)),W=!R&&!O;return{active:u,blur:d,change:h,data:f,dirty:!M,dirtySinceLastSubmit:$,error:R,focus:m,initial:z,invalid:!W,length:Array.isArray(x)?x.length:void 0,modified:g,modifiedSinceLastSubmit:v,name:b,pristine:M,submitError:O,submitFailed:a,submitSucceeded:o,submitting:l,touched:C,valid:W,value:x,visited:E,validating:A}}var Xm=["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","value","visited","validating"],Ss=function(e,t){if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),a=0;a<n.length;a++){var o=n[a];if(!i(o)||e[o]!==t[o])return!1}return!0};function eg(s,e,t,n,r,i){var a=!1;return r.forEach(function(o){n[o]&&(s[o]=e[o],(!t||(~i.indexOf(o)?!Ss(e[o],t[o]):e[o]!==t[o]))&&(a=!0))}),a}var Ww=["data"],qw=function(e,t,n,r){var i={blur:e.blur,change:e.change,focus:e.focus,name:e.name},a=eg(i,e,t,n,Xm,Ww)||!t;return a||r?i:void 0},tg=["active","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitting","submitError","submitErrors","submitFailed","submitSucceeded","touched","valid","validating","values","visited"],Gw=["touched","visited"];function dh(s,e,t,n){var r={},i=eg(r,s,e,t,tg,Gw)||!e;return i||n?r:void 0}var hh=function(e){var t,n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(!t||i.length!==t.length||i.some(function(o,l){return!Ss(t[l],o)}))&&(t=i,n=e.apply(void 0,i)),n}},Ol=function(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"},Kw="4.20.10",Yw=function(e,t){return e===t},sr=function s(e){return Object.keys(e).some(function(t){var n=e[t];return n&&typeof n=="object"&&!(n instanceof Error)?s(n):typeof n<"u"})};function Qw(s){var e=s.active,t=s.dirtySinceLastSubmit,n=s.modifiedSinceLastSubmit,r=s.error,i=s.errors,a=s.initialValues,o=s.pristine,l=s.submitting,c=s.submitFailed,u=s.submitSucceeded,d=s.submitError,h=s.submitErrors,f=s.valid,m=s.validating,g=s.values;return{active:e,dirty:!o,dirtySinceLastSubmit:t,modifiedSinceLastSubmit:n,error:r,errors:i,hasSubmitErrors:!!(d||h&&sr(h)),hasValidationErrors:!!(r||sr(i)),invalid:!f,initialValues:a,pristine:o,submitting:l,submitFailed:c,submitSucceeded:u,submitError:d,submitErrors:h,valid:f,validating:m>0,values:g}}function sg(s,e,t,n,r,i){var a=r(t,n,e,i);return a?(s(a),!0):!1}function fh(s,e,t,n,r){var i=s.entries;Object.keys(i).forEach(function(a){var o=i[Number(a)];if(o){var l=o.subscription,c=o.subscriber,u=o.notified;sg(c,l,e,t,n,r||!u)&&(o.notified=!0)}})}function Jw(s){if(!s)throw new Error("No config specified");var e=s.debug,t=s.destroyOnUnregister,n=s.keepDirtyOnReinitialize,r=s.initialValues,i=s.mutators,a=s.onSubmit,o=s.validate,l=s.validateOnBlur;if(!a)throw new Error("No onSubmit function specified");var c={subscribers:{index:0,entries:{}},fieldSubscribers:{},fields:{},formState:{asyncErrors:{},dirtySinceLastSubmit:!1,modifiedSinceLastSubmit:!1,errors:{},initialValues:r&&Be({},r),invalid:!1,pristine:!0,submitting:!1,submitFailed:!1,submitSucceeded:!1,resetWhileSubmitting:!1,valid:!0,validating:0,values:r?Be({},r):{}},lastFormState:void 0},u=0,d=!1,h=!1,f=!1,m=0,g={},v=function(N){return function(j){return delete g[N],j}},b=function(N,j,F){var U=Ye(N.formState.values,j),ae=F(U);N.formState.values=Gt(N.formState.values,j,ae)||{}},C=function(N,j,F){if(N.fields[j]){var U,ae;N.fields=Be({},N.fields,(U={},U[F]=Be({},N.fields[j],{name:F,blur:function(){return ue.blur(F)},change:function(he){return ue.change(F,he)},focus:function(){return ue.focus(F)},lastFieldState:void 0}),U)),delete N.fields[j],N.fieldSubscribers=Be({},N.fieldSubscribers,(ae={},ae[F]=N.fieldSubscribers[j],ae)),delete N.fieldSubscribers[j];var be=Ye(N.formState.values,j);N.formState.values=Gt(N.formState.values,j,void 0)||{},N.formState.values=Gt(N.formState.values,F,be),delete N.lastFormState}},A=function(N){return function(){if(i){for(var j={formState:c.formState,fields:c.fields,fieldSubscribers:c.fieldSubscribers,lastFormState:c.lastFormState},F=arguments.length,U=new Array(F),ae=0;ae<F;ae++)U[ae]=arguments[ae];var be=i[N](U,j,{changeValue:b,getIn:Ye,renameField:C,resetFieldState:ue.resetFieldState,setIn:Gt,shallowEqual:Ss});return c.formState=j.formState,c.fields=j.fields,c.fieldSubscribers=j.fieldSubscribers,c.lastFormState=j.lastFormState,z(void 0,function(){M(),re()}),be}}},E=i?Object.keys(i).reduce(function(ne,N){return ne[N]=A(N),ne},{}):{},x=function(N){var j=[];if(o){var F=o(Be({},c.formState.values));Ol(F)?j.push(F.then(function(U){return N(U,!0)})):N(F,!1)}return j},R=function(N){return Object.keys(N.validators).reduce(function(j,F){var U=N.validators[Number(F)]();return U&&j.push(U),j},[])},O=function(N,j){var F=[],U=R(N);if(U.length){var ae;U.forEach(function(be){var xe=be(Ye(c.formState.values,N.name),c.formState.values,be.length===0||be.length===3?uh(c.formState,c.fields[N.name]):void 0);if(xe&&Ol(xe)){N.validating=!0;var he=xe.then(function(fe){c.fields[N.name]&&(c.fields[N.name].validating=!1,j(fe))});F.push(he)}else ae||(ae=xe)}),j(ae)}return F},z=function(N,j){if(d){h=!0,j();return}var F=c.fields,U=c.formState,ae=Be({},F),be=Object.keys(ae);if(!o&&!be.some(function(ps){return R(ae[ps]).length})){j();return}var xe=!1;if(N){var he=ae[N];if(he){var fe=he.validateFields;fe&&(xe=!0,be=fe.length?fe.concat(N):[N])}}var ze={},Ge={},Je={},Rt=[].concat(x(function(ps,Pt){Pt?Ge=ps||{}:ze=ps||{}}),be.reduce(function(ps,Pt){return ps.concat(O(F[Pt],function(bt){Je[Pt]=bt}))},[])),ke=Rt.length>0,_e=++m,_t=Promise.all(Rt).then(v(_e));ke&&(g[_e]=_t);var Gn=function(Pt){var bt=Be({},xe?U.errors:{},ze,Pt?Ge:U.asyncErrors),Or=function(yt){be.forEach(function(ct){if(F[ct]){var Gs=Ye(ze,ct),zr=Ye(bt,ct),Nl=R(ae[ct]).length,ms=Je[ct];yt(ct,Nl&&ms||o&&Gs||(!Gs&&!xe?zr:void 0))}})};Or(function(Ls,yt){bt=Gt(bt,Ls,yt)||{}}),Or(function(Ls,yt){if(yt&&yt[si]){var ct=Ye(bt,Ls),Gs=[].concat(ct);Gs[si]=yt[si],bt=Gt(bt,Ls,Gs)}}),Ss(U.errors,bt)||(U.errors=bt),Pt&&(U.asyncErrors=Ge),U.error=ze[ch]};if(ke&&(c.formState.validating++,j()),Gn(!1),j(),ke){var wn=function(){c.formState.validating--,j(),c.formState.validating===0&&c.lastFormState.validating&&re()};_t.then(function(){m>_e||Gn(!0)}).then(wn,wn)}},M=function(N){if(!u){var j=c.fields,F=c.fieldSubscribers,U=c.formState,ae=Be({},j),be=function(he){var fe=ae[he],ze=uh(U,fe),Ge=fe.lastFieldState;fe.lastFieldState=ze;var Je=F[he];Je&&fh(Je,ze,Ge,qw,Ge===void 0)};N?be(N):Object.keys(ae).forEach(be)}},$=function(){Object.keys(c.fields).forEach(function(N){c.fields[N].touched=!0})},W=function(){return!!(c.formState.error||sr(c.formState.errors))},V=function(){var N=c.fields,j=c.formState,F=c.lastFormState,U=Be({},N),ae=Object.keys(U),be=!1,xe=ae.reduce(function(ke,_e){var _t=!U[_e].isEqual(Ye(j.values,_e),Ye(j.initialValues||{},_e));return _t&&(be=!0,ke[_e]=!0),ke},{}),he=ae.reduce(function(ke,_e){var _t=j.lastSubmittedValues||{};return U[_e].isEqual(Ye(j.values,_e),Ye(_t,_e))||(ke[_e]=!0),ke},{});j.pristine=!be,j.dirtySinceLastSubmit=!!(j.lastSubmittedValues&&Object.values(he).some(function(ke){return ke})),j.modifiedSinceLastSubmit=!!(j.lastSubmittedValues&&Object.keys(U).some(function(ke){return U[ke].modifiedSinceLastSubmit})),j.valid=!j.error&&!j.submitError&&!sr(j.errors)&&!(j.submitErrors&&sr(j.submitErrors));var fe=Qw(j),ze=ae.reduce(function(ke,_e){return ke.modified[_e]=U[_e].modified,ke.touched[_e]=U[_e].touched,ke.visited[_e]=U[_e].visited,ke},{modified:{},touched:{},visited:{}}),Ge=ze.modified,Je=ze.touched,Rt=ze.visited;return fe.dirtyFields=F&&Ss(F.dirtyFields,xe)?F.dirtyFields:xe,fe.dirtyFieldsSinceLastSubmit=F&&Ss(F.dirtyFieldsSinceLastSubmit,he)?F.dirtyFieldsSinceLastSubmit:he,fe.modified=F&&Ss(F.modified,Ge)?F.modified:Ge,fe.touched=F&&Ss(F.touched,Je)?F.touched:Je,fe.visited=F&&Ss(F.visited,Rt)?F.visited:Rt,F&&Ss(F,fe)?F:fe},Z=function(){return e&&!0&&e(V(),Object.keys(c.fields).reduce(function(N,j){return N[j]=c.fields[j],N},{}))},q=!1,Q=!1,re=function ne(){if(q)Q=!0;else{if(q=!0,Z(),!u&&!(d&&f)){var N=c.lastFormState,j=V();j!==N&&(c.lastFormState=j,fh(c.subscribers,j,N,dh))}q=!1,Q&&(Q=!1,ne())}},de=function(){return Object.keys(c.fields).some(function(N){return c.fields[N].beforeSubmit&&c.fields[N].beforeSubmit()===!1})},ge=function(){return Object.keys(c.fields).forEach(function(N){return c.fields[N].afterSubmit&&c.fields[N].afterSubmit()})},G=function(){return Object.keys(c.fields).forEach(function(N){return c.fields[N].modifiedSinceLastSubmit=!1})};z(void 0,function(){re()});var ue={batch:function(N){u++,N(),u--,M(),re()},blur:function(N){var j=c.fields,F=c.formState,U=j[N];U&&(delete F.active,j[N]=Be({},U,{active:!1,touched:!0}),l?z(N,function(){M(),re()}):(M(),re()))},change:function(N,j){var F=c.fields,U=c.formState;if(Ye(U.values,N)!==j){b(c,N,function(){return j});var ae=F[N];ae&&(F[N]=Be({},ae,{modified:!0,modifiedSinceLastSubmit:!!U.lastSubmittedValues})),l?(M(),re()):z(N,function(){M(),re()})}},get destroyOnUnregister(){return!!t},set destroyOnUnregister(ne){t=ne},focus:function(N){var j=c.fields[N];j&&!j.active&&(c.formState.active=N,j.active=!0,j.visited=!0,M(),re())},mutators:E,getFieldState:function(N){var j=c.fields[N];return j&&j.lastFieldState},getRegisteredFields:function(){return Object.keys(c.fields)},getState:function(){return V()},initialize:function(N){var j=c.fields,F=c.formState,U=Be({},j),ae=typeof N=="function"?N(F.values):N;n||(F.values=ae);var be=n?Object.keys(U).reduce(function(xe,he){var fe=U[he],ze=fe.isEqual(Ye(F.values,he),Ye(F.initialValues||{},he));return ze||(xe[he]=Ye(F.values,he)),xe},{}):{};F.initialValues=ae,F.values=ae,Object.keys(be).forEach(function(xe){F.values=Gt(F.values,xe,be[xe])||{}}),z(void 0,function(){M(),re()})},isValidationPaused:function(){return d},pauseValidation:function(N){N===void 0&&(N=!0),d=!0,f=N},registerField:function(N,j,F,U){F===void 0&&(F={}),c.fieldSubscribers[N]||(c.fieldSubscribers[N]={index:0,entries:{}});var ae=c.fieldSubscribers[N].index++;c.fieldSubscribers[N].entries[ae]={subscriber:hh(j),subscription:F,notified:!1};var be=c.fields[N]||{active:!1,afterSubmit:U&&U.afterSubmit,beforeSubmit:U&&U.beforeSubmit,data:U&&U.data||{},isEqual:U&&U.isEqual||Yw,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,name:N,touched:!1,valid:!0,validateFields:U&&U.validateFields,validators:{},validating:!1,visited:!1};be.blur=be.blur||function(){return ue.blur(N)},be.change=be.change||function(Ge){return ue.change(N,Ge)},be.focus=be.focus||function(){return ue.focus(N)},c.fields[N]=be;var xe=!1,he=U&&U.silent,fe=function(){he&&c.fields[N]?M(N):(re(),M())};if(U){xe=!!(U.getValidator&&U.getValidator()),U.getValidator&&(c.fields[N].validators[ae]=U.getValidator);var ze=Ye(c.formState.values,N)===void 0;U.initialValue!==void 0&&(ze||Ye(c.formState.values,N)===Ye(c.formState.initialValues,N))&&(c.formState.initialValues=Gt(c.formState.initialValues||{},N,U.initialValue),c.formState.values=Gt(c.formState.values,N,U.initialValue),z(void 0,fe)),U.defaultValue!==void 0&&U.initialValue===void 0&&Ye(c.formState.initialValues,N)===void 0&&ze&&(c.formState.values=Gt(c.formState.values,N,U.defaultValue))}return xe?z(void 0,fe):fe(),function(){var Ge=!1;c.fields[N]&&(Ge=!!(c.fields[N].validators[ae]&&c.fields[N].validators[ae]()),delete c.fields[N].validators[ae]);var Je=!!c.fieldSubscribers[N];Je&&delete c.fieldSubscribers[N].entries[ae];var Rt=Je&&!Object.keys(c.fieldSubscribers[N].entries).length;Rt&&(delete c.fieldSubscribers[N],delete c.fields[N],Ge&&(c.formState.errors=Gt(c.formState.errors,N,void 0)||{}),t&&(c.formState.values=Gt(c.formState.values,N,void 0,!0)||{})),he||(Ge?z(void 0,function(){re(),M()}):Rt&&re())}},reset:function(N){N===void 0&&(N=c.formState.initialValues),c.formState.submitting&&(c.formState.resetWhileSubmitting=!0),c.formState.submitFailed=!1,c.formState.submitSucceeded=!1,delete c.formState.submitError,delete c.formState.submitErrors,delete c.formState.lastSubmittedValues,ue.initialize(N||{})},resetFieldState:function(N){c.fields[N]=Be({},c.fields[N],{active:!1,lastFieldState:void 0,modified:!1,touched:!1,valid:!0,validating:!1,visited:!1}),z(void 0,function(){M(),re()})},restart:function(N){N===void 0&&(N=c.formState.initialValues),ue.batch(function(){for(var j in c.fields)ue.resetFieldState(j),c.fields[j]=Be({},c.fields[j],{active:!1,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,touched:!1,valid:!0,validating:!1,visited:!1});ue.reset(N)})},resumeValidation:function(){d=!1,f=!1,h&&z(void 0,function(){M(),re()}),h=!1},setConfig:function(N,j){switch(N){case"debug":e=j;break;case"destroyOnUnregister":t=j;break;case"initialValues":ue.initialize(j);break;case"keepDirtyOnReinitialize":n=j;break;case"mutators":i=j,j?(Object.keys(E).forEach(function(F){F in j||delete E[F]}),Object.keys(j).forEach(function(F){E[F]=A(F)})):Object.keys(E).forEach(function(F){delete E[F]});break;case"onSubmit":a=j;break;case"validate":o=j,z(void 0,function(){M(),re()});break;case"validateOnBlur":l=j;break;default:throw new Error("Unrecognised option "+N)}},submit:function(){var N=c.formState;if(!N.submitting){if(delete N.submitErrors,delete N.submitError,N.lastSubmittedValues=Be({},N.values),W()){$(),G(),c.formState.submitFailed=!0,re(),M();return}var j=Object.keys(g);if(j.length){Promise.all(j.map(function(he){return g[Number(he)]})).then(ue.submit,console.error);return}var F=de();if(!F){var U,ae=!1,be=function(fe){N.submitting=!1;var ze=N.resetWhileSubmitting;return ze&&(N.resetWhileSubmitting=!1),fe&&sr(fe)?(N.submitFailed=!0,N.submitSucceeded=!1,N.submitErrors=fe,N.submitError=fe[ch],$()):(ze||(N.submitFailed=!1,N.submitSucceeded=!0),ge()),re(),M(),ae=!0,U&&U(fe),fe};N.submitting=!0,N.submitFailed=!1,N.submitSucceeded=!1,N.lastSubmittedValues=Be({},N.values),G();var xe=a(N.values,ue,be);if(!ae){if(xe&&Ol(xe))return re(),M(),xe.then(be,function(he){throw be(),he});if(a.length>=3)return re(),M(),new Promise(function(he){U=he});be(xe)}}}},subscribe:function(N,j){if(!N)throw new Error("No callback given.");if(!j)throw new Error("No subscription provided. What values do you want to listen to?");var F=hh(N),U=c.subscribers,ae=U.index++;U.entries[ae]={subscriber:F,subscription:j,notified:!1};var be=V();return sg(F,j,be,be,dh,!0),function(){delete U.entries[ae]}}};return ue}var Zw=["render","children","component"];function td(s,e,t){var n=s.render,r=s.children,i=s.component,a=Pr(s,Zw);if(i)return y.createElement(i,Object.assign(e,a,{children:r,render:n}));if(n)return n(r===void 0?Object.assign(e,a):Object.assign(e,a,{children:r}));if(typeof r!="function")throw new Error("Must specify either a render prop, a render function as children, or a component prop to "+t);return r(Object.assign(e,a))}function Ks(s,e,t){t===void 0&&(t=function(i,a){return i===a});var n=w.useRef(s);w.useEffect(function(){t(s,n.current)||(e(),n.current=s)})}function Xw(s){var e=w.useRef();return e.current||(e.current=s()),e.current}var ph=function(e,t){if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),a=0;a<n.length;a++){var o=n[a];if(!i(o)||e[o]!==t[o])return!1}return!0},ng=function(e){return!!(e&&typeof e.stopPropagation=="function")},rg=y.createContext();function ig(s){var e=w.useRef(s);return w.useEffect(function(){e.current=s}),e}var ag="6.5.8",og=function(e,t,n){n.forEach(function(r){Object.defineProperty(e,r,{get:function(){return t[r]},enumerable:!0})})},lg=function(e,t){return og(e,t,["active","dirty","dirtyFields","dirtySinceLastSubmit","dirtyFieldsSinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touched","valid","validating","values","visited"])},ex=function(e,t){return og(e,t,["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","validating","visited"])},tx=["debug","decorators","destroyOnUnregister","form","initialValues","initialValuesEqual","keepDirtyOnReinitialize","mutators","onSubmit","subscription","validate","validateOnBlur"],sx={"final-form":Kw,"react-final-form":ag},cg=tg.reduce(function(s,e){return s[e]=!0,s},{});function ug(s){var e=s.debug,t=s.decorators,n=t===void 0?[]:t,r=s.destroyOnUnregister,i=s.form,a=s.initialValues,o=s.initialValuesEqual,l=s.keepDirtyOnReinitialize,c=s.mutators,u=s.onSubmit,d=s.subscription,h=d===void 0?cg:d,f=s.validate,m=s.validateOnBlur,g=Pr(s,tx),v={debug:e,destroyOnUnregister:r,initialValues:a,keepDirtyOnReinitialize:l,mutators:c,onSubmit:u,validate:f,validateOnBlur:m},b=Xw(function(){var z=i||Jw(v);return z.pauseValidation(),z}),C=y.useState(function(){var z={};return b.subscribe(function(M){z=M},h)(),z}),A=C[0],E=C[1],x=ig(A);y.useEffect(function(){b.isValidationPaused()&&b.resumeValidation();var z=[b.subscribe(function(M){ph(M,x.current)||E(M)},h)].concat(n?n.map(function(M){return M(b)}):[]);return function(){b.pauseValidation(),z.reverse().forEach(function(M){return M()})}},n),Ks(e,function(){b.setConfig("debug",e)}),Ks(r,function(){b.destroyOnUnregister=!!r}),Ks(l,function(){b.setConfig("keepDirtyOnReinitialize",l)}),Ks(a,function(){b.setConfig("initialValues",a)},o||ph),Ks(c,function(){b.setConfig("mutators",c)}),Ks(u,function(){b.setConfig("onSubmit",u)}),Ks(f,function(){b.setConfig("validate",f)}),Ks(m,function(){b.setConfig("validateOnBlur",m)});var R=function(M){return M&&(typeof M.preventDefault=="function"&&M.preventDefault(),typeof M.stopPropagation=="function"&&M.stopPropagation()),b.submit()},O={form:Be({},b,{reset:function(M){ng(M)?b.reset():b.reset(M)}}),handleSubmit:R};return lg(O,A),y.createElement(rg.Provider,{value:b},td(Be({},g,{__versions:sx}),O,"ReactFinalForm"))}function Qo(s){var e=y.useContext(rg);if(!e)throw new Error((s||"useForm")+" must be used inside of a <Form> component");return e}function dg(s){var e=s===void 0?{}:s,t=e.onChange,n=e.subscription,r=n===void 0?cg:n,i=Qo("useFormState"),a=y.useRef(!0),o=y.useRef(t);o.current=t;var l=y.useState(function(){var h={};return i.subscribe(function(f){h=f},r)(),t&&t(h),h}),c=l[0],u=l[1];y.useEffect(function(){return i.subscribe(function(h){a.current?a.current=!1:(u(h),o.current&&o.current(h))},r)},[]);var d={};return lg(d,c),d}var nx=["onChange","subscription"];function hg(s){var e=s.onChange,t=s.subscription,n=Pr(s,nx),r=Qo("FormSpy"),i=dg({onChange:e,subscription:t});if(e)return null;var a={form:Be({},r,{reset:function(l){ng(l)?r.reset():r.reset(l)}})};return td(Be({},n,a),i,"FormSpy")}var rx=typeof window<"u"&&window.navigator&&window.navigator.product&&window.navigator.product==="ReactNative",ix=function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n];r.selected&&t.push(r.value)}return t},ax=function(e,t,n,r){if(!r&&e.nativeEvent&&e.nativeEvent.text!==void 0||r&&e.nativeEvent)return e.nativeEvent.text;var i=e,a=i.target,o=a.type,l=a.value,c=a.checked;switch(o){case"checkbox":if(n!==void 0){if(c)return Array.isArray(t)?t.concat(n):[n];if(!Array.isArray(t))return t;var u=t.indexOf(n);return u<0?t:t.slice(0,u).concat(t.slice(u+1))}else return!!c;case"select-multiple":return ix(e.target.options);default:return l}};function zl(s){var e=y.useRef(s);return y.useEffect(function(){e.current=s}),y.useCallback(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.current.apply(null,n)},[])}var ox=Xm.reduce(function(s,e){return s[e]=!0,s},{}),Ll=function(e,t){return e===void 0?"":e},lx=function(e,t){return e===""?void 0:e},cx=function(e,t){return e===t};function fg(s,e){e===void 0&&(e={});var t=e,n=t.afterSubmit,r=t.allowNull,i=t.component,a=t.data,o=t.defaultValue,l=t.format,c=l===void 0?Ll:l,u=t.formatOnBlur,d=t.initialValue,h=t.multiple,f=t.parse,m=f===void 0?lx:f,g=t.subscription,v=g===void 0?ox:g,b=t.type,C=t.validateFields,A=t.value,E=Qo("useField"),x=ig(e),R=function(Q,re){return E.registerField(s,Q,v,{afterSubmit:n,beforeSubmit:function(){var ge=x.current,G=ge.beforeSubmit,ue=ge.formatOnBlur,ne=ge.format,N=ne===void 0?Ll:ne;if(ue){var j=E.getFieldState(s),F=j.value,U=N(F,s);U!==F&&E.change(s,U)}return G&&G()},data:a,defaultValue:o,getValidator:function(){return x.current.validate},initialValue:d,isEqual:function(ge,G){return(x.current.isEqual||cx)(ge,G)},silent:re,validateFields:C})},O=y.useRef(!0),z=y.useState(function(){var q={},Q=E.destroyOnUnregister;return E.destroyOnUnregister=!1,R(function(re){q=re},!0)(),E.destroyOnUnregister=Q,q}),M=z[0],$=z[1];y.useEffect(function(){return R(function(q){O.current?O.current=!1:$(q)},!1)},[s,a,o,d]);var W={};ex(W,M);var V={name:s,get value(){var q=M.value;return u?i==="input"&&(q=Ll(q)):q=c(q,s),q===null&&!r&&(q=""),b==="checkbox"||b==="radio"?A:i==="select"&&h?q||[]:q},get checked(){var q=M.value;if(b==="checkbox")return q=c(q,s),A===void 0?!!q:!!(Array.isArray(q)&&~q.indexOf(A));if(b==="radio")return c(q,s)===A},onBlur:zl(function(q){if(M.blur(),u){var Q=E.getFieldState(M.name);M.change(c(Q.value,M.name))}}),onChange:zl(function(q){var Q=q&&q.target?ax(q,M.value,A,rx):q;M.change(m(Q,s))}),onFocus:zl(function(q){return M.focus()})};h&&(V.multiple=h),b!==void 0&&(V.type=b);var Z={input:V,meta:W};return Z}var ux=["afterSubmit","allowNull","beforeSubmit","children","component","data","defaultValue","format","formatOnBlur","initialValue","isEqual","multiple","name","parse","subscription","type","validate","validateFields","value"],dx=y.forwardRef(function(e,t){var n=e.afterSubmit,r=e.allowNull,i=e.beforeSubmit,a=e.children,o=e.component,l=e.data,c=e.defaultValue,u=e.format,d=e.formatOnBlur,h=e.initialValue,f=e.isEqual,m=e.multiple,g=e.name,v=e.parse,b=e.subscription,C=e.type,A=e.validate,E=e.validateFields,x=e.value,R=Pr(e,ux),O=fg(g,{afterSubmit:n,allowNull:r,beforeSubmit:i,children:a,component:o,data:l,defaultValue:c,format:u,formatOnBlur:d,initialValue:h,isEqual:f,multiple:m,parse:v,subscription:b,type:C,validate:A,validateFields:E,value:x});if(typeof a=="function")return a(Be({},O,R));if(typeof o=="string")return y.createElement(o,Be({},O.input,{children:a,ref:t},R));if(!g)throw new Error("prop name cannot be undefined in <Field> component");return td(Be({children:a,component:o,ref:t},R),O,"Field("+g+")")});function hx(){return{Form:ug,FormSpy:hg}}const pg=Object.freeze(Object.defineProperty({__proto__:null,Field:dx,Form:ug,FormSpy:hg,useField:fg,useForm:Qo,useFormState:dg,version:ag,withTypes:hx},Symbol.toStringTag,{value:"Module"})),fx=(s,e)=>(t,n)=>{s.onBlur(n),e&&typeof e=="function"&&e(t,n)},px=new Set(["string","number","boolean"]),mx=s=>{let{onChange:e}=s;return t=>{if(t&&"value"in t)e(t.value);else if(t&&t.target&&"value"in t.target)e(t.target.value);else if(px.has(typeof t))e(t);else throw new Error("Could not process event payload")}},gx=(s,e)=>(t,n)=>{s.onFocus(n),e&&typeof e=="function"&&e(t,n)},mg=(s,e)=>e||s.touched&&s.invalid,vx=(s,e,t)=>{if(e)return e;if(mg(s,t)){if(s.error)return s.error;if(s.submitError)return s.submitError}return""},bx=(s,e,t)=>e||t&&s.validating,yx=(s,e,t)=>e||t&&s.touched&&s.valid;p.arrayOf(p.shape({label:p.string.isRequired,value:p.string.isRequired}));const wx=p.shape({name:p.string.isRequired,onChange:p.func.isRequired,value:p.any,onBlur:p.func,onFocus:p.func}),xx=p.shape({error:p.string,invalid:p.bool,touched:p.bool,valid:p.bool,validating:p.bool}),Sx="إزلة",kx={"Upload file":"تحميل الملف","Upload files":"تحميل الملفات",Remove:Sx,"Please provide an alpha-numeric value":"","Please provide a boolean value":"يرجى إدخال قيمة منطقية","Please enter between {{lowerBound}} and {{upperBound}} characters":"الرجاء إدخال ما بين {{lowerBound}} و {{upperBound}} حرف",'Please make sure the value of this input matches the value in "{{otherField}}".':'الرجاء التأكد من أن قيمة مربع الإدخال هذا تطابق القيمة الموجودة في "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"الرجاء إدخال {{upperBound}} حرف كحد أقصى","Please enter a number with a maximum of {{upperBound}}":"الرجاء إدخال رقم بحد أقصى {{upperBound}}","Please enter at least {{lowerBound}} characters":"الرجاء إدخال {{lowerBound}} حرفًا على الأقل","Please enter a number of at least {{lowerBound}}":"الرجاء إدخال رقم لا يقل عن {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"لا يمكن أن يكون الرقم أقل من {{lowerBound}} أو أكثر من {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"يجب أن تكون كلمة المرور سلسلة نصية","Password should be at least 8 characters long":"يجب أن تتكون كلمة المرور من 8 أحرف على الأقل","Password should be no longer than 34 characters":"يجب ألا تزيد كلمة المرور عن 34 حرفًا","Password should contain at least one lowercase letter":"يجب أن تحتوي كلمة المرور على حرف صغير واحد على الأقل","Password should contain at least one UPPERCASE letter":"يجب أن تحتوي كلمة المرور على حرف كبير واحد على الأقل","Password should contain at least one number":"يجب أن تحتوي كلمة المرور على رقم واحد على الأقل","Password should have at least one special character":"يجب أن تحتوي كلمة المرور على رمز واحد على الأقل","Please provide a valid email address":"يرجى ادخال صيغة بريد الكتروني سليمة","Please provide a value":"يرجى إدخال قيمة","Please provide a round number without decimals":"","Please provide a valid international phone number.":"يرجى تزويد رقم هاتف دولي صالح.","Please provide a number":"الرجاء تزويد رقم","Please provide a string":"يرجى تزويد سلسلة نصية","Please provide a valid url":"يرجى ادخال صيغة ارتباط url سليمة","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":""},Cx="إزالة",Px={"Upload file":"","Upload files":"",Remove:Cx,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"من فضلك ادخل صيغة بريد الكتروني سليمة","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"يرجى ادخال صيغة ارتباط تشعبي سليمة"},Ax="لابردن",Tx={"Upload file":"","Upload files":"",Remove:Ax,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"تکایە ئیمەیڵێکی درووست بنووسە","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"تکایە یو URLێکی درووست بنووسە"},Ex="Odebrat",Mx={"Upload file":"Nahrát soubor","Upload files":"Nahrát soubory",Remove:Ex,"Please provide an alpha-numeric value":"Uveďte alfanumerickou hodnotu","Please provide a boolean value":"Zadejte prosím booleovskou hodnotu","Please enter between {{lowerBound}} and {{upperBound}} characters":"Zadejte prosím mezi {{lowerBound}} a {{upperBound}} znaky",'Please make sure the value of this input matches the value in "{{otherField}}".':'Zkontrolujte, zda se hodnota tohoto vstupu shoduje s hodnotou v "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"Zadejte prosím maximálně {{upperBound}} znaků","Please enter a number with a maximum of {{upperBound}}":"Zadejte číslo s maximální hodnotou {{upperBound}}","Please enter at least {{lowerBound}} characters":"Zadejte prosím alespoň {{lowerBound}} znaků","Please enter a number of at least {{lowerBound}}":"Zadejte prosím číslo alespoň {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"Číslo nesmí být menší než {{lowerBound}} nebo větší než {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"Ujistěte se, že hodnota tohoto vstupu odpovídá vzoru {{patternString}}.","Password should be a string":"Heslo by mělo být řetězec","Password should be at least 8 characters long":"Heslo by mělo mít alespoň 8 znaků","Password should be no longer than 34 characters":"Heslo by nemělo být delší než 34 znaků","Password should contain at least one lowercase letter":"Heslo by mělo obsahovat alespoň jedno malé písmeno","Password should contain at least one UPPERCASE letter":"Heslo by mělo obsahovat alespoň jedno VELKÉ písmeno","Password should contain at least one number":"Heslo by mělo obsahovat alespoň jedno číslo","Password should have at least one special character":"Heslo by mělo mít alespoň jeden speciální znak","Please provide a valid email address":"Uveďte platnou e-mailovou adresu","Please provide a value":"Zadejte prosím hodnotu","Please provide a round number without decimals":"Uveďte prosím zaokrouhlené číslo bez desetinných míst","Please provide a valid international phone number.":"Zadejte platné mezinárodní telefonní číslo.","Please provide a number":"Uveďte prosím číslo","Please provide a string":"Zadejte řetězec","Please provide a valid url":"Uveďte platnou adresu URL","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":""},Nx="Remove",Rx={"Upload file":"","Upload files":"",Remove:Nx,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},Dx="Remove",Ox={"Upload file":"Upload file","Upload files":"Upload files",Remove:Dx,"Please provide an alpha-numeric value":"Please provide an alpha-numeric value","Please provide a boolean value":"Please provide a boolean value","Please enter between {{lowerBound}} and {{upperBound}} characters":"Please enter between {{lowerBound}} and {{upperBound}} characters",'Please make sure the value of this input matches the value in "{{otherField}}".':'Please make sure the value of this input matches the value in "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"Please enter a maximum of {{upperBound}} characters","Please enter a number with a maximum of {{upperBound}}":"Please enter a number with a maximum of {{upperBound}}","Please enter at least {{lowerBound}} characters":"Please enter at least {{lowerBound}} characters","Please enter a number of at least {{lowerBound}}":"Please enter a number of at least {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"Number cannot be less than {{lowerBound}} or more than {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"Please make sure the value of this input matches the pattern {{patternString}}.","Password should be a string":"Password should be a string","Password should be at least 8 characters long":"Password should be at least 8 characters long","Password should be no longer than 34 characters":"Password should be no longer than 34 characters","Password should contain at least one lowercase letter":"Password should contain at least one lowercase letter","Password should contain at least one UPPERCASE letter":"Password should contain at least one UPPERCASE letter","Password should contain at least one number":"Password should contain at least one number","Password should have at least one special character":"Password should have at least one special character","Please provide a valid email address":"Please provide a valid email address","Please provide a value":"Please provide a value","Please provide a round number without decimals":"Please provide a round number without decimals","Please provide a valid international phone number.":"Please provide a valid international phone number.","Please provide a number":"Please provide a number","Please provide a string":"Please provide a string","Please provide a valid url":"Please provide a valid url","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":"Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @"},zx="Eliminar",Lx={"Upload file":"Subir archivo","Upload files":"Subir archivos",Remove:zx,"Please provide an alpha-numeric value":"Proporcione un valor alfanumérico.","Please provide a boolean value":"Proporcione un valor booleano","Please enter between {{lowerBound}} and {{upperBound}} characters":"Ingresa entre {{lowerBound}} y {{upperBound}} caracteres",'Please make sure the value of this input matches the value in "{{otherField}}".':'Asegúrese de que el valor de este campo coincida con el valor de "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"Ingrese un máximo de {{upperBound}} caracteres","Please enter a number with a maximum of {{upperBound}}":"Ingrese un número con un máximo de {{upperBound}}","Please enter at least {{lowerBound}} characters":"Ingrese al menos {{lowerBound}} caracteres","Please enter a number of at least {{lowerBound}}":"Ingrese un número de al menos {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"El número no puede ser menor que {{lowerBound}} ni mayor que {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"Asegúrese de que el valor que está poniendo coincida con el patrón {{patternString}}.","Password should be a string":"La contraseña debe ser tipo texto","Password should be at least 8 characters long":"La contraseña debe tener al menos 8 caracteres","Password should be no longer than 34 characters":"La contraseña no debe tener más de 34 caracteres","Password should contain at least one lowercase letter":"La contraseña debe contener al menos una letra minúscula","Password should contain at least one UPPERCASE letter":"La contraseña debe contener al menos una letra MAYÚSCULA","Password should contain at least one number":"La contraseña debe contener al menos un número","Password should have at least one special character":"La contraseña debe tener al menos un carácter especial","Please provide a valid email address":"Por favor proporcione un correo electrónico válido","Please provide a value":"Proporcione un valor","Please provide a round number without decimals":"Por favor, proporcione un número redondo sin decimales","Please provide a valid international phone number.":"Por favor, proporcione un número de teléfono internacional válido.","Please provide a number":"Proporcione un número    ","Please provide a string":"Proporcione una cadena","Please provide a valid url":"Proporcione un enlace válido.","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":"Proporcione un nombre de usuario de entre 4 y 255 caracteres y eventualmente separados por . _ - o @"},Bx="Eliminar",jx={"Upload file":"Cargar archivo","Upload files":"Cargar archivos",Remove:Bx,"Please provide an alpha-numeric value":"Indique un valor alfanumérico","Please provide a boolean value":"Indique un valor booleano","Please enter between {{lowerBound}} and {{upperBound}} characters":"Introduzca entre {{lowerBound}} y {{upperBound}} caracteres",'Please make sure the value of this input matches the value in "{{otherField}}".':'Asegúrese de que el valor de esta entrada coincide con el de "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"Introduzca un máximo de {{upperBound}} caracteres","Please enter a number with a maximum of {{upperBound}}":"Introduzca un número con un máximo de {{upperBound}}","Please enter at least {{lowerBound}} characters":"Introduzca al menos {{lowerBound}} caracteres","Please enter a number of at least {{lowerBound}}":"Introduzca un número de al menos {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"El número no puede ser inferior a {{lowerBound}} ni superior a {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"Asegúrese de que el valor de esta entrada coincide con el patrón {{patternString}}.","Password should be a string":"La contraseña debe ser texto","Password should be at least 8 characters long":"La contraseña debe tener al menos 8 caracteres","Password should be no longer than 34 characters":"La contraseña no debe tener más de 34 caracteres","Password should contain at least one lowercase letter":"La contraseña debe contener al menos una letra minúscula","Password should contain at least one UPPERCASE letter":"La contraseña debe contener al menos una letra MAYÚSCULA","Password should contain at least one number":"La contraseña debe contener al menos un número","Password should have at least one special character":"La contraseña debe tener al menos un carácter especial","Please provide a valid email address":"Por favor ingrese una dirección de correo electrónico válida","Please provide a value":"Indique un valor","Please provide a round number without decimals":"Indique una cifra redonda sin decimales","Please provide a valid international phone number.":"Indique un número de teléfono internacional válido.","Please provide a number":"Indique un número","Please provide a string":"Proporcione una texto","Please provide a valid url":"Proporcione una URL válida","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":"Indique un nombre de usuario de entre 4 y 255 caracteres, posiblemente separados por . o @."},Ix="Supprimer",$x={"Upload file":"Charger fichier","Upload files":"",Remove:Ix,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"Veuillez saisir au moins {{lowerBound}} caractères","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"Le mot de passe doit contenir au moins 8 caractères","Password should be no longer than 34 characters":"Le mot de passe ne doit pas dépasser 34 caractères","Password should contain at least one lowercase letter":"Le mot de passe doit contenir au moins une lettre minuscule","Password should contain at least one UPPERCASE letter":"Le mot de passe doit contenir au moins une lettre MAJUSCULE","Password should contain at least one number":"Le mot de passe doit contenir au moins un chiffre","Password should have at least one special character":"Le mot de passe doit avoir au moins un caractère spécial","Please provide a valid email address":"Veuillez saisir une adresse email valide","Please provide a value":"Veuillez entrer une valeur","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"Veuillez saisir un lien URL valide","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":""},_x="हटाएं",Fx={"Upload file":"","Upload files":"",Remove:_x,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":""},Vx="Hapus",Ux={"Upload file":"","Upload files":"",Remove:Vx,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},Hx="លុបចេញ",Wx={"Upload file":"ផ្ញើឯកសារ","Upload files":"ផ្ញើឯកសារ",Remove:Hx,"Please provide an alpha-numeric value":"បញ្ចូលតែតួអក្សរឬលេខ","Please provide a boolean value":"បញ្ចូលតែឯកតា(boolean)","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"លេខសំងាត់គួរតែជាអក្សរ","Password should be at least 8 characters long":"លេខសំងាត់គួរតែតិចបំផុត៨តួ","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"ផ្តល់ជាតួលេខ","Please provide a string":"","Please provide a valid url":"","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":""},qx="제거",Gx={"Upload file":"","Upload files":"",Remove:qx,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},Kx="ລົບອອກ",Yx={"Upload file":"ອັບໂຫຼດເອກະສານ","Upload files":"ອັບໂຫຼດເອກະສານ",Remove:Kx,"Please provide an alpha-numeric value":"ກະລຸນາລະບຸຄ່າທີ່ເປັນຕົວອັກສອນ ແລະ ຕົວເລກ","Please provide a boolean value":"ກະລຸນາລະບຸຄ່າທີ່ເປັນສູນ","Please enter between {{lowerBound}} and {{upperBound}} characters":"ກະລຸນາຕື່ມລະຫວ່າງຕົວອັກສອນ {{lowerBound}} ແລະ {{upperBound}} ",'Please make sure the value of this input matches the value in "{{otherField}}".':'ກະລຸນາກວດສອບໃຫ້ແນ່ໃຈວ່າຄ່າຂອງຂໍ້ມູນນີ້ກົງກັບຄ່າໃນ " {{otherField}} "',"Please enter a maximum of {{upperBound}} characters":"ກະລຸນາຕື່ມຕົວອັກສອນສູງສຸດ {{upperBound}}","Please enter a number with a maximum of {{upperBound}}":"ກະລຸນາຕື່ມຕົວເລກທີ່ມີຈຳນວນສູງສຸດ {{upperBound}}","Please enter at least {{lowerBound}} characters":"ກະລຸນາຕື່ມຕົວອັກສອນຢ່າງໜ້ອຍ {{lowerBound}} ","Please enter a number of at least {{lowerBound}}":"ກະລຸນາຕື່ມຈຳນວນຢ່າງໜ້ອຍ {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"ຕົວເລກບໍ່ສາມາດໜ້ອຍກວ່າ {{lowerBound}} ຫຼືຫຼາຍກວ່າ {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"ກະລຸນາກວດສອບໃຫ້ແນ່ໃຈວ່າຄ່າຂອງຂໍ້ມູນນີ້ກົງກັບຮູບແບບ {{patternString}} .","Password should be a string":"ລະຫັດຜ່ານຄວນເປັນຕົວອັກສອນ","Password should be at least 8 characters long":"ລະຫັດຜ່ານຄວນມີຢ່າງໜ້ອຍ 8 ຕົວອັກສອນ","Password should be no longer than 34 characters":"ລະຫັດຜ່ານຄວນຈະບໍ່ເກີນ 34 ຕົວອັກສອນ","Password should contain at least one lowercase letter":"ລະຫັດຜ່ານຄວນມີຕົວພິມນ້ອຍຢ່າງໜ້ອຍໜຶ່ງຕົວ","Password should contain at least one UPPERCASE letter":"ລະຫັດຜ່ານຄວນມີຕົວພິມໃຫຍ່ຢ່າງໜ້ອຍໜຶ່ງຕົວ","Password should contain at least one number":"ລະຫັດຜ່ານຄວນມີຢ່າງໜ້ອຍໜຶ່ງຕົວເລກ","Password should have at least one special character":"ລະຫັດຜ່ານຄວນມີຢ່າງໜ້ອຍໜຶ່ງຕົວອັກສອນພິເສດ","Please provide a valid email address":"ກະລຸນາລະບຸທີ່ຢູ່ອີເມວທີ່ຖືກຕ້ອງ","Please provide a value":"ກະລຸນາລະບຸຄ່າ","Please provide a round number without decimals":"ກະ​ລຸ​ນາ​ປ້ອນຈໍາ​ນວນ​ມົນ​ໂດຍ​ບໍ່​ມີ​ຈຸດ","Please provide a valid international phone number.":"ກະລຸນາປ້ອນເບີໂທລະສັບທີ່ຖືກຕ້ອງ","Please provide a number":"ກະລຸນາປ້ອນຕົວເລກ","Please provide a string":"ກະລຸນາປ້ອນຕົວອັກສອນ","Please provide a valid url":"ກະລຸນາປ້ອນ URL ທີ່ຖືກຕ້ອງ","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":"ກະ​ລຸ​ນາ​ປ້ອນຊື່​ຜູ້​ໃຊ້​ລະ​ຫວ່າງ 4 ແລະ 255 ຕົວ​ອັກ​ສອນ​​ ແລະ​ ​ແຍກ​ອອກ​ . _ - ຫຼື @"},Qx="ဖယ်ရှားခြင်း",Jx={"Upload file":"","Upload files":"",Remove:Qx,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},Zx="Fjern",Xx={"Upload file":"Last opp fil","Upload files":"",Remove:Zx,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"Skriv inn minst {{lowerBound}} tegn","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"Passord må inneholde minst 8 karakterer","Password should be no longer than 34 characters":"Passordet kan ikke være lenger enn 34 karakterer","Password should contain at least one lowercase letter":"Passordet må inneholde minst en liten bokstav","Password should contain at least one UPPERCASE letter":"Passordet må inneholdet minst en STOR bokstav","Password should contain at least one number":"Passord må inneholde minst et siffer","Password should have at least one special character":"Passordet skal ha minst ett spesialtegn","Please provide a valid email address":"Vennligst fyll ut en gyldig e-postadresse","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"Oppgi en gyldig url","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":""},e1="Verwijderen",t1={"Upload file":"Upload bestand","Upload files":"Upload bestanden",Remove:e1,"Please provide an alpha-numeric value":"Geef een alfanumerieke waarde op","Please provide a boolean value":"Geef een booleaanse waarde op","Please enter between {{lowerBound}} and {{upperBound}} characters":"Voer tussen {{lowerBound}} en {{upperBound}} tekens in",'Please make sure the value of this input matches the value in "{{otherField}}".':'Zorg ervoor dat de waarde van deze invoer overeenkomt met de waarde in "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"Voer maximaal {{upperBound}} tekens in","Please enter a number with a maximum of {{upperBound}}":"Voer een getal in met een maximum van {{upperBound}}","Please enter at least {{lowerBound}} characters":"Voer ten minste {{lowerBound}} tekens in","Please enter a number of at least {{lowerBound}}":"Voer een getal in van ten minste {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"Getal mag niet kleiner zijn dan {{lowerBound}} of groter dan {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"Zorg ervoor dat de waarde van deze invoer overeenkomt met het patroon {{patternString}}.","Password should be a string":"Wachtwoord moet een tekenreeks zijn","Password should be at least 8 characters long":"Wachtwoord moet minimaal 8 tekens lang zijn","Password should be no longer than 34 characters":"Wachtwoord mag niet langer zijn dan 34 tekens","Password should contain at least one lowercase letter":"Wachtwoord moet minimaal één kleine letter bevatten","Password should contain at least one UPPERCASE letter":"Wachtwoord moet minimaal één HOOFDLETTER bevatten","Password should contain at least one number":"Wachtwoord moet minimaal één cijfer bevatten","Password should have at least one special character":"Wachtwoord moet minimaal één speciaal teken bevatten","Please provide a valid email address":"geef alstublieft een geldig email adres","Please provide a value":"Geef een waarde op","Please provide a round number without decimals":"Geef een rond getal op zonder decimalen","Please provide a valid international phone number.":"Geef een geldig internationaal telefoonnummer op.","Please provide a number":"Geef een nummer op","Please provide a string":"Geef een tekenreeks op","Please provide a valid url":"Geef een geldige URL op","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":"Geef een gebruikersnaam op tussen 4 en 255 tekens lang en eventueel gescheiden door . _ - of @"},s1="حذف",n1={"Upload file":"بارگیری فایل","Upload files":"",Remove:s1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},r1="لرې کول",i1={"Upload file":"فایل پورته کړئ","Upload files":"",Remove:r1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},a1="Remover",o1={"Upload file":"Carregar arquivo","Upload files":"Carregar arquivos",Remove:a1,"Please provide an alpha-numeric value":"Fornecer um valor alfanumérico","Please provide a boolean value":"Forneça um valor booleano","Please enter between {{lowerBound}} and {{upperBound}} characters":"Introduzir entre {{lowerBound}} e {{upperBound}} caracteres",'Please make sure the value of this input matches the value in "{{otherField}}".':'Por favor, certifique-se de que o valor deste campo corresponde ao valor em "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"Introduza um máximo de {{upperBound}} caracteres","Please enter a number with a maximum of {{upperBound}}":"Introduza um número com um máximo de {{upperBound}}","Please enter at least {{lowerBound}} characters":"Introduza pelo menos {{lowerBound}} caracteres","Please enter a number of at least {{lowerBound}}":"Por favor, introduza um número de, pelo menos {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"O número não pode ser inferior a {{lowerBound}} ou superior a {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"Certifique-se de que o valor deste campo corresponde ao padrão {{patternString}}.","Password should be a string":"A senha deve ser uma cadeia de caracteres","Password should be at least 8 characters long":"A senha deve ter pelo menos 8 caracteres","Password should be no longer than 34 characters":"A senha não deve ter mais que 34 caracteres","Password should contain at least one lowercase letter":"A senha deve conter pelo menos uma letra minúscula","Password should contain at least one UPPERCASE letter":"A senha deve conter pelo menos uma letra MAIÚSCULA","Password should contain at least one number":"A senha deve conter pelo menos um número","Password should have at least one special character":"A senha deve ter pelo menos um caractere especial","Please provide a valid email address":"Por favor forneça um endereço de e-mail válido","Please provide a value":"Forneça um valor","Please provide a round number without decimals":"Forneça um número inteiro sem decimais","Please provide a valid international phone number.":"Indique um número de telefone internacional válido.","Please provide a number":"Forneça um número","Please provide a string":"Forneça um texto","Please provide a valid url":"Forneça uma URL válida","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":"Forneça um nome de utilizador com um comprimento entre 4 e 255 caracteres e possivelmente separado por . _ - ou @"},l1="Remover",c1={"Upload file":"Carregar arquivo","Upload files":"",Remove:l1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a valid email address":"","Please provide a value":"Forneça um valor","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":""},u1="",d1={"Upload file":"Incarcare fișier","Upload files":"",Remove:u1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"Introduceți o adresă de e-mail validă","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"Introduceți o adresă URL validă"},h1="Убрать",f1={"Upload file":"Загрузить файл","Upload files":"Загрузить файлы",Remove:h1,"Please provide an alpha-numeric value":"Укажите буквенно-цифровое значение","Please provide a boolean value":"Укажите булевое значение","Please enter between {{lowerBound}} and {{upperBound}} characters":"Введите от {{lowerBound}} до {{upperBound}} символов.",'Please make sure the value of this input matches the value in "{{otherField}}".':'Убедитесь, что введенное значение совпадает со значением в разделе "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"Введите максимум {{upperBound}} символа/ов.","Please enter a number with a maximum of {{upperBound}}":"Введите число, не превышающее {{upperBound}}","Please enter at least {{lowerBound}} characters":"Введите не менее {{lowerBound}} символа/ов.","Please enter a number of at least {{lowerBound}}":"Введите число не менее {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"Число не может быть меньше {{lowerBound}} или больше {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"Убедитесь, что введенное значение соответствует формату {{patternString}}.","Password should be a string":"Пароль должен быть строкой","Password should be at least 8 characters long":"Пароль должен состоять не менее чем из 8 символов.","Password should be no longer than 34 characters":"Пароль не должен быть длиннее 34 символов","Password should contain at least one lowercase letter":"Пароль должен содержать хотя бы одну строчную букву","Password should contain at least one UPPERCASE letter":"Пароль должен содержать хотя бы одну заглавную букву","Password should contain at least one number":"Пароль должен содержать хотя бы одну цифру","Password should have at least one special character":"В пароле должен быть хотя бы один специальный символ","Please provide a valid email address":"Введите правильный адрес электронной почты","Please provide a value":"Введите значение","Please provide a round number without decimals":"Введите круглое число без десятичных знаков","Please provide a valid international phone number.":"Укажите действительный международный номер телефона.","Please provide a number":"Введите номер","Please provide a string":"Введите строку","Please provide a valid url":"Введите правильный URL адрес","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":"Укажите имя пользователя длиной от 4 до 255 символов по возможности разделенных знаками . _ - или @"},p1="ඉවත් කරන්න",m1={"Upload file":"","Upload files":"",Remove:p1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":""},g1="Avlägsna",v1={"Upload file":"","Upload files":"",Remove:g1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"Lösenordet måste vara minst 8 tecken långt.","Password should be no longer than 34 characters":"Lösenord måste vara kortare än 34 tecken","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"Lösenordet ska innehålla minst en versal bokstav","Password should contain at least one number":"Lösenordet måste innehålla minst en siffra","Password should have at least one special character":"Lösenordet ska ha minst ett specialtecken","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"Ange en giltig epost adress","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},b1="Hasai",y1={"Upload file":"","Upload files":"",Remove:b1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},w1="Тоза кардан",x1={"Upload file":"Боркунии файл","Upload files":"",Remove:w1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},S1="Видалити",k1={"Upload file":"Вивантажити файл","Upload files":"Вивантажити файли",Remove:S1,"Please provide an alpha-numeric value":"Вкажіть буквено-цифрове значення","Please provide a boolean value":"Вкажіть логічне значення","Please enter between {{lowerBound}} and {{upperBound}} characters":"Введіть від {{lowerBound}} до {{upperBound}} символів",'Please make sure the value of this input matches the value in "{{otherField}}".':'Переконайтеся, що значення цього введення відповідає значенню в "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"Введіть максимум {{upperBound}} символів","Please enter a number with a maximum of {{upperBound}}":"Введіть число не більше {{upperBound}}","Please enter at least {{lowerBound}} characters":"Введіть принаймні {{lowerBound}} символів","Please enter a number of at least {{lowerBound}}":"Введіть число не менше {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"Число не може бути меншим за {{lowerBound}} або більшим за {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"Переконайтеся, що значення цього введення відповідає шаблону {{patternString}}.","Password should be a string":"Пароль має бути рядком","Password should be at least 8 characters long":"Пароль має містити щонайменше 8 символів","Password should be no longer than 34 characters":"Пароль має містити не більше 34 символів","Password should contain at least one lowercase letter":"Пароль має містити принаймні одну малу літеру","Password should contain at least one UPPERCASE letter":"Пароль має містити принаймні одну ВЕЛИКУ літеру","Password should contain at least one number":"Пароль має містити принаймні одну цифру","Password should have at least one special character":"Пароль має містити принаймні один спеціальний символ","Please provide a valid email address":"Вкажіть дійсну адресу електронної пошти","Please provide a value":"Вкажіть значення","Please provide a round number without decimals":"Вкажіть ціле число без десяткових знаків","Please provide a valid international phone number.":"Вкажіть дійсний міжнародний номер телефону.","Please provide a number":"Вкажіть число","Please provide a string":"Вкажіть рядок","Please provide a valid url":"Вкажіть дійсну URL-адресу","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":""},C1="حذف",P1={"Upload file":"","Upload files":"",Remove:C1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},A1="Олиб ташлаш",T1={"Upload file":"Faylni yuklash","Upload files":"",Remove:A1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':'Ushbu yozuvning qiymati "{{otherField}}" dagi qiymatga mos kelishiga ishonch hosil qiling.',"Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"Parol kamida 8 ta belgidan iborat boʼlishi lozim","Password should be no longer than 34 characters":"Parol 34 ta belgidan oshmasligi lozim","Password should contain at least one lowercase letter":"Parol tarkibida kamida 1 ta kichik harf boʼlishi lozim","Password should contain at least one UPPERCASE letter":"Parol tarkibida kamida 1 ta BOSh harf boʼlishi lozim","Password should contain at least one number":"Parol tarkibida kamida 1 ta raqam boʼlishi lozim","Password should have at least one special character":"Parol tarkibida kamida 1 ta maxsus belgi boʼlishi lozim","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"Iltimos, amaldagi ye-pochta manzilini koʼrsating","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"Iltimos, haqiqiy URL manzilni koʼrsating"},E1="Олиб ташлаш",M1={"Upload file":"Файлни юклаш","Upload files":"",Remove:E1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':'Ушбу ёзувнинг қиймати "{{otherField}}" даги қийматга мос келишига ишонч ҳосил қилинг.',"Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"Камида 21 {{lowerBound}} та белгини киритинг","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"Пароль камида 8 та белгидан иборат бўлиши лозим","Password should be no longer than 34 characters":"Пароль 34 та белгидан ошмаслиги лозим","Password should contain at least one lowercase letter":"Пароль таркибида камида 1 та кичик ҳарф бўлиши лозим","Password should contain at least one UPPERCASE letter":"Пароль таркибида камида 1 та БОШ ҳарф бўлиши лозим","Password should contain at least one number":"Пароль таркибида камида 1 та рақам бўлиши лозим","Password should have at least one special character":"Пароль таркибида камида 1 та махсус белги бўлиши лозим","Please provide a valid email address":"Илтимос, амалдаги е-почта манзилини кўрсатинг","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"Илтимос, ҳақиқий URL манзилни кўрсатинг","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":""},N1="Олиб ташлаш",R1={"Upload file":"Faylni yuklash","Upload files":"",Remove:N1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':'Ushbu yozuvning qiymati "{{otherField}}" dagi qiymatga mos kelishiga ishonch hosil qiling.',"Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"Parol kamida 8 ta belgidan iborat boʼlishi lozim","Password should be no longer than 34 characters":"Parol 34 ta belgidan oshmasligi lozim","Password should contain at least one lowercase letter":"Parol tarkibida kamida 1 ta kichik harf boʼlishi lozim","Password should contain at least one UPPERCASE letter":"Parol tarkibida kamida 1 ta BOSh harf boʼlishi lozim","Password should contain at least one number":"Parol tarkibida kamida 1 ta raqam boʼlishi lozim","Password should have at least one special character":"Parol tarkibida kamida 1 ta maxsus belgi boʼlishi lozim","Please provide a valid email address":"Iltimos, amaldagi ye-pochta manzilini koʼrsating","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"Iltimos, haqiqiy URL manzilni koʼrsating","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":""},D1="Tháo ra",O1={"Upload file":"Tải một tập tin","Upload files":"",Remove:D1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"Mật khẩu phải dài ít nhất 8 ký tự","Password should be no longer than 34 characters":"Mật khẩu không được dài hơn 34 ký tự","Password should contain at least one lowercase letter":"Mật khẩu phải chứa ít nhất một chữ cái viết thường","Password should contain at least one UPPERCASE letter":"Mật khẩu phải chứa ít nhất một chữ cái viết hoa","Password should contain at least one number":"Mật khẩu phải chứa ít nhất một số","Password should have at least one special character":"Mật khẩu phải có ít nhất một ký tự đặc biệt","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"Vui lòng cung cấp một địa chỉ email hợp lệ","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"Vui lòng cung cấp một url hợp lệ"},z1="移除",L1={"Upload file":"上传文件","Upload files":"上传文件",Remove:z1,"Please provide an alpha-numeric value":"请提供字母数字值","Please provide a boolean value":"请提供一个布尔值","Please enter between {{lowerBound}} and {{upperBound}} characters":"请在 {{lowerBound}} 和 {{upperBound}} 个字符之间输入",'Please make sure the value of this input matches the value in "{{otherField}}".':"请确保此输入的值与“ {{otherField}}”中的值匹配。","Please enter a maximum of {{upperBound}} characters":"请输入最多 {{upperBound}} 个字符","Please enter a number with a maximum of {{upperBound}}":"请输入一个最大为 {{upperBound}} 的数字","Please enter at least {{lowerBound}} characters":"请至少输入 {{lowerBound}} 个字符","Please enter a number of at least {{lowerBound}}":"请输入至少为 {{lowerBound}} 的数字","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"数字不能小于 {{lowerBound}} 或大于 {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"请确保此输入的值与模式 {{patternString}} 匹配。","Password should be a string":"密码应该是一个字符串","Password should be at least 8 characters long":"口令至少8个字符","Password should be no longer than 34 characters":"口令不能超过34字符","Password should contain at least one lowercase letter":"口令至少包括应该小写字母","Password should contain at least one UPPERCASE letter":"口令至少包括一个大写字母","Password should contain at least one number":"口令至少包括应该数字","Password should have at least one special character":"口令至少包括一个特殊字符","Please provide a valid email address":"有效的邮箱","Please provide a value":"请提供值","Please provide a round number without decimals":"请提供一个没有小数的整数","Please provide a valid international phone number.":"请提供有效的国际电话号码。","Please provide a number":"请提供号码","Please provide a string":"请提供字符串","Please provide a valid url":"有效的URL","Please provide a username between 4 and 255 characters long and possibly separated by . _ - or @":"请提供长度在 4 到 255 个字符之间的用户名，并可能以 .  _ - 或者 @分隔。"},B1="移除",j1={"Upload file":"","Upload files":"",Remove:B1,"Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"请确保此输入的值与“ {{otherField}}”中的值匹配。","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"口令至少8个字符","Password should be no longer than 34 characters":"口令不能超过34字符","Password should contain at least one lowercase letter":"口令至少包括应该小写字母","Password should contain at least one UPPERCASE letter":"口令至少包括一个大写字母","Password should contain at least one number":"口令至少包括应该数字","Password should have at least one special character":"口令至少包括一个特殊字符","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"有效的邮箱","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"有效的URL"},Re="default";P.addResources("ar",Re,kx);P.addResources("ar_IQ",Re,Px);P.addResources("ckb",Re,Tx);P.addResources("cs",Re,Mx);P.addResources("da",Re,Rx);P.addResources("en",Re,Ox);P.addResources("es",Re,Lx);P.addResources("es_419",Re,jx);P.addResources("fr",Re,$x);P.addResources("hi_IN",Re,Fx);P.addResources("id",Re,Ux);P.addResources("km",Re,Wx);P.addResources("ko_KR",Re,Gx);P.addResources("lo",Re,Yx);P.addResources("my",Re,Jx);P.addResources("nb",Re,Xx);P.addResources("nl",Re,t1);P.addResources("prs",Re,n1);P.addResources("ps",Re,i1);P.addResources("pt",Re,o1);P.addResources("pt_BR",Re,c1);P.addResources("ro",Re,d1);P.addResources("ru",Re,f1);P.addResources("si",Re,m1);P.addResources("sv",Re,v1);P.addResources("tet",Re,y1);P.addResources("tg",Re,x1);P.addResources("uk",Re,k1);P.addResources("ur",Re,P1);P.addResources("uz_Latn",Re,T1);P.addResources("uz_UZ_Cyrl",Re,M1);P.addResources("uz_UZ_Latn",Re,R1);P.addResources("vi",Re,O1);P.addResources("zh",Re,L1);P.addResources("zh_CN",Re,j1);function Cc(){return Cc=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Cc.apply(null,arguments)}const gg=s=>{let{input:e,meta:t,error:n,showValidStatus:r,valid:i,validationText:a,onBlur:o,onFocus:l,loading:c,showLoadingStatus:u,...d}=s;return w.createElement(Zu,Cc({},d,{name:e.name,type:e.type,error:mg(t,n),valid:yx(t,i,r),loading:bx(t,c,u),validationText:vx(t,a,n),onFocus:gx(e,l),onChange:mx(e),onBlur:fx(e,o),value:e.value}))};gg.propTypes={input:wx.isRequired,meta:xx.isRequired,error:p.bool,loading:p.bool,showLoadingStatus:p.bool,showValidStatus:p.bool,valid:p.bool,validationText:p.string,onBlur:p.func,onFocus:p.func};var I1=void 0;const $1=(s,e,t)=>{let n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const o=I1,l=()=>{n=null,s.apply(o,i)};clearTimeout(n),n=setTimeout(l,e)}},vg=s=>{let{dataTest:e,onToggle:t,children:n,tabIndex:r="0",error:i,warning:a,valid:o,disabled:l,dense:c,className:u,inputRef:d}=s;const h=ot(u,"root",{error:i,warning:a,valid:o,disabled:l,dense:c});return w.createElement("div",{onClick:t,tabIndex:r,ref:d,"data-test":e,className:I.dynamic([["1568723238",[S.grey500,ee.focus,ee.focus,ee.valid,ee.warning,ee.error,S.grey100,S.grey500,ee.disabled]]])+" "+(h||"")},w.createElement("div",{className:I.dynamic([["1568723238",[S.grey500,ee.focus,ee.focus,ee.valid,ee.warning,ee.error,S.grey100,S.grey500,ee.disabled]]])+" root-children"},n),w.createElement("div",{className:I.dynamic([["1568723238",[S.grey500,ee.focus,ee.focus,ee.valid,ee.warning,ee.error,S.grey100,S.grey500,ee.disabled]]])+" root-right"},w.createElement(_m,null)),w.createElement(I,{id:"1568723238",dynamic:[S.grey500,ee.focus,ee.focus,ee.valid,ee.warning,ee.error,S.grey100,S.grey500,ee.disabled]},[`.root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:white;border-radius:3px;border:1px solid ${S.grey500};box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:40px;padding-block:6px;padding-inline:12px;box-shadow:inset 0 0 1px 0 rgba(48,54,60,0.1);}`,`.root.__jsx-style-dynamic-selector:not(.disabled):focus,.root.__jsx-style-dynamic-selector:not(.disabled):active{outline:none;box-shadow:inset 0 0 0 2px ${ee.focus};border-color:${ee.focus};}`,`.root.valid.__jsx-style-dynamic-selector{border-color:${ee.valid};}`,`.root.warning.__jsx-style-dynamic-selector{border-color:${ee.warning};}`,`.root.error.__jsx-style-dynamic-selector{border-color:${ee.error};}`,`.root.disabled.__jsx-style-dynamic-selector{background-color:${S.grey100};border-color:${S.grey500};color:${ee.disabled};cursor:not-allowed;}`,".root.dense.__jsx-style-dynamic-selector{padding-block:2px;padding-inline:8px;min-height:32px;}",".root-children.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".root-right.__jsx-style-dynamic-selector{margin-block-start:4px;margin-inline-start:8px;}"]))};vg.propTypes={dataTest:p.string.isRequired,inputRef:p.object.isRequired,onToggle:p.func.isRequired,children:p.element,className:p.string,dense:p.bool,disabled:p.bool,error:es,tabIndex:p.string,valid:es,warning:es};const bg=s=>{let{children:e,dataTest:t,maxHeight:n="280px",menuWidth:r,onClick:i,selectRef:a}=s;return w.createElement(zm,{onBackdropClick:i,transparent:!0},w.createElement(Xu,{reference:a,placement:"bottom-start",observeReferenceResize:!0},w.createElement("div",{"data-test":`${t}-menuwrapper`,className:I.dynamic([["1363246346",[r,n,S.white,S.grey200,ja.e300]]])},e,w.createElement(I,{id:"1363246346",dynamic:[r,n,S.white,S.grey200,ja.e300]},[`div.__jsx-style-dynamic-selector{width:${r};height:auto;max-height:${n};overflow:auto;background:${S.white};border:1px solid ${S.grey200};border-radius:3px;box-shadow:${ja.e300};}`]))))};bg.propTypes={dataTest:p.string.isRequired,menuWidth:p.string.isRequired,selectRef:p.object.isRequired,children:p.node,maxHeight:p.string,onClick:p.func};function Kt(s,e,t){return(e=_1(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function _1(s){var e=F1(s,"string");return typeof e=="symbol"?e:e+""}function F1(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var n=t.call(s,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}const V1=27,U1=32,H1=38,W1=40;class sd extends y.Component{constructor(){super(...arguments),Kt(this,"state",{open:!1,menuWidth:"auto"}),Kt(this,"selectRef",w.createRef()),Kt(this,"inputRef",w.createRef()),Kt(this,"onResize",$1(()=>{const e=this.getMenuWidth();this.state.menuWidth!==e&&this.setState({menuWidth:e})},50)),Kt(this,"handleFocusInput",()=>{this.inputRef.current.focus()}),Kt(this,"onFocus",e=>{const{onFocus:t,disabled:n,selected:r}=this.props;n||!t||t({selected:r},e)}),Kt(this,"handleOpen",()=>{this.setState({open:!0,menuWidth:this.getMenuWidth()})}),Kt(this,"handleClose",()=>{this.setState({open:!1})}),Kt(this,"onToggle",e=>{this.props.disabled||(e.stopPropagation(),this.state.open?this.handleClose():this.handleOpen())}),Kt(this,"onOutsideClick",e=>{const{onBlur:t,disabled:n,selected:r}=this.props;n||(this.handleClose(),t&&t({selected:r},e))}),Kt(this,"onKeyDown",e=>{const{onKeyDown:t,disabled:n,selected:r}=this.props;if(n||(t&&t({selected:r},e),e.defaultPrevented))return;e.stopPropagation();const{open:i}=this.state,{keyCode:a}=e,o=!i&&(a===U1||a===H1||a===W1);if(i&&a===V1)return this.handleClose();if(o)return this.handleOpen()})}componentDidMount(){this.props.initialFocus&&this.inputRef.current.focus(),this.setState({menuWidth:this.getMenuWidth()}),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}getMenuWidth(){const{offsetWidth:e}=this.inputRef.current,{menuWidth:t}=this.state;return e&&`${e}px`!==t?`${e}px`:t}render(){const{open:e,menuWidth:t}=this.state,{children:n,className:r,selected:i,onChange:a,tabIndex:o,maxHeight:l,error:c,warning:u,valid:d,disabled:h,dense:f,dataTest:m}=this.props,g={selected:i,onChange:a,options:n,disabled:h},v=w.cloneElement(this.props.input,g),b={selected:i,onChange:a,options:n,handleClose:this.handleClose,handleFocusInput:this.handleFocusInput},C=w.cloneElement(this.props.menu,b);return w.createElement("div",{className:r,ref:this.selectRef,onFocus:this.onFocus,onKeyDown:this.onKeyDown,"data-test":m},w.createElement(vg,{onToggle:this.onToggle,inputRef:this.inputRef,tabIndex:h?"-1":o,error:c,warning:u,valid:d,disabled:h,dense:f,dataTest:`${m}-input`},v),e&&w.createElement(bg,{onClick:this.onOutsideClick,maxHeight:l,selectRef:this.selectRef,menuWidth:t,dataTest:`${m}-menu`},C))}}Kt(sd,"defaultProps",{dataTest:"dhis2-uicore-select"});sd.propTypes={input:p.element.isRequired,menu:p.element.isRequired,selected:p.oneOfType([p.string,p.arrayOf(p.string)]).isRequired,children:p.node,className:p.string,dataTest:p.string,dense:p.bool,disabled:p.bool,error:es,initialFocus:p.bool,maxHeight:p.string,tabIndex:p.string,valid:es,warning:es,onBlur:p.func,onChange:p.func,onFocus:p.func,onKeyDown:p.func};const yg=s=>{let{message:e,className:t,dataTest:n}=s;return w.createElement("div",{"data-test":n,className:I.dynamic([["3603755746",[K.dp16,S.grey700,ee.fonts,K.dp8,K.dp24]]])+" "+(ot(t,"container")||"")},w.createElement("div",{className:I.dynamic([["3603755746",[K.dp16,S.grey700,ee.fonts,K.dp8,K.dp24]]])},w.createElement(Uo,{small:!0})),e,w.createElement(I,{id:"3603755746",dynamic:[K.dp16,S.grey700,ee.fonts,K.dp8,K.dp24]},[`.container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${K.dp16};-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:${S.grey700};font-family:${ee.fonts};font-size:13px;padding-block:${K.dp8};padding-inline:${K.dp24};}`]))};yg.propTypes={dataTest:p.string.isRequired,className:p.string,message:p.string};const Pc=s=>{let{value:e,onChange:t,placeholder:n,className:r,dataTest:i}=s;return w.createElement("div",{className:I.dynamic([["730881408",[S.white,K.dp8,K.dp8,K.dp4,K.dp8]]])+" "+(r||"")},w.createElement(kw,{dense:!0,dataTest:i,value:e,onChange:t,type:"text",name:"filter",placeholder:n,initialFocus:!0}),w.createElement(I,{id:"730881408",dynamic:[S.white,K.dp8,K.dp8,K.dp4,K.dp8]},[`div.__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;-webkit-inset-block-start:0;-ms-intb-rlock-start:0;inset-block-start:0;background:${S.white};padding-block-start:${K.dp8};padding-inline-end:${K.dp8};padding-block-end:${K.dp4};padding-inline-start:${K.dp8};z-index:1;}`]))};Pc.propTypes={dataTest:p.string.isRequired,value:p.string.isRequired,className:p.string,placeholder:p.string,onChange:p.func};const wg=s=>{let{message:e,className:t}=s;return w.createElement("div",{className:I.dynamic([["3788156646",[S.grey700,ee.fonts,K.dp8,K.dp24]]])+" "+(t||"")},e,w.createElement(I,{id:"3788156646",dynamic:[S.grey700,ee.fonts,K.dp8,K.dp24]},[`div.__jsx-style-dynamic-selector{color:${S.grey700};font-family:${ee.fonts};font-size:13px;line-height:16px;padding-block:${K.dp8};padding-inline:${K.dp24};text-align:center;}`]))};wg.propTypes={message:p.string.isRequired,className:p.string};const xg=s=>s&&"props"in s&&"value"in s.props&&"label"in s.props,Sg=s=>w.Children.toArray(s).filter(e=>e!==null&&e!==!1&&e!==void 0),q1=(s,e)=>w.Children.toArray(e).find(t=>t.props?s===t.props.value:!1);function ro(){return ro=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},ro.apply(null,arguments)}function mh(s,e,t){return(e=G1(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function G1(s){var e=K1(s,"string");return typeof e=="symbol"?e:e+""}function K1(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var n=t.call(s,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}let kg=class extends y.Component{constructor(){super(...arguments),mh(this,"state",{filter:""}),mh(this,"onFilterChange",e=>{let{value:t}=e;this.setState({filter:t})})}render(){const{dataTest:e,options:t,onChange:n,selected:r,empty:i,handleClose:a,handleFocusInput:o,placeholder:l,noMatchText:c,Menu:u}=this.props,{filter:d}=this.state,h={onChange:n,selected:r,empty:i,handleClose:a,handleFocusInput:o,dataTest:e},f=Sg(t);if(w.Children.count(f)===0||!d)return w.createElement(w.Fragment,null,w.createElement(Pc,{dataTest:`${e}-filterinput`,placeholder:l,value:d,onChange:this.onFilterChange}),w.createElement(u,ro({},h,{options:t})));const m=w.Children.map(t,v=>{if(!xg(v))return null;const{label:C}=v.props;return C.toLowerCase().includes(d.toLowerCase())?v:null}),g=w.Children.count(m)>0;return w.createElement(w.Fragment,null,w.createElement(Pc,{dataTest:`${e}-filterinput`,placeholder:l,value:d,onChange:this.onFilterChange}),g?w.createElement(u,ro({},h,{options:m})):w.createElement(wg,{message:c}))}};kg.propTypes={Menu:p.elementType.isRequired,dataTest:p.string.isRequired,noMatchText:p.string.isRequired,selected:p.oneOfType([p.string,p.arrayOf(p.string)]).isRequired,empty:p.node,handleClose:p.func,handleFocusInput:p.func,options:p.node,placeholder:p.string,onChange:p.func};const Cg=s=>{let{message:e,className:t,dataTest:n}=s;return w.createElement("div",{"data-test":n,className:I.dynamic([["3788156646",[S.grey700,ee.fonts,K.dp8,K.dp24]]])+" "+(t||"")},e,w.createElement(I,{id:"3788156646",dynamic:[S.grey700,ee.fonts,K.dp8,K.dp24]},[`div.__jsx-style-dynamic-selector{color:${S.grey700};font-family:${ee.fonts};font-size:13px;line-height:16px;padding-block:${K.dp8};padding-inline:${K.dp24};text-align:center;}`]))};Cg.propTypes={dataTest:p.string.isRequired,message:p.string.isRequired,className:p.string};const Y1=4,gh={styles:w.createElement(I,{id:"1892168270"},[`.jsx-1892168270{z-index:${Om.applicationTop};}`,'div[data-popper-reference-hidden="true"].jsx-1892168270{visibility:hidden;}']),className:"jsx-1892168270"},Q1={name:"offset",options:{offset:[0,Y1]}},J1={name:"hide"},Z1={name:"flip",options:{altBoundary:!0}},Jo=s=>{let{children:e,className:t,closeDelay:n=200,content:r,dataTest:i="dhis2-uicore-tooltip",maxWidth:a=300,openDelay:o=200,placement:l="top"}=s;const[c,u]=y.useState(!1),d=y.useRef(),h=y.useRef(null),f=y.useRef(null),m=()=>{clearTimeout(f.current),h.current=setTimeout(()=>{u(!0)},o)},g=()=>{clearTimeout(h.current),f.current=setTimeout(()=>{u(!1)},n)},v=()=>{clearTimeout(f.current),h.current=setTimeout(()=>{u(!0)},o)},b=()=>{clearTimeout(h.current),f.current=setTimeout(()=>{u(!1)},n)},C=A=>{A.key==="Escape"&&(f.current=setTimeout(()=>{u(!1)},n))};return y.useEffect(()=>(document.addEventListener("keydown",C),()=>{clearTimeout(h.current),clearTimeout(f.current),document.removeEventListener("keydown",C)}),[]),w.createElement(w.Fragment,null,typeof e=="function"?e({onMouseOver:m,onMouseOut:g,onFocus:v,onBlur:b,ref:d}):w.createElement("span",{onMouseOver:m,onMouseOut:g,onFocus:v,onBlur:b,ref:d,tabIndex:0,"aria-describedby":c?"tooltipContenDhis2Ui":"","data-test":`${i}-reference`,className:I.dynamic([["3515683788",[a,S.grey900,S.white]]])},e),c&&w.createElement(Cw,null,w.createElement(Xu,{className:gh.className,placement:l,reference:d,modifiers:[Q1,Z1,J1]},w.createElement("div",{id:"tooltipContenDhis2Ui",onMouseOver:m,onMouseOut:g,"data-test":`${i}-content`,role:"tooltip",className:I.dynamic([["3515683788",[a,S.grey900,S.white]]])+" "+(t||"")},r))),gh.styles,w.createElement(I,{id:"3515683788",dynamic:[a,S.grey900,S.white]},[`div.__jsx-style-dynamic-selector{max-width:${a}px;}`,`div.__jsx-style-dynamic-selector{padding:4px 6px;background-color:${S.grey900};border-radius:3px;color:${S.white};font-size:13px;line-height:17px;}`]))};Jo.propTypes={children:p.oneOfType([p.node,p.func]),className:p.string,closeDelay:p.number,content:p.node,dataTest:p.string,maxWidth:p.number,openDelay:p.number,placement:p.oneOf(["top","right","bottom","left"])};const Pg=s=>{let{onClear:e,clearText:t,className:n,dataTest:r}=s;return w.createElement(Jo,{openDelay:500,content:t},w.createElement("button",{"data-test":r,onClick:e,type:"button",className:I.dynamic([["2606883952",[S.grey500,S.grey800,S.grey200,ee.focus]]])+" "+(n||"")},w.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:I.dynamic([["2606883952",[S.grey500,S.grey800,S.grey200,ee.focus]]])},w.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm3.536-5.879a1 1 0 1 1-1.415 1.414l-2.12-2.12-2.122 2.121a1 1 0 1 1-1.415-1.414L6.586 8 4.464 5.878A1 1 0 1 1 5.88 4.464L8 6.586l2.121-2.121a1 1 0 1 1 1.415 1.414L9.415 8l2.12 2.121Z",fill:"none",className:I.dynamic([["2606883952",[S.grey500,S.grey800,S.grey200,ee.focus]]])})),w.createElement(I,{id:"2606883952",dynamic:[S.grey500,S.grey800,S.grey200,ee.focus]},["button.__jsx-style-dynamic-selector{background:none;border:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;height:24px;width:24px;border-radius:3px;}",`button.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:${S.grey500};}`,`button.__jsx-style-dynamic-selector:hover svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:${S.grey800};}`,`button.__jsx-style-dynamic-selector:hover{background:${S.grey200};}`,`button.__jsx-style-dynamic-selector:focus{outline:2px solid ${ee.focus};}`])))};Pg.propTypes={clearText:p.string.isRequired,dataTest:p.string.isRequired,onClear:p.func.isRequired,className:p.string};const Ag=s=>{let{placeholder:e,className:t,dataTest:n}=s;return e?w.createElement("div",{"data-test":n,className:I.dynamic([["1027033961",[S.grey600]]])+" "+(t||"")},e,w.createElement(I,{id:"1027033961",dynamic:[S.grey600]},[`div.__jsx-style-dynamic-selector{color:${S.grey600};-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`])):null};Ag.propTypes={dataTest:p.string.isRequired,className:p.string,placeholder:p.string};const Tg=s=>{let{prefix:e,className:t,dataTest:n}=s;return e?w.createElement("div",{"data-test":n,className:I.dynamic([["1343055987",[S.grey600,K.dp12]]])+" "+(t||"")},e,w.createElement(I,{id:"1343055987",dynamic:[S.grey600,K.dp12]},[`div.__jsx-style-dynamic-selector{color:${S.grey600};padding-inline-end:${K.dp12};font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`])):null};Tg.propTypes={dataTest:p.string.isRequired,className:p.string,prefix:p.string};const X1="مسح",eS={Clear:X1,"No data found":"لم يتم إيجاد بيانات","Type to filter options":"اكتب لتصفية الخيارات","Loading options":"تحميل الخيارات","No options found":"لم يتم العثور على خيارات"},tS="مسح",sS={Clear:tS,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},nS="پاککردنەوە",rS={Clear:nS,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},iS="Vyčistit",aS={Clear:iS,"No data found":"Nenalezena žádná data","Type to filter options":"Zadáním filtrujete možnosti","Loading options":"Možnosti načítání","No options found":"Nenalezeny žádné možnosti"},oS="Clear",lS={Clear:oS,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},cS="",uS={Clear:cS,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},dS="Limpiar",hS={Clear:dS,"No data found":"Datos no encontrados","Type to filter options":"Escriba para filtrar opciones","Loading options":"Cargando las opciones","No options found":"No se ha encontrado ninguna opción"},fS="Limpiar",pS={Clear:fS,"No data found":"No se han encontrado datos","Type to filter options":"Escriba para filtrar opciones","Loading options":"Opciones de carga","No options found":"No se han encontrado opciones"},mS="Effacer",gS={Clear:mS,"No data found":"Aucune valeur trouvée","Type to filter options":"","Loading options":"Chargement des options","No options found":""},vS="Hapus",bS={Clear:vS,"No data found":"Tidak ada data yang ditemukan","Type to filter options":"Tipe opsi filter","Loading options":"Opsi mengunggah","No options found":"Opsi tidak tersedia"},yS="សម្អាត",wS={Clear:yS,"No data found":"មិនមានទិន្នន័យបង្ហាញ","Type to filter options":"វាយបញ្ចូលមុខងារដើម្បីច្រោះ","Loading options":"កំពុងទាញយកមុខងារ","No options found":"មិនមានមុខងារបង្ហាញ"},xS="ລຶບ",SS={Clear:xS,"No data found":"ບໍ່ພົບຂໍ້ມູນ","Type to filter options":"ປະເພດຕົວເລືອກການກອງ","Loading options":"ໂຫຼດຕົວເລືອກ","No options found":"ບໍ່ພົບຕົວເລືອກ"},kS="ရှင်းလင်းသည်",CS={Clear:kS,"No data found":"data မတွေ့ပါ။","Type to filter options":"","Loading options":"","No options found":""},PS="Fjern",AS={Clear:PS,"No data found":"Ingen data funnet","Type to filter options":"Skriv for å filtrere alternativer","Loading options":"Laster alternativer","No options found":"Ingen alternativer funnet"},TS="Duidelijk",ES={Clear:TS,"No data found":"Geen gegevens gevonden","Type to filter options":"Typ om opties te filteren","Loading options":"Laad opties","No options found":"Geen opties gevonden"},MS="پاک کردن",NS={Clear:MS,"No data found":"هیچ معلوماتی یافت نشد","Type to filter options":"","Loading options":"","No options found":""},RS="پاک یې کړئ",DS={Clear:RS,"No data found":"هېڅ ډاټا یا مالومات ونه موندل شول","Type to filter options":"","Loading options":"","No options found":""},OS="Limpar",zS={Clear:OS,"No data found":"Não foram encontrados dados","Type to filter options":"Tipo de opções de filtros","Loading options":"Carregando opções","No options found":"Não foram encontradas opções"},LS="Limpar",BS={Clear:LS,"No data found":"Dado não encontrado","Type to filter options":"","Loading options":"","No options found":""},jS="Очистить",IS={Clear:jS,"No data found":"Данные не найдены","Type to filter options":"Начать печатать для фильтрации опций","Loading options":"Загрузка опций","No options found":"Опции не найдены"},$S="Klar",_S={Clear:$S,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},FS="Hamós",VS={Clear:FS,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},US="Пок кардан",HS={Clear:US,"No data found":"Ягон иттилоот ёфт нашуд","Type to filter options":"","Loading options":"","No options found":""},WS="Очистити",qS={Clear:WS,"No data found":"Даних не знайдено","Type to filter options":"Введіть параметри фільтра","Loading options":"Параметри завантаження","No options found":"Варіантів не знайдено"},GS="کلیئر",KS={Clear:GS,"No data found":"کوئی ڈیٹا نہیں ملا","Type to filter options":"","Loading options":"","No options found":""},YS="Аниқ",QS={Clear:YS,"No data found":"Maʼlumotlar topilmadi","Type to filter options":"","Loading options":"","No options found":""},JS="Тозалаш",ZS={Clear:JS,"No data found":"Маълумотлар топилмади","Type to filter options":"","Loading options":"Вариантлар юкланмоқда","No options found":""},XS="Аниқ",ek={Clear:XS,"No data found":"Maʼlumotlar topilmadi","Type to filter options":"","Loading options":"","No options found":""},tk="Xóa",sk={Clear:tk,"No data found":"Không tìm thấy dữ liệu","Type to filter options":"Nhập để lọc tùy chọn","Loading options":"","No options found":""},nk="清除",rk={Clear:nk,"No data found":"没有发现数据","Type to filter options":"键入过滤选项","Loading options":"加载选项","No options found":"没有找到选项"},ik="清除",ak={Clear:ik,"No data found":"没有数据被找到","Type to filter options":"","Loading options":"","No options found":""},Oe="default";P.addResources("ar",Oe,eS);P.addResources("ar_IQ",Oe,sS);P.addResources("ckb",Oe,rS);P.addResources("cs",Oe,aS);P.addResources("da",Oe,lS);P.addResources("en",Oe,uS);P.addResources("es",Oe,hS);P.addResources("es_419",Oe,pS);P.addResources("fr",Oe,gS);P.addResources("id",Oe,bS);P.addResources("km",Oe,wS);P.addResources("lo",Oe,SS);P.addResources("my",Oe,CS);P.addResources("nb",Oe,AS);P.addResources("nl",Oe,ES);P.addResources("prs",Oe,NS);P.addResources("ps",Oe,DS);P.addResources("pt",Oe,zS);P.addResources("pt_BR",Oe,BS);P.addResources("ru",Oe,IS);P.addResources("sv",Oe,_S);P.addResources("tet",Oe,VS);P.addResources("tg",Oe,HS);P.addResources("uk",Oe,qS);P.addResources("ur",Oe,KS);P.addResources("uz_Latn",Oe,QS);P.addResources("uz_UZ_Cyrl",Oe,ZS);P.addResources("uz_UZ_Latn",Oe,ek);P.addResources("vi",Oe,sk);P.addResources("zh",Oe,rk);P.addResources("zh_CN",Oe,ak);const ok=(s,e)=>{e.stopPropagation(),e.preventDefault()},nd=s=>{let{options:e,onChange:t,selected:n,empty:r="",handleFocusInput:i,handleClose:a,dataTest:o}=s;const l=Sg(e);if(w.Children.count(l)===0)return typeof r=="string"?w.createElement(Cg,{message:r,dataTest:`${o}-empty`}):r;const c=w.Children.map(e,u=>{if(!xg(u))return u;const{value:h,disabled:f}=u.props,m=h===n,g=(b,C)=>{const A={selected:h};C.stopPropagation(),t(A,C),a(),i()},v=m||f;return w.cloneElement(u,{...u.props,onClick:v?ok:g,active:m})});return w.createElement(w.Fragment,null,c)};nd.propTypes={dataTest:p.string.isRequired,empty:p.node,handleClose:p.func,handleFocusInput:p.func,options:p.node,selected:p.string,onChange:p.func};const Eg=s=>{let{dataTest:e,options:t,onChange:n,selected:r,empty:i,handleClose:a,handleFocusInput:o,placeholder:l,noMatchText:c}=s;return w.createElement(kg,{dataTest:e,options:t,onChange:n,selected:r,empty:i,handleClose:a,handleFocusInput:o,placeholder:l,noMatchText:c,Menu:nd})};Eg.propTypes={dataTest:p.string.isRequired,noMatchText:p.string.isRequired,empty:p.node,handleClose:p.func,handleFocusInput:p.func,options:p.node,placeholder:p.string,selected:p.string,onChange:p.func};const Mg=s=>{let{options:e,selected:t,className:n}=s;const r=q1(t,e);if(!r){const o=`There is no option with the value: "${t}". Make sure that the value passed to the selected prop matches the value of an existing option.`;console.error(o)}const i=r&&r.props.icon,a=r?r.props.label:t;return w.createElement("div",{className:I.dynamic([["1914911415",[K.dp8,K.dp16,K.dp16]]])+" "+(ot(n,"root")||"")},i&&w.createElement("div",{className:I.dynamic([["1914911415",[K.dp8,K.dp16,K.dp16]]])+" root-icon"},i),a,w.createElement(I,{id:"1914911415",dynamic:[K.dp8,K.dp16,K.dp16]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",`.root-icon.__jsx-style-dynamic-selector{margin-inline-end:${K.dp8};width:${K.dp16};height:${K.dp16};overflow:hidden;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}`]))};Mg.propTypes={className:p.string,options:p.node,selected:p.string};const Ng=s=>{let{selected:e,onChange:t,clearable:n,clearText:r,placeholder:i,dataTest:a,prefix:o,options:l,className:c,disabled:u,inputMaxHeight:d="100px"}=s;const h=e&&typeof e=="string",f=m=>{const g={selected:""};m.stopPropagation(),t(g,m)};return w.createElement("div",{className:I.dynamic([["2186325794",[S.grey900]],["1331770409",[d]]])+" "+(ot("root",c)||"")},w.createElement(Tg,{prefix:o,dataTest:`${a}-prefix`}),!h&&!o&&w.createElement(Ag,{placeholder:i,dataTest:`${a}-placeholder`}),h&&w.createElement("div",{className:I.dynamic([["2186325794",[S.grey900]],["1331770409",[d]]])+" root-input"},w.createElement(Mg,{selected:e,options:l})),h&&n&&!u&&w.createElement("div",{className:I.dynamic([["2186325794",[S.grey900]],["1331770409",[d]]])+" root-right"},w.createElement(Pg,{onClear:f,clearText:r,dataTest:`${a}-clear`})),w.createElement(I,{id:"2186325794",dynamic:[S.grey900]},[`.root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:${S.grey900};font-size:14px;line-height:16px;}`,".root-input.__jsx-style-dynamic-selector{overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;}",".root-right.__jsx-style-dynamic-selector{margin-inline-start:auto;}"]),w.createElement(I,{id:"1331770409",dynamic:[d]},[`.root-input.__jsx-style-dynamic-selector{max-height:${d};}`]))};Ng.propTypes={dataTest:p.string.isRequired,className:p.string,clearText:pt(s=>s.clearable,p.string),clearable:p.bool,disabled:p.bool,inputMaxHeight:p.string,options:p.node,placeholder:p.string,prefix:p.string,selected:p.string,onChange:p.func};const Rg=s=>{let{className:e,selected:t="",tabIndex:n,maxHeight:r,inputMaxHeight:i,onChange:a,onFocus:o,onKeyDown:l,onBlur:c,loading:u,error:d,warning:h,valid:f,disabled:m,children:g,clearable:v,clearText:b,filterable:C,filterPlaceholder:A,placeholder:E,prefix:x,empty:R,loadingText:O,noMatchText:z,initialFocus:M,dense:$,dataTest:W="dhis2-uicore-singleselect"}=s;const V=C?w.createElement(Eg,{dataTest:W,empty:R,noMatchText:z,placeholder:A}):w.createElement(nd,{empty:R,dataTest:W});return w.createElement("div",{"data-test":W,className:I.dynamic([["2180377457",[K.dp8]]])+" root"},w.createElement("div",{className:I.dynamic([["2180377457",[K.dp8]]])+" root-input"},w.createElement(sd,{className:e,selected:t,input:w.createElement(Ng,{clearable:v,clearText:b,dataTest:W,placeholder:E,prefix:x,inputMaxHeight:i}),menu:V,tabIndex:n,maxHeight:r,onChange:a,onFocus:o,onKeyDown:l,onBlur:c,error:d,warning:h,valid:f,disabled:m,initialFocus:M,dense:$},g,u&&w.createElement(yg,{message:O,dataTest:`${W}-loading`}))),w.createElement(Pw,{error:d,valid:f,warning:h}),w.createElement(I,{id:"2180377457",dynamic:[K.dp8]},[`.root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${K.dp8};}`,".root-input.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}"]))};Rg.propTypes={children:p.node,className:p.string,clearText:pt(s=>s.clearable,p.string),clearable:p.bool,dataTest:p.string,dense:p.bool,disabled:p.bool,empty:p.node,error:es,filterPlaceholder:p.string,filterable:p.bool,initialFocus:p.bool,inputMaxHeight:p.string,loading:p.bool,loadingText:p.string,maxHeight:p.string,noMatchText:pt(s=>s.filterable,p.string),placeholder:p.string,prefix:p.string,selected:p.string,tabIndex:p.string,valid:es,warning:es,onBlur:p.func,onChange:p.func,onFocus:p.func,onKeyDown:p.func};function lk(s,e,t){return(e=ck(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function ck(s){var e=uk(s,"string");return typeof e=="symbol"?e:e+""}function uk(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var n=t.call(s,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}const Ir=(s,e)=>typeof s=="function"?s(e):s;class Dt extends w.Component{render(){const{className:e,onChange:t,onFocus:n,onKeyDown:r,onBlur:i,required:a,label:o,valid:l,error:c,warning:u,disabled:d,loading:h,selected:f=Dt.defaultProps.selected,tabIndex:m,helpText:g,validationText:v,maxHeight:b,inputMaxHeight:C,inputWidth:A,children:E,clearable:x,clearText:R=Dt.defaultProps.clearText,filterable:O,filterPlaceholder:z=Dt.defaultProps.filterPlaceholder,placeholder:M,prefix:$,empty:W=Dt.defaultProps.empty,loadingText:V=Dt.defaultProps.loadingText,noMatchText:Z=Dt.defaultProps.noMatchText,initialFocus:q,dense:Q,dataTest:re=Dt.defaultProps.dataTest}=this.props;return w.createElement(Aw,{className:e,dataTest:re,disabled:d,required:a,label:o,helpText:g,validationText:v,error:c,warning:u,valid:l},w.createElement(Ia,{width:A,minWidth:"100px"},w.createElement(Rg,{selected:f,tabIndex:m,maxHeight:b,inputMaxHeight:C,onChange:t,onFocus:n,onKeyDown:r,onBlur:i,loading:h,error:c,warning:u,valid:l,disabled:d,clearable:x,clearText:Ir(R),filterable:O,filterPlaceholder:Ir(z),placeholder:M,prefix:$,empty:Ir(W),loadingText:Ir(V),noMatchText:Ir(Z),initialFocus:q,dense:Q},E)))}}lk(Dt,"defaultProps",{dataTest:"dhis2-uiwidgets-singleselectfield",selected:"",clearText:()=>P.t("Clear"),empty:()=>P.t("No data found"),filterPlaceholder:()=>P.t("Type to filter options"),loadingText:()=>P.t("Loading options"),noMatchText:()=>P.t("No options found")});Dt.propTypes={children:p.node,className:p.string,clearText:p.oneOfType([p.string,p.func]),clearable:p.bool,dataTest:p.string,dense:p.bool,disabled:p.bool,empty:p.oneOfType([p.node,p.func]),error:es,filterPlaceholder:p.oneOfType([p.node,p.func]),filterable:p.bool,helpText:p.string,initialFocus:p.bool,inputMaxHeight:p.string,inputWidth:p.string,label:p.string,loading:p.bool,loadingText:p.oneOfType([p.string,p.func]),maxHeight:p.string,noMatchText:p.oneOfType([p.string,p.func]),placeholder:p.string,prefix:p.string,required:p.bool,selected:p.string,tabIndex:p.string,valid:es,validationText:p.string,warning:es,onBlur:p.func,onChange:p.func,onFocus:p.func,onKeyDown:p.func};const pi=s=>{let{label:e,active:t,disabled:n,onClick:r,className:i,dataTest:a="dhis2-uicore-singleselectoption",value:o}=s;return w.createElement("div",{onClick:l=>r({},l),"data-test":a,"data-value":o,"data-label":e,className:I.dynamic([["1307386342",[S.grey900,K.dp8,K.dp12,S.grey200,S.teal050,S.grey500,t?"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMuNjMyMDkgNy44MzIxNEMzLjI3MjA5IDcuNDcyMTQgMi43MjAwOSA3LjQ3MjE0IDIuMzYwMDkgNy44MzIxNEMyLjAwMDA5IDguMTkyMTQgMi4wMDAwOSA4Ljc0NDE0IDIuMzYwMDkgOS4xMDQxNEw1LjYyNDA5IDEyLjM2ODFDNS45ODQwOSAxMi43MjgxIDYuNTM2MDkgMTIuNzI4MSA2Ljg5NjA5IDEyLjM2ODFMMTQuNjQ4MSA0LjY0MDE0QzE1LjAwODEgNC4yODAxNCAxNS4wMDgxIDMuNzI4MTQgMTQuNjQ4MSAzLjM2ODE0QzE0LjI4ODEgMy4wMDgxNCAxMy43MzYxIDMuMDA4MTQgMTMuMzUyMSAzLjM2ODE0TDYuMjcyMDkgMTAuNDcyMUwzLjYzMjA5IDcuODMyMTRaIiBmaWxsPSIjMDA2OTVDIi8+Cjwvc3ZnPgo=')":"none"]]])+" "+(ot(i,{disabled:n,active:t})||"")},w.createElement("span",{"aria-hidden":"true",className:I.dynamic([["1307386342",[S.grey900,K.dp8,K.dp12,S.grey200,S.teal050,S.grey500,t?"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMuNjMyMDkgNy44MzIxNEMzLjI3MjA5IDcuNDcyMTQgMi43MjAwOSA3LjQ3MjE0IDIuMzYwMDkgNy44MzIxNEMyLjAwMDA5IDguMTkyMTQgMi4wMDAwOSA4Ljc0NDE0IDIuMzYwMDkgOS4xMDQxNEw1LjYyNDA5IDEyLjM2ODFDNS45ODQwOSAxMi43MjgxIDYuNTM2MDkgMTIuNzI4MSA2Ljg5NjA5IDEyLjM2ODFMMTQuNjQ4MSA0LjY0MDE0QzE1LjAwODEgNC4yODAxNCAxNS4wMDgxIDMuNzI4MTQgMTQuNjQ4MSAzLjM2ODE0QzE0LjI4ODEgMy4wMDgxNCAxMy43MzYxIDMuMDA4MTQgMTMuMzUyMSAzLjM2ODE0TDYuMjcyMDkgMTAuNDcyMUwzLjYzMjA5IDcuODMyMTRaIiBmaWxsPSIjMDA2OTVDIi8+Cjwvc3ZnPgo=')":"none"]]])+" checkmark"}),w.createElement("span",{className:I.dynamic([["1307386342",[S.grey900,K.dp8,K.dp12,S.grey200,S.teal050,S.grey500,t?"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMuNjMyMDkgNy44MzIxNEMzLjI3MjA5IDcuNDcyMTQgMi43MjAwOSA3LjQ3MjE0IDIuMzYwMDkgNy44MzIxNEMyLjAwMDA5IDguMTkyMTQgMi4wMDAwOSA4Ljc0NDE0IDIuMzYwMDkgOS4xMDQxNEw1LjYyNDA5IDEyLjM2ODFDNS45ODQwOSAxMi43MjgxIDYuNTM2MDkgMTIuNzI4MSA2Ljg5NjA5IDEyLjM2ODFMMTQuNjQ4MSA0LjY0MDE0QzE1LjAwODEgNC4yODAxNCAxNS4wMDgxIDMuNzI4MTQgMTQuNjQ4MSAzLjM2ODE0QzE0LjI4ODEgMy4wMDgxNCAxMy43MzYxIDMuMDA4MTQgMTMuMzUyMSAzLjM2ODE0TDYuMjcyMDkgMTAuNDcyMUwzLjYzMjA5IDcuODMyMTRaIiBmaWxsPSIjMDA2OTVDIi8+Cjwvc3ZnPgo=')":"none"]]])+" content"},e),w.createElement(I,{id:"1307386342",dynamic:[S.grey900,K.dp8,K.dp12,S.grey200,S.teal050,S.grey500,t?"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMuNjMyMDkgNy44MzIxNEMzLjI3MjA5IDcuNDcyMTQgMi43MjAwOSA3LjQ3MjE0IDIuMzYwMDkgNy44MzIxNEMyLjAwMDA5IDguMTkyMTQgMi4wMDAwOSA4Ljc0NDE0IDIuMzYwMDkgOS4xMDQxNEw1LjYyNDA5IDEyLjM2ODFDNS45ODQwOSAxMi43MjgxIDYuNTM2MDkgMTIuNzI4MSA2Ljg5NjA5IDEyLjM2ODFMMTQuNjQ4MSA0LjY0MDE0QzE1LjAwODEgNC4yODAxNCAxNS4wMDgxIDMuNzI4MTQgMTQuNjQ4MSAzLjM2ODE0QzE0LjI4ODEgMy4wMDgxNCAxMy43MzYxIDMuMDA4MTQgMTMuMzUyMSAzLjM2ODE0TDYuMjcyMDkgMTAuNDcyMUwzLjYzMjA5IDcuODMyMTRaIiBmaWxsPSIjMDA2OTVDIi8+Cjwvc3ZnPgo=')":"none"]},[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:${S.grey900};padding-block:${K.dp8};padding-inline:6px ${K.dp12};}`,`div.__jsx-style-dynamic-selector:hover{background-color:${S.grey200};}`,`div.__jsx-style-dynamic-selector:active,div.active.__jsx-style-dynamic-selector{background-color:${S.teal050};cursor:auto;}`,`div.disabled.__jsx-style-dynamic-selector{color:${S.grey500};cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`,"div.disabled.__jsx-style-dynamic-selector:hover{background-color:initial;}",`div.__jsx-style-dynamic-selector .checkmark.__jsx-style-dynamic-selector{width:16px;height:16px;margin-inline-end:6px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;background-size:contain;background-repeat:no-repeat;background-image:${t?"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMuNjMyMDkgNy44MzIxNEMzLjI3MjA5IDcuNDcyMTQgMi43MjAwOSA3LjQ3MjE0IDIuMzYwMDkgNy44MzIxNEMyLjAwMDA5IDguMTkyMTQgMi4wMDAwOSA4Ljc0NDE0IDIuMzYwMDkgOS4xMDQxNEw1LjYyNDA5IDEyLjM2ODFDNS45ODQwOSAxMi43MjgxIDYuNTM2MDkgMTIuNzI4MSA2Ljg5NjA5IDEyLjM2ODFMMTQuNjQ4MSA0LjY0MDE0QzE1LjAwODEgNC4yODAxNCAxNS4wMDgxIDMuNzI4MTQgMTQuNjQ4MSAzLjM2ODE0QzE0LjI4ODEgMy4wMDgxNCAxMy43MzYxIDMuMDA4MTQgMTMuMzUyMSAzLjM2ODE0TDYuMjcyMDkgMTAuNDcyMUwzLjYzMjA5IDcuODMyMTRaIiBmaWxsPSIjMDA2OTVDIi8+Cjwvc3ZnPgo=')":"none"};}`]))};pi.propTypes={label:p.string.isRequired,value:p.string.isRequired,active:p.bool,className:p.string,dataTest:p.string,disabled:p.bool,onClick:p.func};const Zo=s=>typeof s>"u"||s===null||s==="",Dg=s=>typeof s=="string",dk=(s,e,t)=>t>=s&&t<=e,hk="Incorrect arguments provided when creating validator",vh=(s,e)=>{if(Zo(s)||typeof s!==e)throw new Error(hk)},fk=function(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.reduce((a,o)=>a||o(...r),void 0)}},pk=(s,e,t)=>{vh(s,"number"),vh(e,"number");const n=t||P.t("Please enter between {{lowerBound}} and {{upperBound}} characters",{lowerBound:s,upperBound:e});return r=>Zo(r)||Dg(r)&&dk(s,e,r.length)?void 0:n},mk=s=>pk(0,s,P.t("Please enter a maximum of {{upperBound}} characters",{upperBound:s})),gk="The first argument passed to createPattern was not a valid regex",vk=(s,e)=>{if(!(s instanceof RegExp))throw new Error(gk);return t=>Zo(t)||Dg(t)&&s.test(t)?void 0:e||P.t("Please make sure the value of this input matches the pattern {{patternString}}.",{patternString:s.toString()})},bk=P.t("Please provide a value"),yk=s=>Zo(s)?bk:void 0,wk=s=>Object.entries(Bw[s]).reduce((e,t)=>{let[n,r]=t;return e[`${s}-${n}`]=r,e},{}),xk=s=>Object.entries(s).map(e=>{let[t,n]=e;return`--${t}: ${n};`}).join(`
`),Og=s=>{let{colors:e=!1,theme:t=!1,layers:n=!1,spacers:r=!1,elevations:i=!1}=s;const a={colors:e,theme:t,layers:n,spacers:r,elevations:i},o=Object.keys(a).filter(l=>a[l]).map(wk).map(xk).join(`
`);return w.createElement(I,{id:"3443925957",dynamic:[o]},[`html{${o};}`])};Og.propTypes={colors:p.bool,elevations:p.bool,layers:p.bool,spacers:p.bool,theme:p.bool};const Sk=s=>{let{execute:e,variables:t,singular:n,immediate:r,onComplete:i,onError:a}=s;const[o]=Lm(e),[l,c]=y.useState({called:!!r,loading:!!r}),u=y.useRef(t),d=y.useRef([]),h=y.useCallback(()=>{d.current.forEach(g=>g.abort()),d.current=[]},[]),f=y.useCallback(()=>{h(),c(g=>({called:g.called,loading:!1,error:new Tw({type:"aborted",message:"Aborted"})}))},[h]),m=y.useCallback(function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};c(C=>!C.called||!C.loading?{called:!0,loading:!0}:C),n&&h();const v=new AbortController;d.current.push(v),u.current={...u.current,...g};const b={variables:u.current,signal:v.signal,onComplete:i,onError:a};return o(b).then(C=>v.signal.aborted?new Promise(()=>{}):(c({called:!0,loading:!1,data:C}),C)).catch(C=>(v.signal.aborted||c({called:!0,loading:!1,error:C}),new Promise(()=>{})))},[h,i,a,n,o]);return y.useEffect(()=>(r&&m(),h),[]),{refetch:m,abort:f,...l}},kk={},Ck=function(s){let{onComplete:e,onError:t,variables:n=kk,lazy:r=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=ji(),[a]=Lm(s,{warn:!0,name:"mutation"}),o=y.useCallback(f=>i.mutate(a,f),[i,a]),{refetch:l,called:c,loading:u,error:d,data:h}=Sk({execute:o,variables:n,singular:!1,immediate:!r,onComplete:e,onError:t});return[l,{engine:i,called:c,loading:u,error:d,data:h}]},Se="ACCESS_NONE",Le="ACCESS_VIEW_ONLY",je="ACCESS_VIEW_AND_EDIT",rd="SHARE_TARGET_EXTERNAL",_n="SHARE_TARGET_PUBLIC",Fn="SHARE_TARGET_USER",Ar="SHARE_TARGET_GROUP",zg={AGGREGATE_DATA_EXCHANGE:"aggregateDataExchange",API_TOKEN:"apiToken",ATTRIBUTE:"attribute",CATEGORY:"category",CATEGORY_COMBO:"categoryCombo",CATEGORY_OPTION:"categoryOption",CATEGORY_OPTION_GROUP:"categoryOptionGroup",CATEGORY_OPTION_GROUP_SET:"categoryOptionGroupSet",CONSTANT:"constant",DASHBOARD:"dashboard",DATA_APPROVAL_LEVEL:"dataApprovalLevel",DATA_APPROVAL_WORKFLOW:"dataApprovalWorkflow",DATA_ELEMENT:"dataElement",DATA_ELEMENT_GROUP:"dataElementGroup",DATA_ELEMENT_GROUP_SET:"dataElementGroupSet",DATA_SET:"dataSet",DATASTORE:"dataStore",DOCUMENT:"document",EVENT_CHART:"eventChart",EVENT_FILTER:"eventFilter",EVENT_REPORT:"eventReport",EVENT_VISUALIZATION:"eventVisualization",EXPRESSION_DIMENSION_ITEM:"expressionDimensionItem",EXTERNAL_MAP_LAYER:"externalMapLayer",IDENTIFIABLE_OBJECT:"identifiableObject",INDICATOR:"indicator",INDICATOR_GROUP:"indicatorGroup",INDICATOR_GROUP_SET:"indicatorGroupSet",INTERPRETATION:"interpretation",LEGEND_SET:"legendSet",MAP:"map",OPTION_GROUP:"optionGroup",OPTION_GROUP_SET:"optionGroupSet",OPTION_SET:"optionSet",ORGANISATION_UNIT_GROUP:"organisationUnitGroup",ORGANISATION_UNIT_GROUP_SET:"organisationUnitGroupSet",PREDICTOR_GROUP:"predictorGroup",PROGRAM:"program",PROGRAM_INDICATOR:"programIndicator",PROGRAM_INDICATOR_GROUP:"programIndicatorGroup",PROGRAM_STAGE:"programStage",PROGRAM_STAGE_WORKING_LIST:"programStageWorkingList",RELATIONSHIP_TYPE:"relationshipType",REPORT:"report",SQL_VIEW:"sqlView",TRACKED_ENTITY_ATTRIBUTE:"trackedEntityAttribute",TRACKED_ENTITY_FILTER:"trackedEntityFilter",TRACKED_ENTITY_TYPE:"trackedEntityType",USER_GROUP:"userGroup",USER_ROLE:"userRole",VALIDATION_RULE:"validationRule",VALIDATION_RULE_GROUP:"validationRuleGroup",VISUALIZATION:"visualization"},Lg=Object.values(zg),io=y.createContext(!1);var Pk=void 0;const Ak=(s,e,t)=>{let n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const o=Pk,l=()=>{n=null,s.apply(o,i)};clearTimeout(n),n=setTimeout(l,e)}},Bl=s=>s===void 0?Se:typeof s=="boolean"?s?Le:Se:s.startsWith("rw")?je:s.startsWith("r-")?Le:Se,Bg=s=>{if(typeof s=="boolean")return{data:Se,metadata:Bl(s)};const e=s==null?void 0:s.substring(0,2),t=s==null?void 0:s.substring(2,4);return{data:Bl(t),metadata:Bl(e)}},bh=s=>{switch(s){case Se:return"--";case Le:return"r-";case je:return"rw";default:return"--"}},ni=s=>`${bh(s.metadata)}${bh(s.data)}----`,na=s=>{let{access:e,...t}=s;return{...t,access:Bg(e)}},Tk=[rd,_n],yh=s=>!Tk.includes(s),Ek=s=>{let{object:e,type:t,access:n,id:r}=s;switch(t){case"public":return{object:{...e,publicAccess:ni(n)}};case"group":{const i=e.userGroupAccesses.map(o=>o.id!==r?o:{...o,access:ni(n)}),a={object:{...e,userGroupAccesses:i}};return console.log(a),a}case"user":{const i=e.userAccesses.map(o=>o.id!==r?o:{...o,access:ni(n)});return{object:{...e,userAccesses:i}}}}},Mk=s=>{let{object:e,type:t,id:n,access:r,name:i}=s;switch(t){case"group":return{object:{...e,userGroupAccesses:[...e.userGroupAccesses,{id:n,name:i,access:ni(r)}]}};case"user":return{object:{...e,userAccesses:[...e.userAccesses,{id:n,name:i,access:ni(r)}]}}}},Nk=s=>{let{object:e,type:t,id:n}=s;switch(t){case"group":{const r=e.userGroupAccesses.filter(a=>a.id!==n);return{object:{...e,userGroupAccesses:r}}}case"user":{const r=e.userAccesses.filter(a=>a.id!==n);return{object:{...e,userAccesses:r}}}}},Rk="المستخدم",Dk="بيانات",Ok="البيانات الوصفية",zk="بحث",Lk="إغلاق",Bk={"View only":"العرض فقط","View and edit":"عرض وتعديل","No access":"لا يمكن الوصول","Give access to a user or group":"منح حق الوصول إلى مستخدم أو مجموعة","Data access level":"","Choose a level":"","Not available offline":"غير متوفر في وضع عدم الإتصال","Metadata access level":"","Access level":"مستوى الوصول","Give access":"السماح بالوصول","Users and groups that currently have access":"المستخدمون والمجموعات التي لديها حق الوصول حاليًا","User / Group":"","All users":"جميع المستخدمين","Anyone logged in":"","User group":"مجموعة المستخدمين",User:Rk,Data:Dk,"Remove access":"إزالة الوصول",Metadata:Ok,"User or group":"مستخدم أو مجموعة",Search:zk,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"حدث خطأ ما","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:Lk,"Dashboard sharing":""},jk="",Ik="البيانات",$k="",_k="البحث",Fk="إغلاق",Vk={"View only":"","View and edit":"","No access":"ممنوع الدخول","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"",User:jk,Data:Ik,"Remove access":"",Metadata:$k,"User or group":"",Search:_k,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:Fk,"Dashboard sharing":""},Uk="داتا پەیوەندیدارەکان",Hk="گەڕان",Wk="داخستن",qk={"View only":"","View and edit":"","Give access to a user or group":"","Access level":"","Select a level":"","Not available offline":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","No access":"","Can view":"","Can view and edit":"",Metadata:Uk,"Remove access":"","User or group":"",Search:Hk,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"هەڵەیەک ڕووی دا","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:Wk,"Dashboard sharing":""},Gk="Uživatel",Kk="Data",Yk="Metadata",Qk="Hledat",Jk="Zavřít",Zk={"View only":"Pouze zobrazení","View and edit":"Zobrazení a úpravy","No access":"Žádný přístup","Give access to a user or group":"Udělte přístup uživateli nebo skupině","Data access level":"","Choose a level":"","Not available offline":"Není k dispozici offline","Metadata access level":"","Access level":"Úroveň přístupu","Give access":"Povolit přístup","Users and groups that currently have access":"Uživatelé a skupiny, kteří mají aktuálně přístup","User / Group":"Uživatel / Skupina","All users":"Všichni uživatelé","Anyone logged in":"","User group":"Uživatelská skupina",User:Gk,Data:Kk,"Remove access":"Odebrat přístup",Metadata:Yk,"User or group":"Uživatel nebo skupina",Search:Qk,"Apply dashboard sharing settings to visualizations":"Na vizualizace použijte nastavení sdílení ovládacího panelu","Something went wrong":"Něco se pokazilo","Apply sharing to dashboard visualizations":"Použít sdílení na vizualizace ovládacího panelu","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"Nebyly aktualizovány žádné vizualizace. Zkontrolujte, zda máte oprávnění ke změně sdílení pro všechny vizualizace.","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"Ne všechny vizualizace bylo možné úspěšně aktualizovat. {{ success }} aktualizováno úspěšně, {{ failed }} se nepodařilo aktualizovat. Zkontrolujte, zda máte oprávnění ke změně sdílení pro všechny vizualizace.","No visualizations were updated because sharing settings are already sufficient.":"Nebyly aktualizovány žádné vizualizace, protože nastavení sdílení je již dostačující.","Successfully updated sharing for all visualizations.":"Úspěšně aktualizováno sdílení pro všechny vizualizace.","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"Ne všechna nastavení sdílení vizualizací bylo nutné aktualizovat. {{ updated }} aktualizováno, {{ skipped }} již má dostatečné nastavení sdílení.","There are no users or groups to apply sharing settings for.":"Nejsou žádní uživatelé ani skupiny, pro které by bylo možné použít nastavení sdílení.","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"Počet vizualizací na tomto řídicím panelu, které potenciálně získají aktualizované nastavení sdílení: {{ visualizationsCount }}. Počet uživatelů nebo skupin, na které se tato aktualizovaná nastavení budou vztahovat: {{ entityAmount }}.",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"Použití stejných nastavení sdílení zajistí, že uživatelé a skupiny, které mají přístup k řídicímu panelu, budou mít také přístup k jeho vizualizacím (grafy, tabulky, mapy, grafy událostí a zprávy o událostech) alespoň „Pouze zobrazení“.",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"Pokud uživatel nebo skupina již má k vizualizaci přístup „Zobrazení a úpravy“, nebude to omezeno na „Pouze zobrazení“. Úroveň přístupu „Všichni uživatelé“ nebude aktualizována ani změněna.","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"Použití sdílení nelze vrátit zpět a je nutné jej provést znovu, pokud na ovládací panel přidáte nové vizualizace nebo se změní jeho nastavení sdílení.","Sharing and access: {{- objectName}}":"Sdílení a přístup: {{- objectName}}","Sharing and access":"Sdílení a přístup",Close:Jk,"Dashboard sharing":"Sdílení ovládacího panelu"},Xk="",eC="",tC="",sC="",nC="Close",rC={"View only":"","View and edit":"","No access":"","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"",User:Xk,Data:eC,"Remove access":"",Metadata:tC,"User or group":"",Search:sC,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:nC,"Dashboard sharing":""},iC="User",aC="Data",oC="Metadata",lC="Search",cC="Close",uC={"View only":"View only","View and edit":"View and edit","No access":"No access","Give access to a user or group":"Give access to a user or group","Data access level":"Data access level","Choose a level":"Choose a level","Not available offline":"Not available offline","Metadata access level":"Metadata access level","Access level":"Access level","Give access":"Give access","Users and groups that currently have access":"Users and groups that currently have access","User / Group":"User / Group","All users":"All users","Anyone logged in":"Anyone logged in","User group":"User group",User:iC,Data:aC,"Remove access":"Remove access",Metadata:oC,"User or group":"User or group",Search:lC,"Apply dashboard sharing settings to visualizations":"Apply dashboard sharing settings to visualizations","Something went wrong":"Something went wrong","Apply sharing to dashboard visualizations":"Apply sharing to dashboard visualizations","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"No visualizations were updated. Check that you have permission to change sharing for all visualizations.","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.","No visualizations were updated because sharing settings are already sufficient.":"No visualizations were updated because sharing settings are already sufficient.","Successfully updated sharing for all visualizations.":"Successfully updated sharing for all visualizations.","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.","There are no users or groups to apply sharing settings for.":"There are no users or groups to apply sharing settings for.","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).','If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':`If a user or group already has "View and edit" access to a visualization, this won't be reduced to "View only". The "All users" access level won't be updated or changed.`,"Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.","Sharing and access: {{- objectName}}":"Sharing and access: {{- objectName}}","Sharing and access":"Sharing and access",Close:cC,"Dashboard sharing":"Dashboard sharing"},dC="Usuario",hC="Datos",fC="Metadatos",pC="Buscar",mC="Cerrar",gC={"View only":"Solo lectura","View and edit":"Ver y editar","No access":"Sin acceso","Give access to a user or group":"Dar acceso a un usuario o grupo","Data access level":"","Choose a level":"","Not available offline":"No disponible sin conexión a internet","Metadata access level":"","Access level":"Nivel de acceso","Give access":"Dar acceso","Users and groups that currently have access":"Usuarios y grupos que actualmente tienen acceso","User / Group":"Usuario / Grupo","All users":"Todos los usuarios","Anyone logged in":"","User group":"Grupo de usuario",User:dC,Data:hC,"Remove access":"Eliminar acceso",Metadata:fC,"User or group":"Usuario o Grupo",Search:pC,"Apply dashboard sharing settings to visualizations":"Aplicar la configuración compartir del tablero a las visualizaciones","Something went wrong":"Algo ha salido mal","Apply sharing to dashboard visualizations":"Aplicar compartir a las visualizaciones del tablero","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"No se actualizaron las visualizaciones. Compruebe que tiene permiso para cambiar la configuración compartir de todas las visualizaciones.","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"No todas las visualizaciones se pudieron actualizar correctamente. {{ success }} actualizado con éxito, {{ failed }} error al actualizar. Compruebe que tiene permiso para cambiar la configuración de uso compartido de todas las visualizaciones.","No visualizations were updated because sharing settings are already sufficient.":"No se han actualizado las visualizaciones porque la configuración para compartir ya es suficiente","Successfully updated sharing for all visualizations.":"Configuración de uso compartido actualizado con éxito para todas las visualizaciones.","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"No todas las configuraciones para compartir visualizaciones requieren actualización. {{ updated }} actualizado, {{ skipped }} ya tiene suficiente acceso.","There are no users or groups to apply sharing settings for.":"No hay usuarios o grupos a los que aplicar la configuración de uso compartido","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"Número de visualizaciones en este tablero que potencialmente actualizarán su confugiración de uso compartido: {{ visualizationsCount }}. El número de usuarios o grupos a los que se aplicarán estas configuraciones actualizadas: {{ entityAmount }}.",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':'La aplicación de la misma configuración para compartir garantiza que los usuarios y grupos que tienen acceso al tablero también tienen al menos acceso de "Solo lectura" a sus visualizaciones (gráficos, tablas, mapas, gráficos de eventos e informes de eventos).','If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':'Si un usuario o grupo ya tiene acceso "Ver y editar" a una visualización, este no se reducirá a "Solo lectura". El nivel de acceso "Todos los usuarios" no se actualizará ni cambiará.',"Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"Aplicar esta configuración de uso compartido no puede deshacerse, y deberás hacer estos cambios nuevamente si nuevas visualizaciones son agregadas al tablero o si su configuración de uso compartido es modificada.","Sharing and access: {{- objectName}}":"Compartir y acceder: {{- objectName}}","Sharing and access":"Acceso compartido",Close:mC,"Dashboard sharing":"Compartir tablero"},vC="",bC="Datos",yC="Metadatos",wC="Buscar",xC="Cerrar",SC={"View only":"Ver sólo","View and edit":"Ver y editar","No access":"Sin acceso","Give access to a user or group":"Dar acceso a un usuario o grupo","Data access level":"","Choose a level":"","Not available offline":"No disponible sin conexión","Metadata access level":"","Access level":"Nivel de acceso","Give access":"Dar acceso","Users and groups that currently have access":"Usuarios y grupos que tienen acceso actualmente","User / Group":"Usuario / Grupo","All users":"Todos los usuarios","Anyone logged in":"","User group":"",User:vC,Data:bC,"Remove access":"Eliminar el acceso",Metadata:yC,"User or group":"Usuario o grupo",Search:wC,"Apply dashboard sharing settings to visualizations":"Aplicar la configuración de uso compartido del cuadro de mandos a las visualizaciones","Something went wrong":"Algo ha ido mal","Apply sharing to dashboard visualizations":"Aplicar la compartición a las visualizaciones de cuadros de mando","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"No se ha actualizado ninguna visualización. Compruebe que tiene permiso para cambiar el uso compartido de todas las visualizaciones.","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"No se han podido actualizar correctamente todas las visualizaciones. {{ success }} se ha actualizado correctamente, {{ failed }} no se ha podido actualizar. Compruebe que tiene permiso para cambiar la compartición de todas las visualizaciones.","No visualizations were updated because sharing settings are already sufficient.":"No se ha actualizado ninguna visualización porque los ajustes de compartición ya son suficientes.","Successfully updated sharing for all visualizations.":"Actualizada con éxito la compartición de todas las visualizaciones.","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"No era necesario actualizar todos los ajustes de compartición de visualizaciones. {{ updated }} actualizado, {{ skipped }} ya tenía suficientes ajustes de compartición.","There are no users or groups to apply sharing settings for.":"No hay usuarios ni grupos a los que aplicar la configuración de uso compartido.","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"Número de visualizaciones en este cuadro de mando que potencialmente obtendrán ajustes de uso compartido actualizados: {{ visualizationsCount }}. Número de usuarios o grupos a los que se aplicarán estos ajustes actualizados: {{ entityAmount }}.",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':'Aplicando la misma configuración de compartición se garantiza que los usuarios y grupos que tienen acceso al cuadro de mando también tienen al menos acceso de "sólo visualización" a sus visualizaciones (gráficos, tablas, mapas, gráficos de eventos e informes de eventos).','If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':'Si un usuario o grupo ya tiene acceso "Ver y editar" a una visualización, éste no se reducirá a "Sólo ver". El nivel de acceso "Todos los usuarios" no se actualizará ni cambiará.',"Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"La aplicación de la compartición no puede deshacerse, y debe hacerse de nuevo si se añaden nuevas visualizaciones al cuadro de mandos o se cambia su configuración de compartición.","Sharing and access: {{- objectName}}":"Compartir y acceder: {{- objectName}}","Sharing and access":"Compartir y acceder",Close:xC,"Dashboard sharing":"Compartir el cuadro de mandos"},kC="",CC="",PC="",AC={"View only":"","View and edit":"","Give access to a user or group":"","Access level":"","Select a level":"","Not available offline":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","No access":"","Can view":"","Can view and edit":"",Metadata:kC,"Remove access":"","User or group":"",Search:CC,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"Jokin meni pieleen","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:PC,"Dashboard sharing":""},TC="Utilisateur",EC="Données",MC="Métadonnées",NC="Chercher",RC="Fermer",DC={"View only":"","View and edit":"","No access":"Pas d'accès","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"Non disponible hors ligne","Metadata access level":"","Access level":"Niveau d'accès","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"Groupe d'utilisateurs",User:TC,Data:EC,"Remove access":"",Metadata:MC,"User or group":"",Search:NC,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"Quelque chose a mal tourné","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:RC,"Dashboard sharing":""},OC="",zC="",LC="",BC="",jC="बंद करें",IC={"View only":"","View and edit":"","No access":"","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"",User:OC,Data:zC,"Remove access":"",Metadata:LC,"User or group":"",Search:BC,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"कुछ गलत हुआ","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:jC,"Dashboard sharing":""},$C="",_C="Data",FC="Metadata",VC="Pencarian",UC="Tutup",HC={"View only":"","View and edit":"","No access":"Tidak ada akses","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"",User:$C,Data:_C,"Remove access":"",Metadata:FC,"User or group":"",Search:VC,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"Terjadi kesalahan","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:UC,"Dashboard sharing":""},WC="",qC="Data",GC="ទិន្នន័យ",KC="ស្វែងរក",YC="បិទ",QC={"View only":"","View and edit":"","No access":"","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"",User:WC,Data:qC,"Remove access":"",Metadata:GC,"User or group":"",Search:KC,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:YC,"Dashboard sharing":""},JC="ຜູ້ໃຊ້",ZC="ຂໍ້ມູນ",XC="ໂຄງຮ່າງຖານຂໍ້ມູນ",eP="ຄົ້ນຫາ",tP="ປິດ",sP={"View only":"ເບິ່ງໄດ້ເທົ່ານັ້ນ","View and edit":"ເບິ່ງ ແລະ ແກ້ໄຂ","No access":"ບໍ່ມີການເຂົ້າເຖີງ","Give access to a user or group":"ໃຫ້ຜູ້ໃຊ້ ຫຼື ກຸ່ມເຂົ້າເຖິງ","Data access level":"","Choose a level":"","Not available offline":"ບໍ່ສາມາດໃຊ້ໄດ້ອອບລາຍ","Metadata access level":"","Access level":"ຂັ້ນການເຂົ້າເຖິງ","Give access":"ໃຫ້ການເຂົ້າເຖິງ","Users and groups that currently have access":"ຜູ້ໃຊ້ ແລະ ກຸ່ມທີ່ໄດ້ເຂົ້າເຖິງ","User / Group":"ຜູ້ໃຊ້ / ກຸ່ມ","All users":"ຜູ້ໃຊ້ທັງໝົດ","Anyone logged in":"","User group":"",User:JC,Data:ZC,"Remove access":"ເອົາການເຂົ້າເຖິງອອກ",Metadata:XC,"User or group":"ຜູ້ໃຊ້ ຫຼື ກຸ່ມ",Search:eP,"Apply dashboard sharing settings to visualizations":"ນຳໃຊ້ການຕັ້ງຄ່າແບ່ງປັນກະດານຂ່າວກັບພາບຂໍ້ມູນ","Something went wrong":"ມີບາງຢ່າງຜິດພາດ","Apply sharing to dashboard visualizations":"ນຳໃຊ້ການແບ່ງປັນພາບຂໍ້ມູນກັບກະດານຂ່າວ","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"ບໍ່ມີການອັບເດດພາບຂໍ້ມູນ. ກວດເບິ່ງຄືນວ່າທ່ານໄດ້ຮັບການອະນຸຍາດໃຫ້ປ່ຽນການແບ່ງປັນສໍາລັບພາບຂໍ້ມູນ.","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"ພາບຂໍ້ມູນທັງໝົດບໍ່ສາມາດອັບເດດໄດ້ສຳເລັດ. ອັບເດດ {{ success }} ສຳເລັດແລ້ວ, {{ failed }} ລົ້ມເຫລວໃນການອັບເດດ. ກວດເບິ່ງວ່າທ່ານໄດ້ຮັບການອະນຸຍາດໃຫ້ປ່ຽນການແບ່ງປັນສໍາລັບພາບຂໍ້ມູນທັງຫມົດ.","No visualizations were updated because sharing settings are already sufficient.":"ບໍ່ມີການອັບເດດພາບຂໍ້ມູນເນື່ອງຈາກການຕັ້ງຄ່າການແບ່ງປັນພຽງພໍແລ້ວ.","Successfully updated sharing for all visualizations.":"ອັບເດດການແບ່ງປັນສຳເລັດແລ້ວສຳລັບພາບຂໍ້ມູນທັງໝົດ.","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"ບໍ່ແມ່ນການຕັ້ງຄ່າການແບ່ງປັນພາບທັງໝົດທີ່ຈຳເປັນເພື່ອອັບເດດ. {{ updated }} ອັບເດດແລ້ວ, {{ skipped }} ມີການຕັ້ງຄ່າການແບ່ງປັນພຽງພໍແລ້ວ.","There are no users or groups to apply sharing settings for.":"ບໍ່ມີຜູ້ໃຊ້ ຫຼື ກຸ່ມສຳລັບການນໍາໃຊ້ການຕັ້ງຄ່າແບ່ງປັນ.","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"ຈຳນວນພາບຂໍ້ມູນໃນກະດານຂ່າວນີ້ທີ່ອາດຈະໄດ້ມີການອັບເດດການຕັ້ງຄ່າການແບ່ງປັນ: {{ visualizationsCount }}. ຈຳນວນຜູ້ໃຊ້ ຫຼືກຸ່ມທີ່ອັບເດດການຕັ້ງຄ່າເຫຼົ່ານີ້ຈະໃຊ້ກັບ: {{ entityAmount }}.",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':'ການໃຊ້ການຕັ້ງຄ່າແບບແບ່ງປັນຄືກັນແມ່ນຕ້ອງໃຫ້ແນ່ໃຈວ່າຜູ້ໃຊ້ ແລະ ກຸ່ມທີ່ເຂົ້າເຖິງກະດານຂ່າວສາມາດ "ເບິ່ງເທົ່ານັ້ນ" ໃນພາບຂໍ້ມູນ (ແຜນການ, ຕາຕະລາງ, ແຜນທີ່, ຕາຕະລາງເຫດການ ແລະ ການລາຍງານເຫດການ).','If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':'ຖ້າຜູ້ໃຊ້ ຫຼື ກຸ່ມມີການເຂົ້າເຖິງແບບ "ເບິ່ງ ແລະແກ້ໄຂ" ຕໍ່ພາບຂໍ້ມູນນັ້ນຈະບໍ່ຖືກຫຼຸດລົງເປັນ "ເບິ່ງເທົ່ານັ້ນ". ການເຂົ້າເຖິງຂັ້ນ "ຜູ້ໃຊ້ທັງໝົດ" ຈະບໍ່ຖືກອັບເດດ ຫຼື ປ່ຽນແປງ.',"Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"ການໃຊ້ການແບ່ງປັນບໍ່ສາມາດຍົກເລີກໄດ້, ແລະຕ້ອງເຮັດອີກຄັ້ງ ຖ້າມີການເພີ່ມພາບຂໍ໊ມູນໃໝ່ໃນກະດານຂ່າວ ຫຼື ການຕັ້ງຄ່າການແບ່ງປັນຂອງມັນມີການປ່ຽນແປງ.","Sharing and access: {{- objectName}}":"ການແບ່ງປັນ ແລະ ການເຂົາເຖິງ: {{- objectName}}","Sharing and access":"ການແບ່ງປັນ ແລະ ການເຂົ້າເຖິງ",Close:tP,"Dashboard sharing":"ການແບ່ງປັນກະດານຂ່າວ"},nP="",rP="အချက်အလက်",iP="",aP="",oP="ပိတ်သည်",lP={"View only":"","View and edit":"","No access":"","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"",User:nP,Data:rP,"Remove access":"",Metadata:iP,"User or group":"",Search:aP,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:oP,"Dashboard sharing":""},cP="Bruker",uP="Data",dP="Metadata",hP="Søk",fP="Lukk",pP={"View only":"","View and edit":"","No access":"Ingen tilgang","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"Ikke tilgjengelig i frakoblet modus","Metadata access level":"","Access level":"Tilgangsnivå","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"Brukergruppe",User:cP,Data:uP,"Remove access":"",Metadata:dP,"User or group":"",Search:hP,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"Noe gikk galt","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:fP,"Dashboard sharing":""},mP="",gP="खोज",vP="",bP={"View only":"","View and edit":"","Give access to a user or group":"","Access level":"","Select a level":"","Not available offline":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","No access":"","Can view":"","Can view and edit":"",Metadata:mP,"Remove access":"","User or group":"",Search:gP,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:vP,"Dashboard sharing":""},yP="Gebruiker",wP="Gegevens",xP="Metagegevens",SP="Zoek",kP="Sluit",CP={"View only":"Alleen bekijken","View and edit":"Bekijk en bewerk","No access":"Geen toegang","Give access to a user or group":"Geef toegang aan een gebruiker of groep","Data access level":"","Choose a level":"","Not available offline":"Niet beschikbaar offline","Metadata access level":"","Access level":"Toegangsniveau","Give access":"Toegang geven","Users and groups that currently have access":"Gebruikers en groepen die momenteel toegang hebben","User / Group":"Gebruiker / groep","All users":"Alle gebruikers","Anyone logged in":"","User group":"",User:yP,Data:wP,"Remove access":"Toegang verwijderen",Metadata:xP,"User or group":"Gebruiker of groep",Search:SP,"Apply dashboard sharing settings to visualizations":"Instellingen voor delen van dashboards toepassen op visualisaties","Something went wrong":"Er is iets fout gegaan.","Apply sharing to dashboard visualizations":"Pas delen toe op dashboardvisualisaties","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"Er zijn geen visualisaties bijgewerkt. Controleer of u gemachtigd bent om het delen voor alle visualisaties te wijzigen.","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"Niet alle visualisaties konden met succes worden bijgewerkt. {{ success }} succesvol bijgewerkt, {{ failed }} kan niet worden bijgewerkt. Controleer of u gemachtigd bent om het delen voor alle visualisaties te wijzigen.","No visualizations were updated because sharing settings are already sufficient.":"Er zijn geen visualisaties bijgewerkt omdat de instellingen voor delen al voldoende zijn.","Successfully updated sharing for all visualizations.":"Delen voor alle visualisaties is geüpdatet.","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"Niet alle instellingen voor het delen van visualisaties hoefden te worden bijgewerkt. {{ updated }} bijgewerkt, {{ skipped }} had al voldoende instellingen voor delen.","There are no users or groups to apply sharing settings for.":"Er zijn geen gebruikers of groepen om instellingen voor delen toe te passen.","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"Aantal visualisaties op dit dashboard dat mogelijk geüpdatete instellingen voor delen krijgt: {{ visualizationsCount }}. Het aantal gebruikers of groepen waarop deze bijgewerkte instellingen van toepassing zijn: {{ entityAmount }}.",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':'Het toepassen van dezelfde instellingen voor delen zorgt ervoor dat gebruikers en groepen die toegang hebben tot het dashboard ook ten minste "Alleen weergeven" toegang hebben tot de visualisaties (grafieken, tabellen, kaarten, gebeurtenisgrafieken en gebeurtenisrapporten).','If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':`Als een gebruiker of groep al het recht "Bekijken en bewerken" heeft voor een visualisatie, wordt dit niet beperkt tot "Alleen weergeven". Het toegangsniveau 'Alle gebruikers' wordt niet bijgewerkt of gewijzigd.`,"Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"Het toepassen van delen kan niet ongedaan worden gemaakt en moet opnieuw worden gedaan als er nieuwe visualisaties aan het dashboard worden toegevoegd of als de instellingen voor delen worden gewijzigd.","Sharing and access: {{- objectName}}":"Delen en toegang: {{- objectName}}","Sharing and access":"Delen en toegang",Close:kP,"Dashboard sharing":"Dashboard delen"},PP="استفاده کننده",AP="دیتا",TP="",EP="جستجو",MP="بستن",NP={"View only":"","View and edit":"","No access":"دسترسی وجود ندارد","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"گروپ استفاده کننده",User:PP,Data:AP,"Remove access":"",Metadata:TP,"User or group":"",Search:EP,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:MP,"Dashboard sharing":""},RP="",DP="مالومات (ډاټا)",OP="",zP="جستجو",LP="بند یې کړئ",BP={"View only":"","View and edit":"","No access":"","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"",User:RP,Data:DP,"Remove access":"",Metadata:OP,"User or group":"",Search:zP,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:LP,"Dashboard sharing":""},jP="Utilizador",IP="Dados",$P="Metadados",_P="Pesquisar",FP="Fechar",VP={"View only":"Ver apenas","View and edit":"Visualizar e editar","No access":"Sem acesso","Give access to a user or group":"Atribuir acesso a um utilizador ou grupo","Data access level":"Nível de acesso aos dados","Choose a level":"Escolher um nível","Not available offline":"Não disponível offline","Metadata access level":"Nível de acesso aos metadados","Access level":"Niveis de acesso ","Give access":"Atribuir acesso","Users and groups that currently have access":"Utilizadores e grupos que têm atualmente acesso","User / Group":"Utilizador / Grupo","All users":"Todos os utilizadores","Anyone logged in":"Qualquer pessoa com sessão iniciada","User group":"Grupo de usuários",User:jP,Data:IP,"Remove access":"Remover o acesso",Metadata:$P,"User or group":"Utilizador ou grupo",Search:_P,"Apply dashboard sharing settings to visualizations":"Aplicar definições de partilha do dashboard às visualizações","Something went wrong":"Ocorreu algo de errado","Apply sharing to dashboard visualizations":"Aplicar a partilha às visualizações de dashboard","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"Nenhuma visualização foi atualizada. Verifique se você tem permissão para alterar a compartilha de todas as visualizações.","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"Nem todas as visualizações puderam ser atualizadas com sucesso. {{ success }} foi atualizado com sucesso, {{ failed }} falhou na atualização. Verifique se você tem permissão para alterar a compartilha de todas as visualizações.","No visualizations were updated because sharing settings are already sufficient.":"Não foram actualizadas quaisquer visualizações porque as definições de partilha já são suficientes.","Successfully updated sharing for all visualizations.":"Partilha actualizada com êxito para todas as visualizações.","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"Nem todas as definições de partilha de visualizações precisavam de ser actualizadas. {{ updated }} atualizado, {{ skipped }} já tinha definições de partilha suficientes.","There are no users or groups to apply sharing settings for.":"Não existem utilizadores ou grupos aos quais aplicar definições de partilha.","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"Número de visualizações neste painel que potencialmente receberão definições de partilha actualizadas: {{ visualizationsCount }}. O número de utilizadores ou grupos aos quais estas definições actualizadas se aplicarão: {{ entityAmount }}.",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"Aplicar as mesmas configurações de partilha garante que os utilizadores e grupos que têm acesso ao dashboard também tenham, pelo menos, acesso de 'Apenas visualização' às suas visualizações (gráficos, tabelas, mapas, gráficos de eventos e relatórios de eventos).",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"Se um utilizador ou grupo já tem acesso de 'Visualizar e editar' a uma visualização, este acesso não será reduzido para 'Apenas visualização'. O nível de acesso 'Todos os utilizadores' não será atualizado nem alterado.","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"Aplicar as configurações de partilha não pode ser desfeito, e precisa ser feito novamente se novas visualizações forem adicionadas ao dashboard ou se as suas configurações de partilha forem alteradas.","Sharing and access: {{- objectName}}":"Partilha e acesso: {{- objectName}}","Sharing and access":"Partilha e acesso",Close:FP,"Dashboard sharing":"Partilha do painel"},UP="Usuário",HP="Dados",WP="Metadados",qP="Pesquisar",GP="Fechar",KP={"View only":"","View and edit":"","No access":"Sem acesso","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"Grupo de usuários",User:UP,Data:HP,"Remove access":"",Metadata:WP,"User or group":"",Search:qP,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:GP,"Dashboard sharing":""},YP="",QP="Căutare",JP="Închidere",ZP={"View only":"","View and edit":"","Give access to a user or group":"","Access level":"","Select a level":"","Not available offline":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","No access":"","Can view":"","Can view and edit":"",Metadata:YP,"Remove access":"","User or group":"",Search:QP,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:JP,"Dashboard sharing":""},XP="Пользователь",eA="Данные",tA="Метаданные",sA="Поиск",nA="Закрыть",rA={"View only":"Только просмотр","View and edit":"Просмотр и редактирование","No access":"Нет доступа","Give access to a user or group":"Предоставить доступ пользователю или группе","Data access level":"","Choose a level":"","Not available offline":"Недоступно в автономном режиме","Metadata access level":"","Access level":"Уровень доступа","Give access":"Предоставить доступ","Users and groups that currently have access":"Пользователи и группы с доступом","User / Group":"Пользователь / Группа","All users":"Все пользователи","Anyone logged in":"","User group":"Группа пользователей",User:XP,Data:eA,"Remove access":"Удалить доступ",Metadata:tA,"User or group":"Пользователь или группа",Search:sA,"Apply dashboard sharing settings to visualizations":"Применить параметры доступа к инфопанели к визуализациям","Something went wrong":"Что-то пошло не так","Apply sharing to dashboard visualizations":"Применить параметры доступа к визуализациям инфопанели","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"Визуализации не были обновлены. Убедитесь, что у вас есть право на изменение параметров доступа ко всем визуализациям.","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"Не все визуализации были успешно обновлены. Обновлено: {{ success }}, не обновлено: {{ failed }} . Убедитесь, что у вас есть право на изменение общего параметров доступа ко всем визуализациям.","No visualizations were updated because sharing settings are already sufficient.":"Визуализации не были обновлены, необходимые права доступа уже предоставлены.","Successfully updated sharing for all visualizations.":"Доступ ко всем визуализациям успешно обновлен","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"Нет необходимости обнавлять все параметры доступа к визуализациям. Обновлено: {{ updated }}, доступ уже предоставлен: {{ skipped }}.","There are no users or groups to apply sharing settings for.":"Нет пользователей или групп для применения настроек общего доступа.","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"Количество визуализаций на данной инфопанели, которые потенциально получат обновленные настройки доступа: {{ visualizationsCount }}. Количество пользователей или групп, к которым будут применены обновленные настройки: {{ entityAmount }}.",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"Применение одинаковых параметров доступа гарантирует пользователям и группам, имеющим доступ к инфопанели, доступ (как минимум на просмотр) к ее визуализациям (графикам, таблицам, картам, графикам событий и отчетам).",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':'Если у пользователя или группы уже есть доступ "Просмотр и редактирование" к визуализации, он не будет уменьшен до "Только просмотр". Уровень доступа "Все пользователи" не будет обновлен или изменен.',"Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"Параметров доступа нельзя отменить. Параметры должны устанавливаться заново, если на инфопанель добавлены новые визуализации или настройки доступа изменены.","Sharing and access: {{- objectName}}":"Доступ: {{- objectName}}","Sharing and access":"Совместное использование и доступ",Close:nA,"Dashboard sharing":" Совместное использование инфопанели"},iA="",aA="දත්ත",oA="",lA="සොයන්න",cA="වසන්න",uA={"View only":"","View and edit":"","No access":"පිවිසිය නොහැක","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"මාර්ග අපගතව නොතිබේ","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"",User:iA,Data:aA,"Remove access":"",Metadata:oA,"User or group":"",Search:lA,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:cA,"Dashboard sharing":""},dA="",hA="Data",fA="Metadata",pA="Sök",mA="Stänga",gA={"View only":"","View and edit":"","No access":"","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"",User:dA,Data:hA,"Remove access":"",Metadata:fA,"User or group":"",Search:pA,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"Något gick fel","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:mA,"Dashboard sharing":""},vA="",bA="Dadus",yA="",wA="",xA="Taka",SA={"View only":"","View and edit":"","No access":"","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"",User:vA,Data:bA,"Remove access":"",Metadata:yA,"User or group":"",Search:wA,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:xA,"Dashboard sharing":""},kA="Корбар",CA="Иттилоот",PA="",AA="Ҷустуҷӯ",TA="Пӯшидан",EA={"View only":"","View and edit":"","No access":"","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"",User:kA,Data:CA,"Remove access":"",Metadata:PA,"User or group":"",Search:AA,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:TA,"Dashboard sharing":""},MA="Користувач",NA="Дані",RA="Метадані",DA="Пошук",OA="Закрити",zA={"View only":"Тільки перегляд","View and edit":"Перегляд і редагування","No access":"Немає доступу","Give access to a user or group":"Надати доступ користувачеві або групі","Data access level":"","Choose a level":"","Not available offline":"Недоступно в автономному режимі","Metadata access level":"","Access level":"Рівень доступу","Give access":"Надати доступ","Users and groups that currently have access":"Користувачі та групи, які наразі мають доступ","User / Group":"Користувач / Група","All users":"Всі користувачі","Anyone logged in":"","User group":"Група користувачів",User:MA,Data:NA,"Remove access":"Видалити доступ",Metadata:RA,"User or group":"Користувач або група",Search:DA,"Apply dashboard sharing settings to visualizations":"Застосувати налаштування спільного доступу до інформаційної панелі до візуалізації","Something went wrong":"Сталася помилка","Apply sharing to dashboard visualizations":"Застосувати спільний доступ до візуалізації інформаційної панелі","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"Візуалізації не оновлено. Переконайтеся, що у вас є дозвіл на зміну спільного доступу для всіх візуалізацій.","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"Не всі візуалізації вдалося оновити. {{ success }} успішно оновлено, {{ failed }} не вдалося оновити. Переконайтеся, що у вас є дозвіл на зміну спільного доступу для всіх візуалізацій.","No visualizations were updated because sharing settings are already sufficient.":"Візуалізації не оновлено, оскільки налаштувань спільного доступу вже достатньо.","Successfully updated sharing for all visualizations.":"Успішно оновлено спільний доступ для всіх візуалізацій.","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"Не всі налаштування спільного доступу до візуалізації потрібно було оновити. {{ updated }} оновлено, {{ skipped }} вже має достатньо налаштувань спільного доступу.","There are no users or groups to apply sharing settings for.":"Немає користувачів або груп, для яких можна застосувати налаштування спільного доступу.","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"Кількість візуалізацій на цій інформаційній панелі, які потенційно отримають оновлені налаштування спільного доступу: {{ visualizationsCount }}. Кількість користувачів або груп, до яких застосовуватимуться ці оновлені налаштування: {{ entityAmount }}.",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':'Застосування однакових налаштувань спільного доступу гарантує, що користувачі та групи, які мають доступ до інформаційної панелі, також мають принаймні доступ "Тільки перегляд" до її візуалізацій (діаграми, таблиці, мапи, діаграми подій та звіти про події).','If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':'Якщо користувач або група вже мають доступ до візуалізації "Перегляд і редагування", це не буде зведено до рівня "Тільки перегляд". Рівень доступу "Усі користувачі" не буде оновлено або змінено.',"Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"Застосування спільного доступу неможливо скасувати, і його потрібно виконати знову, якщо на інформаційній панелі додано нові візуалізації або змінено налаштування спільного доступу.","Sharing and access: {{- objectName}}":"Спільний доступ: {{- objectName}}","Sharing and access":"Спільний доступ",Close:OA,"Dashboard sharing":"Спільний доступ до інформаційної панелі"},LA="صارف",BA="ڈیٹا",jA="میٹا ڈیٹا",IA="تلاش کریں",$A="بند",_A={"View only":"","View and edit":"","No access":"داخلہ ممنوع ہے","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"صارف گروپ",User:LA,Data:BA,"Remove access":"",Metadata:jA,"User or group":"",Search:IA,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:$A,"Dashboard sharing":""},FA="Metadata",VA="Izlash",UA="Yopmoq",HA={"View only":"","View and edit":"","Give access to a user or group":"","Access level":"","Select a level":"Pogʼonani tanlang","Not available offline":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","No access":"Kirish taʼqiqlangan","Can view":"Кўриш мумкин","Can view and edit":"",Metadata:FA,"Remove access":"","User or group":"",Search:VA,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"Nimadir notoʼgʼri bajarildi","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:UA,"Dashboard sharing":""},WA="Фойдаланувчи",qA="Маълумот",GA="МетаМаълумот",KA="Қидириш",YA="Ёпиш",QA={"View only":"Фақат кўриш учун","View and edit":"Кўриш ва таҳрирлаш","No access":"Кириш ҳуқуқи мавжуд эмас","Give access to a user or group":"Фойдаланувчи ёки гуруҳга киришга рухсат бериш","Data access level":"","Choose a level":"","Not available offline":"Оффлайн режимда мавжуд эмас","Metadata access level":"","Access level":"Кириш мумкин бўлган босқичлар","Give access":"Рухсат бериш","Users and groups that currently have access":"Рухсати бор бўлган яойдаланувчилар ёки гуруҳлар","User / Group":"Фойдаланувчи/Гуруҳ","All users":"Барча фойдаланувчилар","Anyone logged in":"","User group":"Фойдаланувчи гуруҳи",User:WA,Data:qA,"Remove access":"Рухсатни бекор қилиш",Metadata:GA,"User or group":"Фойдаланувчи ёки гуруҳ",Search:KA,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"Нимадир нотўғри бажарилди","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"Уланиш ва кириш: {{- objectName}}","Sharing and access":"Уланиш ва кириш",Close:YA,"Dashboard sharing":"Бошқарув панелига уланиш"},JA="Foydalanuvchi",ZA="Маълумот",XA="Metadata",eT="Izlash",tT="Yopmoq",sT={"View only":"","View and edit":"","No access":"Kirish taʼqiqlangan","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"",User:JA,Data:ZA,"Remove access":"",Metadata:XA,"User or group":"",Search:eT,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"Nimadir notoʼgʼri bajarildi","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:tT,"Dashboard sharing":""},nT="Người dùng",rT="Dữ liệu",iT="Siêu dữ liệu",aT="Tìm kiếm",oT="Đóng lại",lT={"View only":"Chỉ xem","View and edit":"","No access":"Không truy cập","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"Không có cho ngoại tuyến","Metadata access level":"","Access level":"","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"Nhóm Người Dùng",User:nT,Data:rT,"Remove access":"",Metadata:iT,"User or group":"",Search:aT,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"Có lỗi","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:oT,"Dashboard sharing":""},cT="用户",uT="数据",dT="元数据",hT="搜索",fT="关闭",pT={"View only":"只读","View and edit":"查看和编辑","No access":"不能访问","Give access to a user or group":"授予用户或组访问权限","Data access level":"数据访问级别","Choose a level":"选择级别","Not available offline":"离线不可用","Metadata access level":"元数据访问级别","Access level":"访问等级","Give access":"授予访问权限","Users and groups that currently have access":"当前具有访问权限的用户和组","User / Group":"用户/组","All users":"全部用户","Anyone logged in":"已经登录的任何人","User group":"用户组",User:cT,Data:uT,"Remove access":"删除访问权限",Metadata:dT,"User or group":"用户或组",Search:hT,"Apply dashboard sharing settings to visualizations":"将仪表板共享设置应用于可视化","Something went wrong":"出问题了","Apply sharing to dashboard visualizations":"将共享应用于仪表板可视化","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"没有更新可视化。检查您是否有权更改所有可视化的共享。","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"并非所有可视化都可以成功更新。 {{ success }}更新成功，{{ failed }}更新失败。检查您是否有权更改所有可视化的共享。","No visualizations were updated because sharing settings are already sufficient.":"没有更新可视化，因为共享设置已经足够了。","Successfully updated sharing for all visualizations.":"已成功更新所有可视化的共享。","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"并非所有可视化共享设置都需要更新。 {{ updated }}更新，{{ skipped }}已经有足够的分享设置。","There are no users or groups to apply sharing settings for.":"没有要应用共享设置的用户或组。","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"此仪表板上可能会获得更新共享设置的可视化数量：{{ visualizationsCount }}。这些更新的设置将应用于的用户或组的数量：{{ entityAmount }}。",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"应用相同的共享设置可确保有权访问仪表板的用户和组也至少具有对其可视化（图表、表格、地图、事件图表和事件报告）的“仅查看”访问权限。",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"如果用户或组已经具有对可视化的“查看和编辑”访问权限，则这不会减少为“仅查看”。 “所有用户”访问级别不会更新或更改。","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"应用共享无法撤消，如果新的可视化添加到仪表板或更改其共享设置，则需要再次执行。","Sharing and access: {{- objectName}}":"共享和访问：{{- objectName}}","Sharing and access":"共享和访问",Close:fT,"Dashboard sharing":"仪表板共享"},mT="用户",gT="数据",vT="元数据",bT="搜索",yT="关闭",wT={"View only":"只读","View and edit":"","No access":"不能访问","Give access to a user or group":"","Data access level":"","Choose a level":"","Not available offline":"","Metadata access level":"","Access level":"访问等级","Give access":"","Users and groups that currently have access":"","User / Group":"","All users":"","Anyone logged in":"","User group":"User组",User:mT,Data:gT,"Remove access":"",Metadata:vT,"User or group":"",Search:bT,"Apply dashboard sharing settings to visualizations":"","Something went wrong":"出了些问题","Apply sharing to dashboard visualizations":"","No visualizations were updated. Check that you have permission to change sharing for all visualizations.":"","Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.":"","No visualizations were updated because sharing settings are already sufficient.":"","Successfully updated sharing for all visualizations.":"","Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.":"","There are no users or groups to apply sharing settings for.":"","Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.":"",'Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).':"",'If a user or group already has "View and edit" access to a visualization, this won\'t be reduced to "View only". The "All users" access level won\'t be updated or changed.':"","Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.":"","Sharing and access: {{- objectName}}":"","Sharing and access":"",Close:yT,"Dashboard sharing":""},Ee="default";P.addResources("ar",Ee,Bk);P.addResources("ar_IQ",Ee,Vk);P.addResources("ckb",Ee,qk);P.addResources("cs",Ee,Zk);P.addResources("da",Ee,rC);P.addResources("en",Ee,uC);P.addResources("es",Ee,gC);P.addResources("es_419",Ee,SC);P.addResources("fi",Ee,AC);P.addResources("fr",Ee,DC);P.addResources("hi_IN",Ee,IC);P.addResources("id",Ee,HC);P.addResources("km",Ee,QC);P.addResources("lo",Ee,sP);P.addResources("my",Ee,lP);P.addResources("nb",Ee,pP);P.addResources("ne",Ee,bP);P.addResources("nl",Ee,CP);P.addResources("prs",Ee,NP);P.addResources("ps",Ee,BP);P.addResources("pt",Ee,VP);P.addResources("pt_BR",Ee,KP);P.addResources("ro",Ee,ZP);P.addResources("ru",Ee,rA);P.addResources("si",Ee,uA);P.addResources("sv",Ee,gA);P.addResources("tet",Ee,SA);P.addResources("tg",Ee,EA);P.addResources("uk",Ee,zA);P.addResources("ur",Ee,_A);P.addResources("uz_Latn",Ee,HA);P.addResources("uz_UZ_Cyrl",Ee,QA);P.addResources("uz_UZ_Latn",Ee,sT);P.addResources("vi",Ee,lT);P.addResources("zh",Ee,pT);P.addResources("zh_CN",Ee,wT);const Ac=s=>{let{onClose:e,name:t,children:n,dataTest:r="dhis2-uicore-sharingdialog-modal"}=s;const i=t?P.t("Sharing and access: {{- objectName}}",{objectName:t,nsSeparator:"|"}):P.t("Sharing and access");return w.createElement(Ho,{large:!0,position:"top",onClose:e,dataTest:r},w.createElement(Wo,null,i),w.createElement(qo,null,n),w.createElement(Go,null,w.createElement(Ko,{end:!0},w.createElement(Bt,{type:"button",secondary:!0,onClick:e},P.t("Close")))))};Ac.propTypes={children:p.node.isRequired,dataTest:p.string,name:p.string,onClose:p.func};const un=w.forwardRef((s,e)=>{let{icon:t,onClick:n,selected:r,disabled:i,children:a,className:o,dataTest:l="dhis2-uicore-tab"}=s,c=y.useRef(null);e&&(c=e);const[u,d]=y.useState(!1);return y.useEffect(()=>{(()=>{const f=c.current.scrollWidth>c.current.clientWidth;d(f)})()},[]),w.createElement("button",{onClick:i?void 0:h=>n({},h),"data-test":l,ref:c,role:"tab","aria-selected":r?"true":"false","aria-disabled":i?"true":"false",onFocus:i?void 0:h=>n({},h),tabIndex:-1,className:I.dynamic([["2433456263",[S.grey400,S.grey600,ee.focus,S.grey600,S.grey900,S.grey600,S.grey800,ee.primary800,ee.primary700,ee.primary700,ee.primary700,S.grey500,S.grey500]]])+` ${ot("tab",o,{selected:r,disabled:i})}`},t,u?w.createElement(Jo,{content:a,maxWidth:"100%"},w.createElement("span",{ref:c,className:I.dynamic([["2433456263",[S.grey400,S.grey600,ee.focus,S.grey600,S.grey900,S.grey600,S.grey800,ee.primary800,ee.primary700,ee.primary700,ee.primary700,S.grey500,S.grey500]]])},a)):w.createElement("span",{ref:c,className:I.dynamic([["2433456263",[S.grey400,S.grey600,ee.focus,S.grey600,S.grey900,S.grey600,S.grey800,ee.primary800,ee.primary700,ee.primary700,ee.primary700,S.grey500,S.grey500]]])},a),w.createElement(I,{id:"2433456263",dynamic:[S.grey400,S.grey600,ee.focus,S.grey600,S.grey900,S.grey600,S.grey800,ee.primary800,ee.primary700,ee.primary700,ee.primary700,S.grey500,S.grey500]},[`button.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:bottom;height:100%;padding:16px 16px 11px;background-color:transparent;outline:none;border:none;border-bottom:1px solid ${S.grey400};color:${S.grey600};font-size:14px;line-height:20px;cursor:pointer;}`,".fixed>button.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}","button.__jsx-style-dynamic-selector::after{content:' ';display:block;position:absolute;bottom:-1px;inset-inline-start:0;height:4px;width:100%;background-color:transparent;}","span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;max-width:320px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-transition:fill 150ms ease-in-out;transition:fill 150ms ease-in-out;}",`button.__jsx-style-dynamic-selector:focus{outline:3px solid ${ee.focus};outline-offset:-3px;}`,"button.__jsx-style-dynamic-selector:focus.__jsx-style-dynamic-selector:not(:focus-visible){outline:none;}",`button.__jsx-style-dynamic-selector>svg{fill:${S.grey600};width:14px;height:14px;margin:0 4px 0 0;}`,`button.__jsx-style-dynamic-selector:hover{color:${S.grey900};}`,`button.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:${S.grey600};height:2px;}`,`button.__jsx-style-dynamic-selector:active.__jsx-style-dynamic-selector::after{background-color:${S.grey800};}`,`button.selected.__jsx-style-dynamic-selector{color:${ee.primary800};}`,`button.selected.__jsx-style-dynamic-selector::after{background-color:${ee.primary700};-webkit-transition:background-color 150ms ease-in-out;transition:background-color 150ms ease-in-out;}`,`button.selected.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:${ee.primary700};height:4px;}`,`button.selected.__jsx-style-dynamic-selector>svg{fill:${ee.primary700};}`,`button.disabled.__jsx-style-dynamic-selector{color:${S.grey500};cursor:not-allowed;}`,"button.disabled.__jsx-style-dynamic-selector:hover,button.selected.__jsx-style-dynamic-selector:hover{background-color:transparent;}",`button.disabled.__jsx-style-dynamic-selector>svg{fill:${S.grey500};}`]))});un.propTypes={children:p.node,className:p.string,dataTest:p.string,disabled:p.bool,icon:p.element,selected:p.bool,onClick:p.func};un.displayName="Tab";const Tc=250,xT=.5;function ST(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=s.scrollLeft,r=kT(s,n,t),i=r-n,a=CT({scrollBox:s,callback:e,startValue:n,endValue:r,change:i});window.requestAnimationFrame(a)}function kT(s,e,t){const n=s.clientWidth*xT;return Math.floor(e+n*(t?-1:1))}function CT(s){let{scrollBox:e,callback:t,startValue:n,endValue:r,change:i}=s,a,o,l;return function c(u){a||(a=u),o=u-a,l=PT({currentTime:o,DURATION:Tc,startValue:n,change:i}),o>=Tc?(l!==r&&(e.scrollLeft=r),t&&t()):(e.scrollLeft=l,window.requestAnimationFrame(c))}}function PT(s){let{currentTime:e,startValue:t,change:n}=s;return(e/=Tc/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}let ra;const Ec="__vertical-scrollbar-height-test__",AT=`
    .${Ec} {
        position: absolute;
        top: -9999px;
        width: 100px;
        height: 100px;
        overflow-x: scroll;
    }
    .${Ec}::-webkit-scrollbar {
        display: none;
    }
`;function TT(){if(ra)return ra;const s=document.createElement("style");s.innerHTML=AT;const e=document.createElement("div");return e.classList.add(Ec),document.body.appendChild(s),document.body.appendChild(e),ra=e.offsetHeight-e.clientHeight,document.body.removeChild(s),document.body.removeChild(e),ra}const ao=s=>{let{children:e,disabled:t,hidden:n,onClick:r}=s;return w.createElement("button",{onClick:t?void 0:r,className:I.dynamic([["2701682090",[S.white,S.grey400,S.grey600,S.grey100,S.grey200,S.grey500]]])+" "+(ot("scroll-button",{disabled:t,hidden:n})||"")},e,w.createElement(I,{id:"2701682090",dynamic:[S.white,S.grey400,S.grey600,S.grey100,S.grey200,S.grey500]},[`.scroll-button.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;background-color:${S.white};border:none;border-bottom:1px solid ${S.grey400};outline:none;padding:16px 16px 11px 16px;cursor:pointer;}`,".scroll-button.hidden.__jsx-style-dynamic-selector{display:none;}",`.scroll-button.__jsx-style-dynamic-selector svg{width:20px;height:20px;fill:${S.grey600};-webkit-transition:opacity 150ms ease-in-out;transition:opacity 150ms ease-in-out;opacity:1;}`,`.scroll-button.__jsx-style-dynamic-selector:hover{background-color:${S.grey100};}`,`.scroll-button.__jsx-style-dynamic-selector:active{background-color:${S.grey200};}`,".scroll-button.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;}",".scroll-button.disabled.__jsx-style-dynamic-selector:hover{background-color:transparent;}",`.scroll-button.disabled.__jsx-style-dynamic-selector svg{fill:${S.grey500};}`]))};ao.displayName="ScrollButton";ao.propTypes={children:p.any.isRequired,disabled:p.bool,hidden:p.bool,onClick:p.func};function js(s,e,t){return(e=ET(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function ET(s){var e=MT(s,"string");return typeof e=="symbol"?e:e+""}function MT(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var n=t.call(s,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}class jg extends y.Component{constructor(e){super(e),js(this,"scrollBox",y.createRef()),js(this,"scrollArea",y.createRef()),js(this,"horizontalScrollBarHeight",TT()),js(this,"scrollBoxResizeObserver",null),js(this,"calculateShouldHideButtons",()=>{this.setState({hideScrollButtonsInitialized:!1});const{current:t}=this.scrollBox,{current:n}=this.scrollArea,r=n.offsetWidth,i=t.offsetWidth,a=r<=i;this.setState({hideScrollButtons:a}),a||(this.state.scrolledToStart&&this.scrollLeft(),this.state.scrolledToEnd&&this.scrollRight()),this.setState({hideScrollButtonsInitialized:!0})}),js(this,"scrollRight",()=>this.scroll()),js(this,"scrollLeft",()=>this.scroll(!0)),js(this,"animatedScrollCallback",()=>{this.updateScrolledToStates(),this.attachSideScrollListener()}),js(this,"updateScrolledToStates",()=>{const{scrollLeft:t,offsetWidth:n}=this.scrollBox.current,{offsetWidth:r}=this.scrollArea.current,i=t<=0,a=t+n>=r;(this.state.scrolledToStart!==i||this.state.scrolledToEnd!==a)&&this.setState({scrolledToStart:i,scrolledToEnd:a})}),this.state={scrolledToStart:!0,scrolledToEnd:!1,hideScrollButtonsInitialized:!1,hideScrollButtons:!1},this.scrollBoxResizeObserver=new ResizeObserver(this.calculateShouldHideButtons)}componentDidMount(){this.scrollSelectedTabIntoView(),this.attachSideScrollListener(),this.manageShouldHideButtons()}componentWillUnmount(){this.removeSideScrollListener(),this.scrollBoxResizeObserver.disconnect()}manageShouldHideButtons(){const{current:e}=this.scrollBox;this.scrollBoxResizeObserver.observe(e),this.calculateShouldHideButtons()}scroll(e){this.removeSideScrollListener(),ST(this.scrollBox.current,this.animatedScrollCallback,e)}scrollSelectedTabIntoView(){const e=this.scrollBox.current,t=e.querySelector(".tab.selected");if(t){const n=t.offsetLeft+t.offsetWidth;n>e.offsetWidth&&(e.scrollLeft=n-e.offsetWidth)}}attachSideScrollListener(){this.scrollBox.current.addEventListener("scroll",this.updateScrolledToStates)}removeSideScrollListener(){this.scrollBox.current.removeEventListener("scroll",this.updateScrolledToStates)}render(){const{scrolledToStart:e,scrolledToEnd:t,hideScrollButtonsInitialized:n,hideScrollButtons:r}=this.state,{children:i,className:a,dataTest:o}=this.props,l=!n||r;return w.createElement("div",{"data-test":o,className:"jsx-191575146 "+I.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" "+(ot("scroll-bar",a)||"")},w.createElement(ao,{disabled:e,onClick:this.scrollLeft,hidden:l},w.createElement(Vm,null)),w.createElement("div",{className:"jsx-191575146 "+I.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-box-clipper"},w.createElement("div",{ref:this.scrollBox,className:"jsx-191575146 "+I.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-box"},w.createElement("div",{ref:this.scrollArea,className:"jsx-191575146 "+I.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-area"},i))),w.createElement(ao,{disabled:t,onClick:this.scrollRight,hidden:l},w.createElement(Um,null)),w.createElement(I,{id:"4174900658",dynamic:[-this.horizontalScrollBarHeight]},[`.scroll-box.__jsx-style-dynamic-selector{margin-bottom:${-this.horizontalScrollBarHeight}px;}`]),w.createElement(I,{id:"191575146"},[".scroll-bar.jsx-191575146{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}",".scroll-box-clipper.jsx-191575146{overflow-y:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".scroll-box.jsx-191575146{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow-x:scroll;-webkit-overflow-scrolling:touch;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".scroll-box.jsx-191575146::-webkit-scrollbar{display:none;}",".scroll-area.jsx-191575146{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;overflow-x:hidden;}"]))}}jg.propTypes={children:p.node.isRequired,dataTest:p.string.isRequired,className:p.string};const Mc=s=>{let{children:e,fixed:t,dataTest:n}=s;const r=y.useRef(null),i=y.useMemo(()=>w.Children.map(e,()=>w.createRef()),[e]),a=o=>{const l=document.activeElement;if(r.current&&r.current===l){i.length>0&&i[0].current&&i[0].current.focus();return}const c=i.findIndex(u=>u.current===l);if(c!==-1){if(o.key==="ArrowRight"){o.preventDefault();const u=(c+1)%i.length;i[u].current.focus()}if(o.key==="ArrowLeft"){o.preventDefault();const u=(c-1+i.length)%i.length;i[u].current.focus()}}};return w.createElement("div",{ref:r,"data-test":n,role:"tablist",tabIndex:0,onKeyDown:a,className:I.dynamic([["771129571",[S.grey400,S.white]]])+" "+(ot({fixed:t})||"")},w.Children.map(e,(o,l)=>w.isValidElement(o)?w.cloneElement(o,{ref:i[l]}):w.createElement("span",{ref:i[l],tabIndex:-1,className:I.dynamic([["771129571",[S.grey400,S.white]]])},o)),w.createElement(I,{id:"771129571",dynamic:[S.grey400,S.white]},[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;position:relative;overflow:hidden;box-shadow:inset 0 -1px 0 0 ${S.grey400};-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;background:${S.white};}`]))};Mc.propTypes={dataTest:p.string.isRequired,children:p.node,fixed:p.bool};const Xo=s=>{let{fixed:e,children:t,className:n,scrollable:r,dataTest:i="dhis2-uicore-tabbar"}=s;return r?w.createElement("div",{className:n,"data-test":i},w.createElement(jg,{dataTest:`${i}-scrollbar`},w.createElement(Mc,{fixed:e,dataTest:`${i}-tabs`},t))):w.createElement("div",{className:n,"data-test":i},w.createElement(Mc,{fixed:e,dataTest:`${i}-tabs`},t))};Xo.propTypes={children:p.node,className:p.string,dataTest:p.string,fixed:p.bool,scrollable:p.bool};var Mn=[],NT=function(){return Mn.some(function(s){return s.activeTargets.length>0})},RT=function(){return Mn.some(function(s){return s.skippedTargets.length>0})},wh="ResizeObserver loop completed with undelivered notifications.",DT=function(){var s;typeof ErrorEvent=="function"?s=new ErrorEvent("error",{message:wh}):(s=document.createEvent("Event"),s.initEvent("error",!1,!1),s.message=wh),window.dispatchEvent(s)},mi;(function(s){s.BORDER_BOX="border-box",s.CONTENT_BOX="content-box",s.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(mi||(mi={}));var Nn=function(s){return Object.freeze(s)},OT=function(){function s(e,t){this.inlineSize=e,this.blockSize=t,Nn(this)}return s}(),Ig=function(){function s(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Nn(this)}return s.prototype.toJSON=function(){var e=this,t=e.x,n=e.y,r=e.top,i=e.right,a=e.bottom,o=e.left,l=e.width,c=e.height;return{x:t,y:n,top:r,right:i,bottom:a,left:o,width:l,height:c}},s.fromRect=function(e){return new s(e.x,e.y,e.width,e.height)},s}(),id=function(s){return s instanceof SVGElement&&"getBBox"in s},$g=function(s){if(id(s)){var e=s.getBBox(),t=e.width,n=e.height;return!t&&!n}var r=s,i=r.offsetWidth,a=r.offsetHeight;return!(i||a||s.getClientRects().length)},xh=function(s){var e;if(s instanceof Element)return!0;var t=(e=s==null?void 0:s.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(t&&s instanceof t.Element)},zT=function(s){switch(s.tagName){case"INPUT":if(s.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},ri=typeof window<"u"?window:{},ia=new WeakMap,Sh=/auto|scroll/,LT=/^tb|vertical/,BT=/msie|trident/i.test(ri.navigator&&ri.navigator.userAgent),vs=function(s){return parseFloat(s||"0")},ar=function(s,e,t){return s===void 0&&(s=0),e===void 0&&(e=0),t===void 0&&(t=!1),new OT((t?e:s)||0,(t?s:e)||0)},kh=Nn({devicePixelContentBoxSize:ar(),borderBoxSize:ar(),contentBoxSize:ar(),contentRect:new Ig(0,0,0,0)}),_g=function(s,e){if(e===void 0&&(e=!1),ia.has(s)&&!e)return ia.get(s);if($g(s))return ia.set(s,kh),kh;var t=getComputedStyle(s),n=id(s)&&s.ownerSVGElement&&s.getBBox(),r=!BT&&t.boxSizing==="border-box",i=LT.test(t.writingMode||""),a=!n&&Sh.test(t.overflowY||""),o=!n&&Sh.test(t.overflowX||""),l=n?0:vs(t.paddingTop),c=n?0:vs(t.paddingRight),u=n?0:vs(t.paddingBottom),d=n?0:vs(t.paddingLeft),h=n?0:vs(t.borderTopWidth),f=n?0:vs(t.borderRightWidth),m=n?0:vs(t.borderBottomWidth),g=n?0:vs(t.borderLeftWidth),v=d+c,b=l+u,C=g+f,A=h+m,E=o?s.offsetHeight-A-s.clientHeight:0,x=a?s.offsetWidth-C-s.clientWidth:0,R=r?v+C:0,O=r?b+A:0,z=n?n.width:vs(t.width)-R-x,M=n?n.height:vs(t.height)-O-E,$=z+v+x+C,W=M+b+E+A,V=Nn({devicePixelContentBoxSize:ar(Math.round(z*devicePixelRatio),Math.round(M*devicePixelRatio),i),borderBoxSize:ar($,W,i),contentBoxSize:ar(z,M,i),contentRect:new Ig(d,l,z,M)});return ia.set(s,V),V},Fg=function(s,e,t){var n=_g(s,t),r=n.borderBoxSize,i=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(e){case mi.DEVICE_PIXEL_CONTENT_BOX:return a;case mi.BORDER_BOX:return r;default:return i}},jT=function(){function s(e){var t=_g(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=Nn([t.borderBoxSize]),this.contentBoxSize=Nn([t.contentBoxSize]),this.devicePixelContentBoxSize=Nn([t.devicePixelContentBoxSize])}return s}(),Vg=function(s){if($g(s))return 1/0;for(var e=0,t=s.parentNode;t;)e+=1,t=t.parentNode;return e},IT=function(){var s=1/0,e=[];Mn.forEach(function(a){if(a.activeTargets.length!==0){var o=[];a.activeTargets.forEach(function(c){var u=new jT(c.target),d=Vg(c.target);o.push(u),c.lastReportedSize=Fg(c.target,c.observedBox),d<s&&(s=d)}),e.push(function(){a.callback.call(a.observer,o,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var t=0,n=e;t<n.length;t++){var r=n[t];r()}return s},Ch=function(s){Mn.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(r){r.isActive()&&(Vg(r.target)>s?t.activeTargets.push(r):t.skippedTargets.push(r))})})},$T=function(){var s=0;for(Ch(s);NT();)s=IT(),Ch(s);return RT()&&DT(),s>0},jl,Ug=[],_T=function(){return Ug.splice(0).forEach(function(s){return s()})},FT=function(s){if(!jl){var e=0,t=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return _T()}).observe(t,n),jl=function(){t.textContent="".concat(e?e--:e++)}}Ug.push(s),jl()},VT=function(s){FT(function(){requestAnimationFrame(s)})},$a=0,UT=function(){return!!$a},HT=250,WT={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ph=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Ah=function(s){return s===void 0&&(s=0),Date.now()+s},Il=!1,qT=function(){function s(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return s.prototype.run=function(e){var t=this;if(e===void 0&&(e=HT),!Il){Il=!0;var n=Ah(e);VT(function(){var r=!1;try{r=$T()}finally{if(Il=!1,e=n-Ah(),!UT())return;r?t.run(1e3):e>0?t.run(e):t.start()}})}},s.prototype.schedule=function(){this.stop(),this.run()},s.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,WT)};document.body?t():ri.addEventListener("DOMContentLoaded",t)},s.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ph.forEach(function(t){return ri.addEventListener(t,e.listener,!0)}))},s.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Ph.forEach(function(t){return ri.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},s}(),Nc=new qT,Th=function(s){!$a&&s>0&&Nc.start(),$a+=s,!$a&&Nc.stop()},GT=function(s){return!id(s)&&!zT(s)&&getComputedStyle(s).display==="inline"},KT=function(){function s(e,t){this.target=e,this.observedBox=t||mi.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return s.prototype.isActive=function(){var e=Fg(this.target,this.observedBox,!0);return GT(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},s}(),YT=function(){function s(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t}return s}(),aa=new WeakMap,Eh=function(s,e){for(var t=0;t<s.length;t+=1)if(s[t].target===e)return t;return-1},oa=function(){function s(){}return s.connect=function(e,t){var n=new YT(e,t);aa.set(e,n)},s.observe=function(e,t,n){var r=aa.get(e),i=r.observationTargets.length===0;Eh(r.observationTargets,t)<0&&(i&&Mn.push(r),r.observationTargets.push(new KT(t,n&&n.box)),Th(1),Nc.schedule())},s.unobserve=function(e,t){var n=aa.get(e),r=Eh(n.observationTargets,t),i=n.observationTargets.length===1;r>=0&&(i&&Mn.splice(Mn.indexOf(n),1),n.observationTargets.splice(r,1),Th(-1))},s.disconnect=function(e){var t=this,n=aa.get(e);n.observationTargets.slice().forEach(function(r){return t.unobserve(e,r.target)}),n.activeTargets.splice(0,n.activeTargets.length)},s}(),QT=function(){function s(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");oa.connect(this,e)}return s.prototype.observe=function(e,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xh(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");oa.observe(this,e,t)},s.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xh(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");oa.unobserve(this,e)},s.prototype.disconnect=function(){oa.disconnect(this)},s.toString=function(){return"function ResizeObserver () { [polyfill code] }"},s}();const Hg=w[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],JT=s=>{const e=y.useRef(s);return y.useEffect(()=>{e.current=s}),e},ZT=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:QT;function XT(){}function e2(s,e){const t=s2(),n=JT(e);return Hg(()=>{let r=!1;const i=s&&"current"in s?s.current:s;if(!i)return XT;function a(o,l){r||n.current(o,l)}return t.subscribe(i,a),()=>{r=!0,t.unsubscribe(i,a)}},[s,t,n]),t.observer}function t2(){let s=!1,e=[];const t=new Map,n=new ZT((r,i)=>{e=e.concat(r);function a(){const o=new Set;for(let l=0;l<e.length;l++){if(o.has(e[l].target))continue;o.add(e[l].target);const c=t.get(e[l].target);c==null||c.forEach(u=>u(e[l],i))}e=[],s=!1}s||window.requestAnimationFrame(a),s=!0});return{observer:n,subscribe(r,i){var a;n.observe(r);const o=(a=t.get(r))!==null&&a!==void 0?a:[];o.push(i),t.set(r,o)},unsubscribe(r,i){var a;const o=(a=t.get(r))!==null&&a!==void 0?a:[];if(o.length===1){n.unobserve(r),t.delete(r);return}const l=o.indexOf(i);l!==-1&&o.splice(l,1),t.set(r,o)}}}let $l;const s2=()=>$l||($l=t2()),n2=(s,e)=>{const[t,n]=y.useState(()=>{var r,i;const a=s&&"current"in s?s.current:s;return a?[a.offsetWidth,a.offsetHeight]:[(r=void 0)!==null&&r!==void 0?r:0,(i=void 0)!==null&&i!==void 0?i:0]});return Hg(()=>{const r=s&&"current"in s?s.current:s;r&&n([r.offsetWidth,r.offsetHeight])},[s]),e2(s,r=>{const i=r.target;n([i.offsetWidth,i.offsetHeight])}),t},Wg=s=>{let{children:e,dataTest:t,maxHeight:n="280px",menuWidth:r,onClick:i,menuRef:a}=s;return w.createElement(zm,{onBackdropClick:i,transparent:!0},w.createElement(Xu,{reference:a,placement:"bottom",observeReferenceResize:!0},w.createElement("div",{"data-test":`${t}-menuwrapper`,className:I.dynamic([["1686499909",[r,n]]])+" card"},w.createElement(Ew,null,e))),w.createElement(I,{id:"1686499909",dynamic:[r,n]},[`.card.__jsx-style-dynamic-selector{width:${r};max-height:${n};}`]))};Wg.propTypes={dataTest:p.string.isRequired,menuRef:p.object.isRequired,menuWidth:p.string.isRequired,children:p.node,maxHeight:p.string,onClick:p.func};const qg=s=>{let{dataTest:e="dhis2-sharingdialog-autocomplete",inputWidth:t,label:n,loading:r,onClose:i,onSearch:a,onSelect:o,placeholder:l,search:c,searchResults:u}=s;const d=y.useRef(null),[h]=n2(d),{isDisconnected:f}=Yo();return w.createElement(w.Fragment,null,w.createElement("div",{ref:d},w.createElement(Zu,{label:n,loading:r,placeholder:l,onChange:m=>{let{value:g}=m;return a(g)},value:c,inputWidth:t,disabled:f,helpText:f?P.t("Not available offline"):""})),u.length>0&&w.createElement(Wg,{onClick:i,menuWidth:`${h}px`,menuRef:d,dataTest:`${e}-menu`},w.createElement(Mw,null,u.map(m=>w.createElement(Nw,{key:m.id,label:m.displayName,value:m.id,onClick:g=>{let{value:v}=g;return o(v)}})))))};qg.propTypes={searchResults:p.arrayOf(p.shape({displayName:p.string,id:p.string})).isRequired,dataTest:p.string,inputWidth:p.string,label:p.string,loading:p.bool,placeholder:p.string,search:p.string,onClose:p.func,onSearch:p.func,onSelect:p.func};const r2={search:{resource:"sharing/search",params:s=>{let{search:e}=s;return{key:e}}}},Gg=s=>{var e,t;let{selected:n,onSelection:r}=s;const[i,a]=y.useState(""),[o,l]=y.useState(!1),{data:c,refetch:u,fetching:d}=vn(r2,{lazy:!0,onComplete:()=>l(!0)});y.useEffect(()=>a(n),[n]);const h=y.useCallback(Ak(u,250),[u]);y.useEffect(()=>{i&&i===n||(i?h({search:i}):(r(null),l(!1)))},[i]);let f=[];if(c!=null&&(e=c.search)!==null&&e!==void 0&&e.users){const m=c.search.users.map(g=>({...g,type:"user"}));f=f.concat(m)}if(c!=null&&(t=c.search)!==null&&t!==void 0&&t.userGroups){const m=c.search.userGroups.map(g=>({...g,type:"group"}));f=f.concat(m)}return w.createElement(qg,{inputWidth:"100%",label:P.t("User or group"),loading:d,placeholder:P.t("Search"),search:i,searchResults:o?f:[],onClose:()=>l(!1),onSearch:a,onSelect:m=>{r(f.find(g=>g.id===m)),l(!1)}})};Gg.propTypes={onSelection:p.func.isRequired,selected:p.string};const el=s=>{let{children:e}=s;return w.createElement(w.Fragment,null,w.createElement("h2",{className:I.dynamic([["2416527184",[S.grey900]]])},e),w.createElement(I,{id:"2416527184",dynamic:[S.grey900]},[`h2.__jsx-style-dynamic-selector{font-size:16px;color:${S.grey900};}`]))};el.propTypes={children:p.node.isRequired};const Rc=s=>{let{onAdd:e,dataSharing:t}=s;const n=y.useContext(io),[r,i]=y.useState(null),[a,o]=y.useState(""),[l,c]=y.useState(""),{isDisconnected:u}=Yo(),d=m=>{m.preventDefault(),e({type:r.type,id:r.id,name:r.displayName||r.name,access:{data:a,metadata:l}}),i(null),o(""),c("")},h=[{value:Le,label:P.t("View only")},{value:je,label:P.t("View and edit")}],f=[...h,{value:Se,label:P.t("No access")}];return w.createElement(w.Fragment,null,w.createElement(el,null,P.t("Give access to a user or group")),w.createElement("form",{onSubmit:d,className:I.dynamic([["3476690250",[S.grey100,S.grey900,K.dp8]]])},w.createElement("div",{className:I.dynamic([["3476690250",[S.grey100,S.grey900,K.dp8]]])+" "+((t?"startWrapperData":"startWrapperMetadata")||"")},w.createElement(Gg,{selected:(r==null?void 0:r.displayName)||(r==null?void 0:r.name),onSelection:i})),w.createElement("div",{className:I.dynamic([["3476690250",[S.grey100,S.grey900,K.dp8]]])+" "+((t?"endWrapper endWrapperData":"endWrapper endWrapperMetadata")||"")},t&&w.createElement("div",{className:I.dynamic([["3476690250",[S.grey100,S.grey900,K.dp8]]])+" select-wrapper"},w.createElement(Dt,{label:P.t("Data access level"),placeholder:P.t("Choose a level"),disabled:u,selected:a,helpText:u?P.t("Not available offline"):"",onChange:m=>{let{selected:g}=m;return o(g)}},f.map(m=>{let{value:g,label:v}=m;return w.createElement(pi,{key:g,label:v,value:g,active:g===a})}))),w.createElement("div",{className:I.dynamic([["3476690250",[S.grey100,S.grey900,K.dp8]]])+" select-wrapper"},w.createElement(Dt,{label:t?P.t("Metadata access level"):P.t("Access level"),placeholder:P.t("Choose a level"),disabled:u,selected:l,helpText:u?P.t("Not available offline"):"",onChange:m=>{let{selected:g}=m;return c(g)}},(t?f:h).map(m=>{let{value:g,label:v}=m;return w.createElement(pi,{key:g,label:v,value:g,active:g===l})}))),w.createElement(Bt,{type:"submit",disabled:u||n||!r||t&&!a||!l||a===Se&&l===Se},P.t("Give access")))),w.createElement(I,{id:"3476690250",dynamic:[S.grey100,S.grey900,K.dp8]},[`form.__jsx-style-dynamic-selector{background-color:${S.grey100};color:${S.grey900};margin-bottom:21px;padding:8px 12px;border-radius:5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}`,".select-wrapper.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}",".startWrapperData.__jsx-style-dynamic-selector{width:35%;}",".startWrapperMetadata.__jsx-style-dynamic-selector{width:55%;}",`.endWrapper.__jsx-style-dynamic-selector{margin-inline-start:8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;gap:${K.dp8};}`,".endWrapperMetadata.__jsx-style-dynamic-selector{width:45%;}",".endWrapperData.__jsx-style-dynamic-selector{width:65%;}"]))};Rc.propTypes={onAdd:p.func.isRequired,dataSharing:p.bool};const Dc=s=>{let{label:e,onClick:t}=s;return w.createElement("div",{onClick:t,className:I.dynamic([["1009072197",[S.red700,K.dp8,K.dp12,S.red050]]])},e,w.createElement(I,{id:"1009072197",dynamic:[S.red700,K.dp8,K.dp12,S.red050]},[`div.__jsx-style-dynamic-selector{cursor:pointer;font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:${S.red700};padding:${K.dp8} ${K.dp12};}`,`div.__jsx-style-dynamic-selector:hover{background-color:${S.red050};}`]))};Dc.propTypes={label:p.string.isRequired,onClick:p.func.isRequired};const i2={[_n]:P.t("Anyone logged in"),[Ar]:P.t("User group"),[Fn]:P.t("User")},Kg=s=>{var e;let{target:t,id:n}=s;return w.createElement(w.Fragment,null,w.createElement("p",{className:I.dynamic([["2525483302",[S.grey700]]])},t===Fn?n:(e=i2[t])!==null&&e!==void 0?e:""),w.createElement(I,{id:"2525483302",dynamic:[S.grey700]},[`p.__jsx-style-dynamic-selector{font-size:14px;color:${S.grey700};margin:6px 0 0 0;padding:0;}`]))};Kg.propTypes={target:p.oneOf([_n,Ar,Fn]).isRequired,id:p.string};const Yg=s=>{let{target:e,name:t}=s;switch(e){case rd:return w.createElement(Jm,{color:S.grey600});case _n:case Ar:return w.createElement(Qm,{color:S.grey600});case Fn:return w.createElement(Rw,{name:t,small:!0});default:return null}};Yg.propTypes={target:p.oneOf([rd,_n,Fn,Ar]).isRequired,name:p.string};const Mh=s=>{let{dataSharing:e,accessOtherField:t}=s;return e?t===Se:!0},_a=s=>{let{name:e,id:t,target:n,access:r,accessOptions:i,disabled:a,onChange:o,onRemove:l,dataSharing:c,allUsersItem:u=!1}=s;const d=y.useContext(io),{isDisconnected:h}=Yo(),f={ACCESS_NONE:P.t("No access"),ACCESS_VIEW_ONLY:P.t("View only"),ACCESS_VIEW_AND_EDIT:P.t("View and edit")};return w.createElement(w.Fragment,null,w.createElement("div",{className:I.dynamic([["650548845",[S.grey900]]])+" wrapper"},w.createElement("div",{className:I.dynamic([["650548845",[S.grey900]]])+" "+((c?"detailsWithData":"detailsMetadata")||"")},w.createElement(Yg,{target:n,name:e}),w.createElement("div",{className:I.dynamic([["650548845",[S.grey900]]])+" details-text"},w.createElement("p",{className:I.dynamic([["650548845",[S.grey900]]])+" details-name"},e),w.createElement(Kg,{target:n,id:t}))),w.createElement("div",{className:I.dynamic([["650548845",[S.grey900]]])+" "+((c?"selectWrapperWithData":"selectWrapperMetadata")||"")},c&&w.createElement("div",{className:I.dynamic([["650548845",[S.grey900]]])+" select"},w.createElement(Dt,{disabled:a||h||d,prefix:P.t("Data"),selected:r.data,helpText:h?P.t("Not available offline"):"",onChange:m=>{let{selected:g}=m;return o({...r,data:g})}},i.map(m=>w.createElement(pi,{key:m,label:f[m],value:m,active:m===r.data})),yh(n)&&Mh({accessOtherField:r.metadata,dataSharing:c})&&w.createElement(Dc,{onClick:l,label:P.t("Remove access")}))),w.createElement("div",{className:I.dynamic([["650548845",[S.grey900]]])+" select"},w.createElement(Dt,{disabled:a||h||d,prefix:P.t("Metadata"),selected:r.metadata,helpText:h?P.t("Not available offline"):"",onChange:m=>{let{selected:g}=m;return o({...r,metadata:g})}},i.map(m=>w.createElement(pi,{key:m,label:f[m],value:m,active:m===r.metadata,disabled:!u&&m===Se&&!c})),yh(n)&&Mh({accessOtherField:r.data,dataSharing:c})&&w.createElement(Dc,{onClick:l,label:P.t("Remove access")}))))),w.createElement(Dw,null),w.createElement(I,{id:"650548845",dynamic:[S.grey900]},[".wrapper.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:4px 8px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".detailsMetadata.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:65%;}",".detailsWithData.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:35%;}",".details-text.__jsx-style-dynamic-selector{margin-inline-start:8px;}",`.details-name.__jsx-style-dynamic-selector{font-size:15px;font-weight:500;color:${S.grey900};margin:0;padding:0;}`,".selectWrapperMetadata.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:35%;}",".selectWrapperWithData.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:65%;}",".select.__jsx-style-dynamic-selector{margin-inline-start:8px;-webkit-flex:1;-ms-flex:1;flex:1;}"]))};_a.propTypes={access:p.shape({data:p.oneOf([Se,Le,je]),metadata:p.oneOf([Se,Le,je])}).isRequired,accessOptions:p.arrayOf(p.oneOf([Se,Le,je])).isRequired,dataSharing:p.bool.isRequired,name:p.string.isRequired,target:p.oneOf([_n,Ar,Fn]).isRequired,onChange:p.func.isRequired,allUsersItem:p.bool,disabled:p.bool,id:p.string,onRemove:p.func};const Oc=s=>{let{onChange:e,onRemove:t,publicAccess:n,allowPublicAccess:r,users:i,groups:a,dataSharing:o}=s;const l=[Se,Le,je];return w.createElement(w.Fragment,null,w.createElement(el,null,P.t("Users and groups that currently have access")),w.createElement("div",{className:I.dynamic([["3415079234",[S.grey200,S.grey900]]])+" header"},w.createElement("div",{className:I.dynamic([["3415079234",[S.grey200,S.grey900]]])+" "+((o?"header-start-column-data":"header-start-column-metadata")||"")},P.t("User / Group")),w.createElement("div",{className:I.dynamic([["3415079234",[S.grey200,S.grey900]]])+" "+((o?"header-end-column-data":"header-end-column-metadata")||"")},w.createElement("span",{className:I.dynamic([["3415079234",[S.grey200,S.grey900]]])+" hea"},P.t("Access level")))),w.createElement("div",{className:I.dynamic([["3415079234",[S.grey200,S.grey900]]])+" list"},w.createElement(_a,{name:P.t("All users"),target:_n,access:n,accessOptions:l,disabled:!r,onChange:c=>e({type:"public",access:c}),dataSharing:o,allUsersItem:!0}),a.map(c=>{let{id:u,name:d,access:h}=c;return w.createElement(_a,{key:u,name:d,target:Ar,access:h,accessOptions:l,onChange:f=>e({type:"group",id:u,access:f}),onRemove:()=>t({type:"group",id:u}),dataSharing:o})}),i.map(c=>{let{id:u,name:d,access:h}=c;return h&&w.createElement(_a,{key:u,id:u,name:d,target:Fn,access:h,accessOptions:l,onChange:f=>e({type:"user",id:u,access:f}),onRemove:()=>t({type:"user",id:u}),dataSharing:o})})),w.createElement(I,{id:"3415079234",dynamic:[S.grey200,S.grey900]},[`.header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:10px 8px;margin:0 0 8px 0;background-color:${S.grey200};color:${S.grey900};font-size:13px;}`,".header-start-column-metadata.__jsx-style-dynamic-selector{width:65%;}",".header-end-column-metadata.__jsx-style-dynamic-selector{margin-inline-start:auto;width:35%;}",".header-start-column-data.__jsx-style-dynamic-selector{width:35%;}",".header-end-column-data.__jsx-style-dynamic-selector{margin-inline-start:auto;width:65%;}",".hea.__jsx-style-dynamic-selector{display:inline-block;margin-inline-start:8px;}",".list.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow-y:auto;}"]))};Oc.propTypes={allowPublicAccess:p.bool.isRequired,dataSharing:p.bool.isRequired,groups:p.arrayOf(p.shape({id:p.string.isRequired,name:p.string.isRequired,access:p.shape({data:p.oneOf([Se,Le,je]),metadata:p.oneOf([Se,Le,je])})})).isRequired,publicAccess:p.shape({data:p.oneOf([Se,Le,je]),metadata:p.oneOf([Se,Le,je])}).isRequired,users:p.arrayOf(p.shape({access:p.shape({data:p.oneOf([Se,Le,je]),metadata:p.oneOf([Se,Le,je])}).isRequired,id:p.string.isRequired,name:p.string.isRequired})).isRequired,onChange:p.func.isRequired,onRemove:p.func.isRequired};const Qg=s=>{if(s.length===0)return s.length;const e=["VISUALIZATION","MAP","EVENT_CHART","EVENT_REPORT"];return s.filter(t=>e.includes(t.type)).length},a2=s=>{let{itemsCount:e,visualizationsCount:t,hasErrors:n,updatedItems:r}=s;if(n){if(r===0)return P.t("No visualizations were updated. Check that you have permission to change sharing for all visualizations.");if(r&&e)return P.t("Not all visualizations could be updated successfully. {{ success }} updated successfully, {{ failed }} failed to update. Check that you have permission to change sharing for all visualizations.",{success:r,failed:t-r})}return r===0?P.t("No visualizations were updated because sharing settings are already sufficient."):r===t?P.t("Successfully updated sharing for all visualizations."):r<t?P.t("Not all visualization sharing settings needed to be updated. {{ updated }} updated, {{ skipped }} already had sufficient sharing settings.",{updated:r,skipped:t-r}):""},o2=s=>{let{entityAmount:e,visualizationsCount:t}=s;return e===0?P.t("There are no users or groups to apply sharing settings for."):P.t("Number of visualizations on this dashboard that will potentially get updated sharing settings: {{ visualizationsCount }}. The number of users or groups that these updated settings will apply to: {{ entityAmount }}.",{visualizationsCount:t,entityAmount:e,nsSeparator:">"})},Jg=s=>{let{hasErrors:e,updatedItems:t,dashboardItems:n,itemsCount:r}=s;const i=Qg(n);if(!i)return null;const a=a2({visualizationsCount:i,itemsCount:r,hasErrors:e,updatedItems:t});return w.createElement(Ii,null,a)};Jg.propTypes={dashboardItems:p.array.isRequired,hasErrors:p.bool.isRequired,itemsCount:p.number.isRequired,updatedItems:p.number.isRequired};const l2={dashboard:{resource:"dashboards",id:s=>{let{id:e}=s;return e},params:{fields:"dashboardItems[type]"}}},Zg=s=>{let{id:e,entityAmount:t}=s;const{data:n,loading:r}=vn(l2,{variables:{id:e}});if(r)return null;const{dashboard:i}=n,a=Qg(i.dashboardItems);if(!a)return null;const o=o2({visualizationsCount:a,entityAmount:t});return w.createElement(Ii,null,o)};Zg.propTypes={entityAmount:p.number.isRequired,id:p.string.isRequired};const c2={dashboard:{resource:"dashboards",id:s=>{let{id:e}=s;return e},params:{fields:"dashboardItems[type]"}}},Xg=s=>{var e;let{id:t,entityAmount:n}=s;const{isDisconnected:r}=Yo(),{data:i,refetch:a}=vn(c2,{variables:{id:t}});y.useEffect(()=>{a({id:t})},[a,t]);const o=ji(),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[h,f]=y.useState(null),[m,g]=y.useState(null),v={resource:`dashboards/cascadeSharing/${t}`,type:"create"},b=()=>{c(!0),d(!0),g(null),f(null),o.mutate(v).then(E=>{g(E)}).catch(E=>{f(E.message||P.t("Something went wrong"))}).finally(()=>{d(!1)})},C=(m==null||(e=m.errorReports)===null||e===void 0?void 0:e.length)>0,A=m==null?void 0:m.countUpdatedDashboardItems;return w.createElement(w.Fragment,null,!l&&w.createElement(Zg,{id:t,entityAmount:n}),h&&w.createElement(Ia,{marginTop:K.dp12},w.createElement(Ii,{error:!0},h)),i&&m&&w.createElement(Ia,{marginTop:K.dp12},w.createElement(Jg,{hasErrors:C,updatedItems:A,dashboardItems:i.dashboard.dashboardItems,itemsCount:i.dashboard.itemsCount})),w.createElement(Ia,{marginTop:K.dp12},w.createElement(Bt,{type:"button",disabled:r||u||!n,loading:u,secondary:!0,onClick:b},P.t("Apply sharing to dashboard visualizations"))))};Xg.propTypes={entityAmount:p.number.isRequired,id:p.string.isRequired};const u2=()=>w.createElement(w.Fragment,null,w.createElement("p",{className:I.dynamic([["3321084332",[S.grey800]]])},P.t('Applying the same sharing settings makes sure that users and groups that have access to the dashboard also have at least "View only" access to its visualizations (charts, tables, maps, event charts and event reports).')),w.createElement("p",{className:I.dynamic([["3321084332",[S.grey800]]])},P.t(`If a user or group already has "View and edit" access to a visualization, this won't be reduced to "View only". The "All users" access level won't be updated or changed.`)),w.createElement("p",{className:I.dynamic([["3321084332",[S.grey800]]])},P.t("Applying sharing can't be undone, and needs to be done again if new visualizations are added to the dashboard or its sharing settings are changed.")),w.createElement(I,{id:"3321084332",dynamic:[S.grey800]},[`p.__jsx-style-dynamic-selector{font-size:14px;line-height:19px;color:${S.grey800};}`])),ev=s=>{let{id:e,entityAmount:t}=s;return w.createElement(w.Fragment,null,w.createElement(el,null,P.t("Apply dashboard sharing settings to visualizations")),w.createElement(u2,null),w.createElement(Xg,{id:e,entityAmount:t}))};ev.propTypes={entityAmount:p.number.isRequired,id:p.string.isRequired};const zc=s=>{let{type:e,users:t,groups:n,publicAccess:r,allowPublicAccess:i,id:a,onAdd:o,onChange:l,onRemove:c,dataSharing:u,cascadeDashboardSharing:d}=s;const[h,f]=y.useState(0);return e===zg.DASHBOARD&&d?w.createElement(w.Fragment,null,w.createElement(Xo,null,w.createElement(un,{onClick:()=>f(0),selected:h===0},P.t("Dashboard sharing")),w.createElement(un,{onClick:()=>f(1),selected:h===1},P.t("Apply sharing to dashboard visualizations"))),w.createElement("div",null,h===0&&w.createElement(w.Fragment,null,w.createElement(Rc,{onAdd:o,dataSharing:u}),w.createElement(Oc,{users:t,groups:n,publicAccess:r,allowPublicAccess:i,onChange:l,onRemove:c,dataSharing:u})),h===1&&w.createElement(ev,{id:a,entityAmount:t.length+n.length}))):w.createElement(w.Fragment,null,w.createElement(Rc,{onAdd:o,dataSharing:u}),w.createElement(Oc,{users:t,groups:n,publicAccess:r,allowPublicAccess:i,onChange:l,onRemove:c,dataSharing:u}))};zc.propTypes={allowPublicAccess:p.bool.isRequired,cascadeDashboardSharing:p.bool.isRequired,dataSharing:p.bool.isRequired,groups:p.arrayOf(p.shape({access:p.shape({data:p.oneOf([Se,Le,je]),metadata:p.oneOf([Se,Le,je])}).isRequired,id:p.string.isRequired,name:p.string.isRequired})).isRequired,id:p.string.isRequired,publicAccess:p.shape({data:p.oneOf([Se,Le,je]),metadata:p.oneOf([Se,Le,je])}).isRequired,type:p.oneOf(Lg).isRequired,users:p.arrayOf(p.shape({access:p.shape({data:p.oneOf([Se,Le,je]),metadata:p.oneOf([Se,Le,je])}).isRequired,id:p.string.isRequired,name:p.string.isRequired})).isRequired,onAdd:p.func.isRequired,onChange:p.func.isRequired,onRemove:p.func.isRequired};const d2={sharing:{resource:"sharing",params:s=>{let{type:e,id:t}=s;return{type:e,id:t}}}},h2={resource:"sharing",params:s=>{let{type:e,id:t}=s;return{type:e,id:t}},type:"update",data:s=>{let{data:e}=s;return e}},_l=()=>{},f2={name:"",allowPublic:!0,public:{data:Se,metadata:Se},groups:[],users:[]},p2=s=>{const e={...s};return s.public&&typeof s.public=="string"&&(e.public={data:Se,metadata:s.public}),e.groups=s.groups.map(t=>t.access&&typeof t.access=="string"?{...t,access:{data:Se,metadata:t.access}}:t),e.users=s.users.map(t=>t.access&&typeof t.access=="string"?{...t,access:{data:Se,metadata:t.access}}:t),e},tv=s=>{let{id:e,type:t,onClose:n=_l,onError:r=_l,onSave:i=_l,initialSharingSettings:a=f2,dataTest:o="dhis2-uicore-sharingdialog",dataSharing:l=!1,cascadeDashboardSharing:c=!0}=s;const{show:u}=Bm($=>$,{critical:!0}),d=p2(a),{data:h,refetch:f,loading:m,fetching:g}=vn(d2,{variables:{id:e,type:t},onError:$=>{u($),r($)}}),[v,{loading:b}]=Ck(h2,{variables:{type:t,id:e},onError:$=>{u($),r($),f()},onComplete:()=>{f(),i()}});if(y.useEffect(()=>{f({type:t,id:e})},[t,e]),m){const $=Object.keys(a.users).map(na),W=Object.keys(a.groups).map(na);return w.createElement(io.Provider,{value:!0},w.createElement(Ac,{onClose:n},w.createElement(zc,{id:e,users:$,groups:W,publicAccess:d.public,allowPublicAccess:d.allowPublic,type:t,onAdd:()=>{},onChange:()=>{},onRemove:()=>{},dataSharing:l,cascadeDashboardSharing:c})))}const{object:C,meta:A}=h.sharing,E=Bg(C.publicAccess),x=C.userAccesses.map(na),R=C.userGroupAccesses.map(na),O=$=>{let{type:W,id:V,access:Z,name:q}=$;const Q=Mk({object:C,type:W,access:Z,id:V,name:q});v({data:Q,type:t,id:e})},z=$=>{let{type:W,id:V,access:Z}=$;const q=Ek({object:C,type:W,access:Z,id:V});v({data:q,type:t,id:e})},M=$=>{let{type:W,id:V}=$;const Z=Nk({object:C,type:W,id:V});v({data:Z,type:t,id:e})};return w.createElement(io.Provider,{value:b||g},w.createElement(Ac,{onClose:n,name:C.displayName||C.name,dataTest:o},w.createElement(zc,{id:e,users:x,groups:R,publicAccess:E,allowPublicAccess:A.allowPublicAccess,type:t,onAdd:O,onChange:z,onRemove:M,dataSharing:l,cascadeDashboardSharing:c})))};tv.propTypes={id:p.string.isRequired,type:p.oneOf(Lg).isRequired,cascadeDashboardSharing:p.bool,dataSharing:p.bool,dataTest:p.string,initialSharingSettings:p.shape({allowPublic:p.bool.isRequired,groups:p.objectOf(p.shape({id:p.string.isRequired,name:p.string.isRequired,access:p.oneOfType([p.shape({data:p.oneOf([Se,Le,je]),metadata:p.oneOf([Se,Le,je])}),p.oneOf([Se,Le,je])])})),name:p.string,public:p.oneOfType([p.shape({data:p.oneOf([Se,Le,je]),metadata:p.oneOf([Se,Le,je])}),p.oneOf([Se,Le,je])]),users:p.objectOf(p.shape({id:p.string.isRequired,name:p.string.isRequired,access:p.oneOfType([p.shape({data:p.oneOf([Se,Le,je]),metadata:p.oneOf([Se,Le,je])}),p.oneOf([Se,Le,je])])}))}),onClose:p.func,onError:p.func,onSave:p.func};const sv=s=>{let{children:e,className:t,dataTest:n="dhis2-uicore-tablebody",role:r}=s;return w.createElement("tbody",{className:t,"data-test":n,role:r},e)};sv.propTypes={children:p.node,className:p.string,dataTest:p.string,role:p.string};const nv=s=>{let{children:e,className:t,dataTest:n="dhis2-uicore-tablehead",role:r}=s;return w.createElement("thead",{className:t,"data-test":n,role:r},e)};nv.propTypes={children:p.node,className:p.string,dataTest:p.string,role:p.string};function Lc(){return Lc=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Lc.apply(null,arguments)}const ad=y.forwardRef((s,e)=>{let{children:t,className:n,dataTest:r="dhis2-uicore-table",layout:i="auto",role:a,borderless:o,width:l="100%",...c}=s;return w.createElement("table",Lc({},c,{"data-test":r,ref:e,role:a,className:I.dynamic([["3140496910",[i,l,S.grey300]]])+" "+(ot(n,{borderless:o})||"")}),t,w.createElement(I,{id:"3140496910",dynamic:[i,l,S.grey300]},[`table.__jsx-style-dynamic-selector{table-layout:${i};border-collapse:separate;border-spacing:0;width:${l};box-sizing:border-box;border:1px solid ${S.grey300};}`,"table.borderless.__jsx-style-dynamic-selector{border:none;}"]))});ad.displayName="Table";ad.propTypes={borderless:p.bool,children:p.node,className:p.string,dataTest:p.string,layout:p.oneOf(["auto","fixed","initial","inherit"]),role:p.string,width:p.string};const Fa=[`td.jsx-533878895{padding:14px 12px;font-size:14px;border:1px solid transparant;border-bottom:1px solid ${S.grey300};color:${S.grey900};}`,`td.active.jsx-533878895{outline:2px solid ${S.grey600};outline-offset:-2px;}`,`td.bordered.jsx-533878895{border-inline-end:1px solid ${S.grey300};}`,"td.bordered.jsx-533878895:last-child{border-inline-end:1px solid transparent;}",`td.error.jsx-533878895{color:${S.red700};}`,`td.muted.jsx-533878895{color:${S.grey700};font-style:italic;}`,`td.valid.jsx-533878895{color:${S.green700};}`,"td.large.jsx-533878895{padding:20px 12px;font-size:16px;}","tr:last-child td.jsx-533878895{border-bottom:1px solid transparent;}",`tfoot tr:first-child td.jsx-533878895{border-top:1px solid ${S.grey300};}`];Fa.__hash="533878895";function Bc(){return Bc=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Bc.apply(null,arguments)}const m2={left:"right",right:"left",center:"center"},Tr=y.forwardRef((s,e)=>{var t;let{active:n,align:r="left",backgroundColor:i,bordered:a,children:o,className:l,colSpan:c,dataTest:u="dhis2-uicore-tabledatacel",error:d,large:h,left:f="auto",muted:m,role:g,rowSpan:v,scope:b,staticStyle:C,valid:A,width:E="auto",onClick:x,...R}=s;const O=(t=m2[r])!==null&&t!==void 0?t:r;return w.createElement("td",Bc({},R,{ref:e,colSpan:c,rowSpan:v,onClick:x,"data-test":u,role:g,scope:b,className:`jsx-${Fa.__hash} `+I.dynamic([["836058623",[f,r,E,i||S.white,O,i||S.teal100,i||S.grey100,i||S.grey200,i||"#cdeae8"]]])+" "+(ot(l,{active:n,bordered:a,error:d,large:h,muted:m,staticStyle:C,valid:A})||"")}),o,w.createElement(I,{id:Fa.__hash},Fa),w.createElement(I,{id:"836058623",dynamic:[f,r,E,i||S.white,O,i||S.teal100,i||S.grey100,i||S.grey200,i||"#cdeae8"]},[`td.__jsx-style-dynamic-selector{inset-inline-start:${f};text-align:${r};width:${E};background-color:${i||S.white};}`,`.__jsx-style-dynamic-selector:dir(rtl){text-align:${O};}`,`tr.selected>td.__jsx-style-dynamic-selector{background-color:${i||S.teal100};}`,`tr:hover>td.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${i||S.grey100};}`,`tr:active>td.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${i||S.grey200};}`,`tr.selected:hover>td.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${i||"#cdeae8"};}`]))});Tr.displayName="TableDataCell";const Fl=ed(["valid","error","muted"],p.bool);Tr.propTypes={active:p.bool,align:p.oneOf(["left","center","right"]),backgroundColor:p.string,bordered:p.bool,children:p.node,className:p.string,colSpan:p.string,dataTest:p.string,error:Fl,large:p.bool,left:pt(s=>s.fixed,p.string),muted:Fl,role:p.string,rowSpan:p.string,scope:p.string,staticStyle:p.bool,valid:Fl,width:p.string,onClick:p.func};const Va=[`th.jsx-2895298632{padding:12px;border:1px solid transparant;border-bottom:1px solid ${S.grey300};color:${S.grey800};font-weight:normal;font-size:14px;vertical-align:top;}`,"thead th.jsx-2895298632{padding:8px 12px;font-size:13px;}",`th.jsx-2895298632:last-of-type{border-inline-end:1px solid ${S.grey300};}`,`th.active.jsx-2895298632{outline:2px solid ${S.grey600};outline-offset:-2px;}`,`th.bordered.jsx-2895298632{border-inline-end:1px solid ${S.grey300};}`,"th.bordered.jsx-2895298632:last-child{border-inline-end:1px solid transparent;}",`th.error.jsx-2895298632{color:${S.red700};}`,`th.muted.jsx-2895298632{color:${S.grey700};font-style:italic;}`,`th.valid.jsx-2895298632{color:${S.green700};}`,"th.large.jsx-2895298632{padding:14px 12px;font-size:16px;}","thead th.large.jsx-2895298632{padding:13px 12px;font-size:15px;}","th.fixed.jsx-2895298632{position:-webkit-sticky;position:sticky;z-index:1;}","thead th.fixed.jsx-2895298632{position:-webkit-sticky;position:sticky;z-index:2;}","thead th.fixedHorizontally.jsx-2895298632{z-index:3;}","tr:last-child th.jsx-2895298632{border-bottom:1px solid transparent;}",`thead tr:last-child th.jsx-2895298632{border-bottom:1px solid ${S.grey300};}`,`tfoot>tr:first-child th.jsx-2895298632{border-top:1px solid ${S.grey300};}`];Va.__hash="2895298632";function jc(){return jc=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},jc.apply(null,arguments)}const la="auto",tl=y.forwardRef((s,e)=>{let{active:t,align:n="left",backgroundColor:r,bordered:i,children:a,className:o,colSpan:l,dataTest:c="dhis2-uicore-tablecell",error:u,fixed:d,large:h,left:f=la,muted:m,rowSpan:g,role:v,scope:b,staticStyle:C,top:A=la,valid:E,width:x=la,onClick:R,...O}=s;return w.createElement("th",jc({},O,{ref:e,colSpan:l,rowSpan:g,onClick:R,"data-test":c,role:v,scope:b,className:`jsx-${Va.__hash} `+I.dynamic([["2588011372",[f,A,n,x,r||S.grey200,r||S.grey300,r||S.grey300,r||S.grey200]]])+" "+(ot(o,{active:t,bordered:i,error:u,fixed:d,fixedHorizontally:d&&f!==la,large:h,muted:m,staticStyle:C,valid:E})||"")}),a,w.createElement(I,{id:Va.__hash},Va),w.createElement(I,{id:"2588011372",dynamic:[f,A,n,x,r||S.grey200,r||S.grey300,r||S.grey300,r||S.grey200]},[`th.__jsx-style-dynamic-selector{inset-inline-start:${f};top:${A};text-align:${n};width:${x};background-color:${r||S.grey200};}`,`thead th.fixedHorizontally.__jsx-style-dynamic-selector{background-color:${r||S.grey300};}`,`tbody>tr:hover>th.__jsx-style-dynamic-selector:not(.staticStyle),tfoot>tr:hover>th.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${r||S.grey300};}`,`tbody>tr:active>th.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${r||S.grey200};}`]))});tl.displayName="TableHeaderCell";const Vl=ed(["valid","error","muted"],p.bool);tl.propTypes={active:p.bool,align:p.oneOf(["left","center","right"]),backgroundColor:p.string,bordered:p.bool,children:p.node,className:p.string,colSpan:p.string,dataTest:p.string,error:Vl,fixed:p.bool,large:p.bool,left:pt(s=>s.fixed&&!s.top,p.string),muted:Vl,role:p.string,rowSpan:p.string,scope:p.string,staticStyle:p.bool,top:pt(s=>s.fixed&&!s.left,p.string),valid:Vl,width:p.string,onClick:p.func};function Ic(){return Ic=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Ic.apply(null,arguments)}const sl=y.forwardRef((s,e)=>{let{onClick:t,children:n,className:r,dataTest:i="dhis2-uicore-tableheadercellaction",title:a,...o}=s;return w.createElement("button",Ic({},o,{"data-test":i,onClick:t,title:a,ref:e,className:I.dynamic([["4225768774",[S.grey400]]])+" "+(r||"")}),n,w.createElement(I,{id:"4225768774",dynamic:[S.grey400]},["button.__jsx-style-dynamic-selector{border:none;padding:0;background:transparent;width:24px;height:24px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;cursor:pointer;border-radius:4px;margin-inline-start:2px;}",`button.__jsx-style-dynamic-selector:hover,button.__jsx-style-dynamic-selector:focus-visible{background:${S.grey400};}`,"button.__jsx-style-dynamic-selector:active,button.__jsx-style-dynamic-selector:focus{outline:none;}"]))});sl.displayName="TableHeaderCellAction";sl.propTypes={children:p.node,className:p.string,dataTest:p.string,title:p.string,onClick:p.func};function $c(){return $c=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},$c.apply(null,arguments)}const nl=y.forwardRef((s,e)=>{let{children:t,className:n,dataTest:r="dhis2-uicore-tablerow",draggable:i,role:a,selected:o,...l}=s;return w.createElement("tr",$c({},l,{ref:e,"data-test":r,role:a,className:"jsx-1820444258 "+(ot(n,{selected:o,draggable:i})||"")}),t,w.createElement(I,{id:"1820444258"},["tbody>tr.draggable.jsx-1820444258,tfoot>tr.draggable.jsx-1820444258{cursor:move;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}"]))});nl.displayName="TableRow";nl.propTypes={children:p.node,className:p.string,dataTest:p.string,draggable:p.bool,role:p.string,selected:p.bool};function _c(){return _c=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},_c.apply(null,arguments)}const od=y.forwardRef((s,e)=>{let{children:t,className:n,dataTest:r="dhis2-uicore-tablescrollbox",maxHeight:i="auto",maxWidth:a="auto",...o}=s;return w.createElement("div",_c({},o,{"data-test":r,ref:e,className:I.dynamic([["2859562182",[S.grey300,i,a]]])+" "+(n||"")}),t,w.createElement(I,{id:"2859562182",dynamic:[S.grey300,i,a]},[`div.__jsx-style-dynamic-selector{border:1px solid ${S.grey300};border-top:none;box-sizing:border-box;max-height:${i};max-width:${a};overflow:auto;}`]))});od.displayName="TableScrollBox";od.propTypes={children:p.node,className:p.string,dataTest:p.string,maxHeight:p.string,maxWidth:p.string};const ld=y.forwardRef((s,e)=>{let{children:t,className:n,dataTest:r="dhis2-uicore-datatable",layout:i="auto",role:a,scrollHeight:o,scrollWidth:l,width:c="100%"}=s;const u=!!(o||l),d=w.createElement(ad,{borderless:u,className:n,dataTest:r,layout:i,ref:e,role:a,width:c},t);return u?w.createElement(od,{className:ot(n,"tablescrollbox"),dataTest:`${r}-scrollbox`,maxHeight:o,maxWidth:l},d):d});ld.displayName="DataTable";ld.propTypes={children:p.node,className:p.string,dataTest:p.string,layout:p.oneOf(["auto","fixed","initial","inherit"]),role:p.string,scrollHeight:p.string,scrollWidth:p.string,width:p.string};function Fc(){return Fc=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Fc.apply(null,arguments)}const ii=y.forwardRef((s,e)=>{let{active:t,align:n="left",backgroundColor:r,bordered:i,children:a,className:o,colSpan:l,dataTest:c="dhis2-uicore-datatablecell",error:u,fixed:d,large:h,left:f="auto",muted:m,rowSpan:g,role:v,scope:b,staticStyle:C,tag:A,valid:E,width:x="auto",onClick:R,...O}=s;const z=!A&&d||A&&A==="th"?tl:Tr;return w.createElement(z,Fc({},O,{active:t,align:n,backgroundColor:r,bordered:i,className:o,colSpan:l,dataTest:c,error:u,fixed:d,large:h,left:f,muted:m,rowSpan:g,ref:e,role:v,staticStyle:C,scope:b,valid:E,width:x,onClick:R}),a)});ii.displayName="DataTableCell";const Ul=ed(["valid","error","muted"],p.bool),Nh=pt(s=>s.fixed,p.string);ii.propTypes={active:p.bool,align:p.oneOf(["left","center","right"]),backgroundColor:p.string,bordered:p.bool,children:p.node,className:p.string,colSpan:p.string,dataTest:p.string,error:Ul,fixed:p.bool,large:p.bool,left:Nh,muted:Ul,role:p.string,rowSpan:p.string,scope:p.string,staticStyle:p.bool,tag:p.oneOf(["td","th"]),valid:Ul,width:Nh,onClick:p.func};const Zn=["span.container.jsx-1552921066{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}","span.top.jsx-1552921066{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}","span.content.jsx-1552921066{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:24px;}"];Zn.__hash="1552921066";const Rh={styles:w.createElement(I,{id:"1231353820"},["thead>tr>th.DataTableColumnHeader.jsx-1231353820{padding-top:6px;padding-bottom:6px;}","thead>tr>th.DataTableColumnHeader.large.jsx-1231353820{padding-top:12px;padding-bottom:12px;}"]),className:"jsx-1231353820"},g2={"Toggle filter":"","Sort items":"ترتيب العناصر"},v2={"Toggle filter":"Přepnout filtr","Sort items":"Třídit položky"},b2={"Toggle filter":"Toggle filter","Sort items":"Sort items"},y2={"Toggle filter":"Alternar filtro","Sort items":"Ordena elementos"},w2={"Toggle filter":"Alternar filtro","Sort items":"Clasificar artículos"},x2={"Toggle filter":"","Sort items":"តម្រៀប"},S2={"Toggle filter":"ສະຫຼັບຕົວກອງ","Sort items":"ຈັດຮຽງລາຍການ"},k2={"Toggle filter":"Slå på filter","Sort items":"Sorter elementer"},C2={"Toggle filter":"Schakelfilter","Sort items":"Items sorteren"},P2={"Toggle filter":"Alternar filtro","Sort items":"Ordenar itens"},A2={"Toggle filter":"Переключить фильтр","Sort items":"Сортировать элементы"},T2={"Toggle filter":"Переключити фільтр","Sort items":"Сортувати об'єкти"},E2={"Toggle filter":"Фильтрни алмаштириш","Sort items":"Элементларни саралаш"},M2={"Toggle filter":"切换过滤器","Sort items":"排序项目"},$t="default";P.addResources("ar",$t,g2);P.addResources("cs",$t,v2);P.addResources("en",$t,b2);P.addResources("es",$t,y2);P.addResources("es_419",$t,w2);P.addResources("km",$t,x2);P.addResources("lo",$t,S2);P.addResources("nb",$t,k2);P.addResources("nl",$t,C2);P.addResources("pt",$t,P2);P.addResources("ru",$t,A2);P.addResources("uk",$t,T2);P.addResources("uz_UZ_Cyrl",$t,E2);P.addResources("zh",$t,M2);const rv=s=>{let{active:e,name:t,onClick:n}=s;const r=e?S.blue700:S.grey600,i=n?a=>{n({name:t,show:!e},a)}:void 0;return w.createElement(sl,{onClick:i,title:P.t("Toggle filter")},w.createElement(Km,{color:r}))};rv.propTypes={active:p.bool,name:p.string,onClick:p.func};const N2="asc",R2="desc",D2="default",ai=[D2,N2,R2],O2=s=>{const t=(ai.indexOf(s)+1)%ai.length;return ai[t]},iv=s=>{let{name:e,sortDirection:t,title:n,onClick:r}=s;const i=O2(t),a=r?o=>{r({name:e,direction:i},o)}:void 0;return w.createElement(sl,{onClick:a,title:n||P.t("Sort items")},w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",className:I.dynamic([["884818973",[S.grey500,S.blue700]]])+" "+(t||"")},w.createElement("g",{fill:"none",fillRule:"evenodd",className:I.dynamic([["884818973",[S.grey500,S.blue700]]])},w.createElement("polygon",{points:"4 9 12 9 8 14",className:I.dynamic([["884818973",[S.grey500,S.blue700]]])+" top"}),w.createElement("polygon",{points:"4 7 12 7 8 2",className:I.dynamic([["884818973",[S.grey500,S.blue700]]])+" bottom"}))),w.createElement(I,{id:"884818973",dynamic:[S.grey500,S.blue700]},[`svg.__jsx-style-dynamic-selector .top.__jsx-style-dynamic-selector,svg.__jsx-style-dynamic-selector .bottom.__jsx-style-dynamic-selector{fill:${S.grey500};}`,`svg.asc.__jsx-style-dynamic-selector .top.__jsx-style-dynamic-selector,svg.desc.__jsx-style-dynamic-selector .bottom.__jsx-style-dynamic-selector{fill:${S.blue700};}`]))};iv.propTypes={name:p.string,sortDirection:pt(s=>s.onClick,p.oneOf(ai)),title:p.string,onClick:p.func};const ca={left:"flex-start",center:"center",right:"flex-end"},oo=y.forwardRef((s,e)=>{let{align:t,children:n,className:r,colSpan:i,dataTest:a="dhis2-uicore-datatablecellhead",filter:o,fixed:l,large:c,left:u,name:d,role:h,rowSpan:f,scope:m,showFilter:g,sortDirection:v,sortIconTitle:b,top:C,width:A,onFilterIconClick:E,onSortIconClick:x}=s;return w.createElement(tl,{align:t,className:ot(r,"DataTableColumnHeader",Rh.className),colSpan:i,dataTest:a,fixed:l,large:c,left:u,ref:e,rowSpan:f,role:h,scope:m,top:C,width:A},w.createElement("span",{className:`jsx-3463223249 jsx-${Zn.__hash} container`},w.createElement("span",{className:`jsx-3463223249 jsx-${Zn.__hash} `+(ot("top",{large:c})||"")},w.createElement("span",{className:`jsx-3463223249 jsx-${Zn.__hash} content`},n),v&&w.createElement(iv,{name:d,sortDirection:v,onClick:x,title:b}),o&&w.createElement(rv,{name:d,active:g,onClick:E})),g&&o),Rh.styles,w.createElement(I,{id:Zn.__hash},Zn),w.createElement(I,{id:"3463223249"},[`.label.jsx-3463223249{-webkit-box-pack:${ca[t]};-webkit-justify-content:${ca[t]};-ms-flex-pack:${ca[t]};justify-content:${ca[t]};}`]))});oo.displayName="DataTableColumnHeader";oo.propTypes={align:p.oneOf(["left","center","right"]),children:p.node,className:p.string,colSpan:p.string,dataTest:p.string,filter:pt(s=>s.onFilterIconClick||s.showFilter,p.node),fixed:p.bool,large:p.bool,left:pt(s=>s.fixed&&!s.top,p.string),name:p.string,role:p.string,rowSpan:p.string,scope:p.string,showFilter:pt(s=>s.filter,p.bool),sortDirection:pt(s=>s.onSortIconClick,p.oneOf(ai)),sortIconTitle:p.string,top:pt(s=>s.fixed&&!s.left,p.string),width:p.string,onFilterIconClick:pt(s=>s.filter,p.func),onSortIconClick:pt(s=>s.sortDirection,p.func)};const Dh={styles:w.createElement(I,{id:"1795567040"},[`tr.isHoveringExpandedContent.jsx-1795567040>td{background-color:${S.grey100};}`,`tr.isHoveringExpandedContent.jsx-1795567040>th{background-color:${S.grey300};}`,"tr.selected.isHoveringExpandedContent.jsx-1795567040>td{background-color:#cdeae8;}","tr.expanded.jsx-1795567040>td{border-bottom-color:transparent;}",`tr.expanded.jsx-1795567040>td.bordered{border-bottom-color:${S.grey300};}`]),className:"jsx-1795567040"},z2=()=>w.createElement(Tr,{width:"48px"},w.createElement(qm,null)),Oh={styles:w.createElement(I,{id:"927553068"},["td.jsx-927553068{cursor:pointer;}"]),className:"jsx-927553068"},av=s=>{let{expanded:e,onClick:t}=s;return w.createElement(Tr,{className:ot(Oh.className,{expanded:e}),onClick:()=>t({expanded:!e}),width:"48px"},e?w.createElement(Hm,null):w.createElement(Fm,null),Oh.styles)};av.propTypes={expanded:p.bool,onClick:p.func};const{className:L2,styles:B2}={styles:w.createElement(I,{id:"626485122"},[`tr.expanded:hover+tr>td.jsx-626485122{background-color:${S.grey100};}`,`tr.expanded:active+tr>td.jsx-626485122{background-color:${S.grey200};}`,"tr.selected.expanded:hover+tr.jsx-626485122>td.jsx-626485122{background-color:#cdeae8;}"]),className:"jsx-626485122"},ov=s=>{let{children:e,className:t,colSpan:n,dataTest:r,selected:i,setIsHoveringExpandedContent:a}=s;return w.createElement(nl,{onMouseOver:()=>a(!0),onMouseOut:()=>a(!1),className:ot({[`${t}-expandedrow`]:!!t}),selected:i,dataTest:r&&`${r}-expandedrow`},w.createElement(Tr,{className:L2,colSpan:n},e,B2))};ov.propTypes={children:p.node,className:p.string,colSpan:p.string,dataTest:p.string,selected:p.bool,setIsHoveringExpandedContent:p.func};function Vc(){return Vc=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Vc.apply(null,arguments)}const oi=y.forwardRef((s,e)=>{let{children:t,className:n,dataTest:r="dhis2-uicore-datatablerow",expandableContent:i,expanded:a,selected:o,draggable:l,role:c,onExpandToggle:u,...d}=s;const[h,f]=y.useState(!1),m=ot(n,Dh.className,{expanded:a,selected:o,draggable:l,isHoveringExpandedContent:h}),g=w.Children.count(t),v=String(l||i?g+1:g);return w.createElement(w.Fragment,null,w.createElement(nl,Vc({ref:e,className:m,dataTest:r,selected:o,draggable:l,role:c},d),l&&w.createElement(z2,null),i&&w.createElement(av,{expanded:a,onClick:u}),t,Dh.styles),i&&a&&w.createElement(ov,{className:n,dataTest:r,setIsHoveringExpandedContent:f,colSpan:v,selected:o},i))});oi.displayName="DataTableRow";oi.propTypes={children:p.node,className:p.string,dataTest:p.string,draggable:p.bool,expandableContent:pt(s=>s.onExpandToggle,p.node),expanded:p.bool,role:p.string,selected:p.bool,onExpandToggle:pt(s=>s.expandableContent,p.func)};var cd={};Object.defineProperty(cd,"__esModule",{value:!0});cd.parse=U2;cd.serialize=H2;const j2=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,I2=/^[\u0021-\u003A\u003C-\u007E]*$/,$2=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,_2=/^[\u0020-\u003A\u003D-\u007E]*$/,F2=Object.prototype.toString,V2=(()=>{const s=function(){};return s.prototype=Object.create(null),s})();function U2(s,e){const t=new V2,n=s.length;if(n<2)return t;const r=(e==null?void 0:e.decode)||W2;let i=0;do{const a=s.indexOf("=",i);if(a===-1)break;const o=s.indexOf(";",i),l=o===-1?n:o;if(a>l){i=s.lastIndexOf(";",a-1)+1;continue}const c=zh(s,i,a),u=Lh(s,a,c),d=s.slice(c,u);if(t[d]===void 0){let h=zh(s,a+1,l),f=Lh(s,l,h);const m=r(s.slice(h,f));t[d]=m}i=l+1}while(i<n);return t}function zh(s,e,t){do{const n=s.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<t);return t}function Lh(s,e,t){for(;e>t;){const n=s.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return t}function H2(s,e,t){const n=(t==null?void 0:t.encode)||encodeURIComponent;if(!j2.test(s))throw new TypeError(`argument name is invalid: ${s}`);const r=n(e);if(!I2.test(r))throw new TypeError(`argument val is invalid: ${e}`);let i=s+"="+r;if(!t)return i;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);i+="; Max-Age="+t.maxAge}if(t.domain){if(!$2.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);i+="; Domain="+t.domain}if(t.path){if(!_2.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);i+="; Path="+t.path}if(t.expires){if(!q2(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);i+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(i+="; HttpOnly"),t.secure&&(i+="; Secure"),t.partitioned&&(i+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return i}function W2(s){if(s.indexOf("%")===-1)return s;try{return decodeURIComponent(s)}catch{return s}}function q2(s){return F2.call(s)==="[object Date]"}/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bh="popstate";function G2(s={}){function e(r,i){let{pathname:a="/",search:o="",hash:l=""}=Us(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),gi("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){let a=r.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof i=="string"?i:dn(i))}function n(r,i){jt(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return Y2(e,t,n,s)}function Ae(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function jt(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K2(){return Math.random().toString(36).substring(2,10)}function jh(s,e){return{usr:s.state,key:s.key,idx:e}}function gi(s,e,t=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Us(e):e,state:t,key:e&&e.key||n||K2()}}function dn({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Us(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substring(n),s=s.substring(0,n)),s&&(e.pathname=s)}return e}function Y2(s,e,t,n={}){let{window:r=document.defaultView,v5Compat:i=!1}=n,a=r.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function d(){o="POP";let v=u(),b=v==null?null:v-c;c=v,l&&l({action:o,location:g.location,delta:b})}function h(v,b){o="PUSH";let C=gi(g.location,v,b);t&&t(C,v),c=u()+1;let A=jh(C,c),E=g.createHref(C);try{a.pushState(A,"",E)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;r.location.assign(E)}i&&l&&l({action:o,location:g.location,delta:1})}function f(v,b){o="REPLACE";let C=gi(g.location,v,b);t&&t(C,v),c=u();let A=jh(C,c),E=g.createHref(C);a.replaceState(A,"",E),i&&l&&l({action:o,location:g.location,delta:0})}function m(v){let b=r.location.origin!=="null"?r.location.origin:r.location.href,C=typeof v=="string"?v:dn(v);return C=C.replace(/ $/,"%20"),Ae(b,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,b)}let g={get action(){return o},get location(){return s(r,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Bh,d),l=v,()=>{r.removeEventListener(Bh,d),l=null}},createHref(v){return e(r,v)},createURL:m,encodeLocation(v){let b=m(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:f,go(v){return a.go(v)}};return g}var Q2=new Set(["lazy","caseSensitive","path","id","index","children"]);function J2(s){return s.index===!0}function lo(s,e,t=[],n={}){return s.map((r,i)=>{let a=[...t,String(i)],o=typeof r.id=="string"?r.id:a.join("-");if(Ae(r.index!==!0||!r.children,"Cannot specify children on an index route"),Ae(!n[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),J2(r)){let l={...r,...e(r),id:o};return n[o]=l,l}else{let l={...r,...e(r),id:o,children:void 0};return n[o]=l,r.children&&(l.children=lo(r.children,e,a,n)),l}})}function Xs(s,e,t="/"){return Ua(s,e,t,!1)}function Ua(s,e,t,n){let r=typeof e=="string"?Us(e):e,i=qt(r.pathname||"/",t);if(i==null)return null;let a=lv(s);X2(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=uE(i);o=lE(a[l],c,n)}return o}function Z2(s,e){let{route:t,pathname:n,params:r}=s;return{id:t.id,pathname:n,params:r,data:e[t.id],handle:t.handle}}function lv(s,e=[],t=[],n=""){let r=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Ae(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let c=Es([n,l.relativePath]),u=t.concat(l);i.children&&i.children.length>0&&(Ae(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),lv(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:aE(c,i.index),routesMeta:u})};return s.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))r(i,a);else for(let l of cv(i.path))r(i,a,l)}),e}function cv(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return r?[i,""]:[i];let a=cv(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),r&&o.push(...a),o.map(l=>s.startsWith("/")&&l===""?"/":l)}function X2(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:oE(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var eE=/^:[\w-]+$/,tE=3,sE=2,nE=1,rE=10,iE=-2,Ih=s=>s==="*";function aE(s,e){let t=s.split("/"),n=t.length;return t.some(Ih)&&(n+=iE),e&&(n+=sE),t.filter(r=>!Ih(r)).reduce((r,i)=>r+(eE.test(i)?tE:i===""?nE:rE),n)}function oE(s,e){return s.length===e.length&&s.slice(0,-1).every((n,r)=>n===e[r])?s[s.length-1]-e[e.length-1]:0}function lE(s,e,t=!1){let{routesMeta:n}=s,r={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=co({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&t&&!n[n.length-1].route.index&&(d=co({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(r,d.params),a.push({params:r,pathname:Es([i,d.pathname]),pathnameBase:fE(Es([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Es([i,d.pathnameBase]))}return a}function co(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=cE(s.path,s.caseSensitive,s.end),r=e.match(t);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let m=o[h]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const f=o[h];return d&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:s}}function cE(s,e=!1,t=!0){jt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function uE(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jt(!1,`The URL path "${s}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function qt(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}function dE(s,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof s=="string"?Us(s):s;return{pathname:t?t.startsWith("/")?t:hE(t,e):e,search:pE(n),hash:mE(r)}}function hE(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Hl(s,e,t,n){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uv(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rl(s){let e=uv(s);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function il(s,e,t,n=!1){let r;typeof s=="string"?r=Us(s):(r={...s},Ae(!r.pathname||!r.pathname.includes("?"),Hl("?","pathname","search",r)),Ae(!r.pathname||!r.pathname.includes("#"),Hl("#","pathname","hash",r)),Ae(!r.search||!r.search.includes("#"),Hl("#","search","hash",r)));let i=s===""||r.pathname==="",a=i?"/":r.pathname,o;if(a==null)o=t;else{let d=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=dE(r,o),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Es=s=>s.join("/").replace(/\/\/+/g,"/"),fE=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),pE=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,mE=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,uo=class{constructor(s,e,t,n=!1){this.status=s,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function al(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var dv=["POST","PUT","PATCH","DELETE"],gE=new Set(dv),vE=["GET",...dv],bE=new Set(vE),yE=new Set([301,302,303,307,308]),wE=new Set([307,308]),Wl={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xn={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ud=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SE=s=>({hasErrorBoundary:!!s.hasErrorBoundary}),hv="remix-router-transitions",fv=Symbol("ResetLoaderData");function kE(s){const e=s.window?s.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ae(s.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=s.mapRouteProperties||SE,r={},i=lo(s.routes,n,void 0,r),a,o=s.basename||"/",l=s.dataStrategy||EE,c=s.patchRoutesOnNavigation,u={...s.future},d=null,h=new Set,f=null,m=null,g=null,v=s.hydrationData!=null,b=Xs(i,s.history.location,o),C=null;if(b==null&&!c){let T=Yt(404,{pathname:s.history.location.pathname}),{matches:D,route:L}=Yh(i);b=D,C={[L.id]:T}}b&&!s.hydrationData&&Ji(b,i,s.history.location.pathname).active&&(b=null);let A;if(b)if(b.some(T=>T.route.lazy))A=!1;else if(!b.some(T=>T.route.loader))A=!0;else{let T=s.hydrationData?s.hydrationData.loaderData:null,D=s.hydrationData?s.hydrationData.errors:null;if(D){let L=b.findIndex(H=>D[H.route.id]!==void 0);A=b.slice(0,L+1).every(H=>!Hc(H.route,T,D))}else A=b.every(L=>!Hc(L.route,T,D))}else{A=!1,b=[];let T=Ji(null,i,s.history.location.pathname);T.active&&T.matches&&(b=T.matches)}let E,x={historyAction:s.history.action,location:s.history.location,matches:b,initialized:A,navigation:Wl,restoreScrollPosition:s.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:s.hydrationData&&s.hydrationData.loaderData||{},actionData:s.hydrationData&&s.hydrationData.actionData||null,errors:s.hydrationData&&s.hydrationData.errors||C,fetchers:new Map,blockers:new Map},R="POP",O=!1,z,M=!1,$=new Map,W=null,V=!1,Z=!1,q=new Set,Q=new Map,re=0,de=-1,ge=new Map,G=new Set,ue=new Map,ne=new Map,N=new Set,j=new Map,F,U=null;function ae(){if(d=s.history.listen(({action:T,location:D,delta:L})=>{if(F){F(),F=void 0;return}jt(j.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let H=rh({currentLocation:x.location,nextLocation:D,historyAction:T});if(H&&L!=null){let ie=new Promise(pe=>{F=pe});s.history.go(L*-1),Qi(H,{state:"blocked",location:D,proceed(){Qi(H,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),ie.then(()=>s.history.go(L))},reset(){let pe=new Map(x.blockers);pe.set(H,Xn),he({blockers:pe})}});return}return Je(T,D)}),t){$E(e,$);let T=()=>_E(e,$);e.addEventListener("pagehide",T),W=()=>e.removeEventListener("pagehide",T)}return x.initialized||Je("POP",x.location,{initialHydration:!0}),E}function be(){d&&d(),W&&W(),h.clear(),z&&z.abort(),x.fetchers.forEach((T,D)=>zr(D)),x.blockers.forEach((T,D)=>nh(D))}function xe(T){return h.add(T),()=>h.delete(T)}function he(T,D={}){x={...x,...T};let L=[],H=[];x.fetchers.forEach((ie,pe)=>{ie.state==="idle"&&(N.has(pe)?L.push(pe):H.push(pe))}),[...h].forEach(ie=>ie(x,{deletedFetchers:L,viewTransitionOpts:D.viewTransitionOpts,flushSync:D.flushSync===!0})),L.forEach(ie=>zr(ie)),H.forEach(ie=>x.fetchers.delete(ie))}function fe(T,D,{flushSync:L}={}){var X,ye;let H=x.actionData!=null&&x.navigation.formMethod!=null&&as(x.navigation.formMethod)&&x.navigation.state==="loading"&&((X=T.state)==null?void 0:X._isRedirect)!==!0,ie;D.actionData?Object.keys(D.actionData).length>0?ie=D.actionData:ie=null:H?ie=x.actionData:ie=null;let pe=D.loaderData?Gh(x.loaderData,D.loaderData,D.matches||[],D.errors):x.loaderData,ve=x.blockers;ve.size>0&&(ve=new Map(ve),ve.forEach((Ce,Ke)=>ve.set(Ke,Xn)));let oe=O===!0||x.navigation.formMethod!=null&&as(x.navigation.formMethod)&&((ye=T.state)==null?void 0:ye._isRedirect)!==!0;a&&(i=a,a=void 0),V||R==="POP"||(R==="PUSH"?s.history.push(T,T.state):R==="REPLACE"&&s.history.replace(T,T.state));let le;if(R==="POP"){let Ce=$.get(x.location.pathname);Ce&&Ce.has(T.pathname)?le={currentLocation:x.location,nextLocation:T}:$.has(T.pathname)&&(le={currentLocation:T,nextLocation:x.location})}else if(M){let Ce=$.get(x.location.pathname);Ce?Ce.add(T.pathname):(Ce=new Set([T.pathname]),$.set(x.location.pathname,Ce)),le={currentLocation:x.location,nextLocation:T}}he({...D,actionData:ie,loaderData:pe,historyAction:R,location:T,initialized:!0,navigation:Wl,revalidation:"idle",restoreScrollPosition:ah(T,D.matches||x.matches),preventScrollReset:oe,blockers:ve},{viewTransitionOpts:le,flushSync:L===!0}),R="POP",O=!1,M=!1,V=!1,Z=!1,U==null||U.resolve(),U=null}async function ze(T,D){if(typeof T=="number"){s.history.go(T);return}let L=Uc(x.location,x.matches,o,T,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:H,submission:ie,error:pe}=$h(!1,L,D),ve=x.location,oe=gi(x.location,H,D&&D.state);oe={...oe,...s.history.encodeLocation(oe)};let le=D&&D.replace!=null?D.replace:void 0,X="PUSH";le===!0?X="REPLACE":le===!1||ie!=null&&as(ie.formMethod)&&ie.formAction===x.location.pathname+x.location.search&&(X="REPLACE");let ye=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,Ce=(D&&D.flushSync)===!0,Ke=rh({currentLocation:ve,nextLocation:oe,historyAction:X});if(Ke){Qi(Ke,{state:"blocked",location:oe,proceed(){Qi(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),ze(T,D)},reset(){let ht=new Map(x.blockers);ht.set(Ke,Xn),he({blockers:ht})}});return}await Je(X,oe,{submission:ie,pendingError:pe,preventScrollReset:ye,replace:D&&D.replace,enableViewTransition:D&&D.viewTransition,flushSync:Ce})}function Ge(){U||(U=FE()),Ls(),he({revalidation:"loading"});let T=U.promise;return x.navigation.state==="submitting"?T:x.navigation.state==="idle"?(Je(x.historyAction,x.location,{startUninterruptedRevalidation:!0}),T):(Je(R||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:M===!0}),T)}async function Je(T,D,L){z&&z.abort(),z=null,R=T,V=(L&&L.startUninterruptedRevalidation)===!0,vw(x.location,x.matches),O=(L&&L.preventScrollReset)===!0,M=(L&&L.enableViewTransition)===!0;let H=a||i,ie=L&&L.overrideNavigation,pe=Xs(H,D,o),ve=(L&&L.flushSync)===!0,oe=Ji(pe,H,D.pathname);if(oe.active&&oe.matches&&(pe=oe.matches),!pe){let{error:Ze,notFoundMatches:Ue,route:rt}=Rl(D.pathname);fe(D,{matches:Ue,loaderData:{},errors:{[rt.id]:Ze}},{flushSync:ve});return}if(x.initialized&&!Z&&zE(x.location,D)&&!(L&&L.submission&&as(L.submission.formMethod))){fe(D,{matches:pe},{flushSync:ve});return}z=new AbortController;let le=Qn(s.history,D,z.signal,L&&L.submission),X;if(L&&L.pendingError)X=[kn(pe).route.id,{type:"error",error:L.pendingError}];else if(L&&L.submission&&as(L.submission.formMethod)){let Ze=await Rt(le,D,L.submission,pe,oe.active,{replace:L.replace,flushSync:ve});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[Ue,rt]=Ze.pendingActionResult;if(Ht(rt)&&al(rt.error)&&rt.error.status===404){z=null,fe(D,{matches:Ze.matches,loaderData:{},errors:{[Ue]:rt.error}});return}}pe=Ze.matches||pe,X=Ze.pendingActionResult,ie=ql(D,L.submission),ve=!1,oe.active=!1,le=Qn(s.history,le.url,le.signal)}let{shortCircuited:ye,matches:Ce,loaderData:Ke,errors:ht}=await ke(le,D,pe,oe.active,ie,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,ve,X);ye||(z=null,fe(D,{matches:Ce||pe,...Kh(X),loaderData:Ke,errors:ht}))}async function Rt(T,D,L,H,ie,pe={}){Ls();let ve=jE(D,L);if(he({navigation:ve},{flushSync:pe.flushSync===!0}),ie){let X=await Zi(H,D.pathname,T.signal);if(X.type==="aborted")return{shortCircuited:!0};if(X.type==="error"){let ye=kn(X.partialMatches).route.id;return{matches:X.partialMatches,pendingActionResult:[ye,{type:"error",error:X.error}]}}else if(X.matches)H=X.matches;else{let{notFoundMatches:ye,error:Ce,route:Ke}=Rl(D.pathname);return{matches:ye,pendingActionResult:[Ke.id,{type:"error",error:Ce}]}}}let oe,le=Kr(H,D);if(!le.route.action&&!le.route.lazy)oe={type:"error",error:Yt(405,{method:T.method,pathname:D.pathname,routeId:le.route.id})};else if(oe=(await bt("action",x,T,[le],H,null))[le.route.id],T.signal.aborted)return{shortCircuited:!0};if(An(oe)){let X;return pe&&pe.replace!=null?X=pe.replace:X=Hh(oe.response.headers.get("Location"),new URL(T.url),o)===x.location.pathname+x.location.search,await Pt(T,oe,!0,{submission:L,replace:X}),{shortCircuited:!0}}if(Ht(oe)){let X=kn(H,le.route.id);return(pe&&pe.replace)!==!0&&(R="PUSH"),{matches:H,pendingActionResult:[X.route.id,oe]}}return{matches:H,pendingActionResult:[le.route.id,oe]}}async function ke(T,D,L,H,ie,pe,ve,oe,le,X,ye){let Ce=ie||ql(D,pe),Ke=pe||ve||Jh(Ce),ht=!V&&!le;if(H){if(ht){let wt=_e(ye);he({navigation:Ce,...wt!==void 0?{actionData:wt}:{}},{flushSync:X})}let Fe=await Zi(L,D.pathname,T.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){let wt=kn(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,loaderData:{},errors:{[wt]:Fe.error}}}else if(Fe.matches)L=Fe.matches;else{let{error:wt,notFoundMatches:ta,route:jr}=Rl(D.pathname);return{matches:ta,loaderData:{},errors:{[jr.id]:wt}}}}let Ze=a||i,[Ue,rt]=Fh(s.history,x,L,Ke,D,le===!0,Z,q,N,ue,G,Ze,o,ye);if(de=++re,Ue.length===0&&rt.length===0){let Fe=th();return fe(D,{matches:L,loaderData:{},errors:ye&&Ht(ye[1])?{[ye[0]]:ye[1].error}:null,...Kh(ye),...Fe?{fetchers:new Map(x.fetchers)}:{}},{flushSync:X}),{shortCircuited:!0}}if(ht){let Fe={};if(!H){Fe.navigation=Ce;let wt=_e(ye);wt!==void 0&&(Fe.actionData=wt)}rt.length>0&&(Fe.fetchers=_t(rt)),he(Fe,{flushSync:X})}rt.forEach(Fe=>{ms(Fe.key),Fe.controller&&Q.set(Fe.key,Fe.controller)});let Kn=()=>rt.forEach(Fe=>ms(Fe.key));z&&z.signal.addEventListener("abort",Kn);let{loaderResults:Lr,fetcherResults:Bs}=await Or(x,L,Ue,rt,T);if(T.signal.aborted)return{shortCircuited:!0};z&&z.signal.removeEventListener("abort",Kn),rt.forEach(Fe=>Q.delete(Fe.key));let gs=ua(Lr);if(gs)return await Pt(T,gs.result,!0,{replace:oe}),{shortCircuited:!0};if(gs=ua(Bs),gs)return G.add(gs.key),await Pt(T,gs.result,!0,{replace:oe}),{shortCircuited:!0};let{loaderData:Dl,errors:Br}=qh(x,L,Lr,ye,rt,Bs);le&&x.errors&&(Br={...x.errors,...Br});let xn=th(),Xi=sh(de),ea=xn||Xi||rt.length>0;return{matches:L,loaderData:Dl,errors:Br,...ea?{fetchers:new Map(x.fetchers)}:{}}}function _e(T){if(T&&!Ht(T[1]))return{[T[0]]:T[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function _t(T){return T.forEach(D=>{let L=x.fetchers.get(D.key),H=$r(void 0,L?L.data:void 0);x.fetchers.set(D.key,H)}),new Map(x.fetchers)}async function Gn(T,D,L,H){ms(T);let ie=(H&&H.flushSync)===!0,pe=a||i,ve=Uc(x.location,x.matches,o,L,D,H==null?void 0:H.relative),oe=Xs(pe,ve,o),le=Ji(oe,pe,ve);if(le.active&&le.matches&&(oe=le.matches),!oe){ct(T,D,Yt(404,{pathname:ve}),{flushSync:ie});return}let{path:X,submission:ye,error:Ce}=$h(!0,ve,H);if(Ce){ct(T,D,Ce,{flushSync:ie});return}let Ke=Kr(oe,X),ht=(H&&H.preventScrollReset)===!0;if(ye&&as(ye.formMethod)){await wn(T,D,X,Ke,oe,le.active,ie,ht,ye);return}ue.set(T,{routeId:D,path:X}),await ps(T,D,X,Ke,oe,le.active,ie,ht,ye)}async function wn(T,D,L,H,ie,pe,ve,oe,le){Ls(),ue.delete(T);function X(tt){if(!tt.route.action&&!tt.route.lazy){let Yn=Yt(405,{method:le.formMethod,pathname:L,routeId:D});return ct(T,D,Yn,{flushSync:ve}),!0}return!1}if(!pe&&X(H))return;let ye=x.fetchers.get(T);yt(T,IE(le,ye),{flushSync:ve});let Ce=new AbortController,Ke=Qn(s.history,L,Ce.signal,le);if(pe){let tt=await Zi(ie,L,Ke.signal);if(tt.type==="aborted")return;if(tt.type==="error"){ct(T,D,tt.error,{flushSync:ve});return}else if(tt.matches){if(ie=tt.matches,H=Kr(ie,L),X(H))return}else{ct(T,D,Yt(404,{pathname:L}),{flushSync:ve});return}}Q.set(T,Ce);let ht=re,Ue=(await bt("action",x,Ke,[H],ie,T))[H.route.id];if(Ke.signal.aborted){Q.get(T)===Ce&&Q.delete(T);return}if(N.has(T)){if(An(Ue)||Ht(Ue)){yt(T,Ys(void 0));return}}else{if(An(Ue))if(Q.delete(T),de>ht){yt(T,Ys(void 0));return}else return G.add(T),yt(T,$r(le)),Pt(Ke,Ue,!1,{fetcherSubmission:le,preventScrollReset:oe});if(Ht(Ue)){ct(T,D,Ue.error);return}}let rt=x.navigation.location||x.location,Kn=Qn(s.history,rt,Ce.signal),Lr=a||i,Bs=x.navigation.state!=="idle"?Xs(Lr,x.navigation.location,o):x.matches;Ae(Bs,"Didn't find any matches after fetcher action");let gs=++re;ge.set(T,gs);let Dl=$r(le,Ue.data);x.fetchers.set(T,Dl);let[Br,xn]=Fh(s.history,x,Bs,le,rt,!1,Z,q,N,ue,G,Lr,o,[H.route.id,Ue]);xn.filter(tt=>tt.key!==T).forEach(tt=>{let Yn=tt.key,oh=x.fetchers.get(Yn),ww=$r(void 0,oh?oh.data:void 0);x.fetchers.set(Yn,ww),ms(Yn),tt.controller&&Q.set(Yn,tt.controller)}),he({fetchers:new Map(x.fetchers)});let Xi=()=>xn.forEach(tt=>ms(tt.key));Ce.signal.addEventListener("abort",Xi);let{loaderResults:ea,fetcherResults:Fe}=await Or(x,Bs,Br,xn,Kn);if(Ce.signal.aborted)return;Ce.signal.removeEventListener("abort",Xi),ge.delete(T),Q.delete(T),xn.forEach(tt=>Q.delete(tt.key));let wt=ua(ea);if(wt)return Pt(Kn,wt.result,!1,{preventScrollReset:oe});if(wt=ua(Fe),wt)return G.add(wt.key),Pt(Kn,wt.result,!1,{preventScrollReset:oe});let{loaderData:ta,errors:jr}=qh(x,Bs,ea,void 0,xn,Fe);if(x.fetchers.has(T)){let tt=Ys(Ue.data);x.fetchers.set(T,tt)}sh(gs),x.navigation.state==="loading"&&gs>de?(Ae(R,"Expected pending action"),z&&z.abort(),fe(x.navigation.location,{matches:Bs,loaderData:ta,errors:jr,fetchers:new Map(x.fetchers)})):(he({errors:jr,loaderData:Gh(x.loaderData,ta,Bs,jr),fetchers:new Map(x.fetchers)}),Z=!1)}async function ps(T,D,L,H,ie,pe,ve,oe,le){let X=x.fetchers.get(T);yt(T,$r(le,X?X.data:void 0),{flushSync:ve});let ye=new AbortController,Ce=Qn(s.history,L,ye.signal);if(pe){let Ue=await Zi(ie,L,Ce.signal);if(Ue.type==="aborted")return;if(Ue.type==="error"){ct(T,D,Ue.error,{flushSync:ve});return}else if(Ue.matches)ie=Ue.matches,H=Kr(ie,L);else{ct(T,D,Yt(404,{pathname:L}),{flushSync:ve});return}}Q.set(T,ye);let Ke=re,Ze=(await bt("loader",x,Ce,[H],ie,T))[H.route.id];if(Q.get(T)===ye&&Q.delete(T),!Ce.signal.aborted){if(N.has(T)){yt(T,Ys(void 0));return}if(An(Ze))if(de>Ke){yt(T,Ys(void 0));return}else{G.add(T),await Pt(Ce,Ze,!1,{preventScrollReset:oe});return}if(Ht(Ze)){ct(T,D,Ze.error);return}yt(T,Ys(Ze.data))}}async function Pt(T,D,L,{submission:H,fetcherSubmission:ie,preventScrollReset:pe,replace:ve}={}){D.response.headers.has("X-Remix-Revalidate")&&(Z=!0);let oe=D.response.headers.get("Location");Ae(oe,"Expected a Location header on the redirect Response"),oe=Hh(oe,new URL(T.url),o);let le=gi(x.location,oe,{_isRedirect:!0});if(t){let Ze=!1;if(D.response.headers.has("X-Remix-Reload-Document"))Ze=!0;else if(ud.test(oe)){const Ue=s.history.createURL(oe);Ze=Ue.origin!==e.location.origin||qt(Ue.pathname,o)==null}if(Ze){ve?e.location.replace(oe):e.location.assign(oe);return}}z=null;let X=ve===!0||D.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ye,formAction:Ce,formEncType:Ke}=x.navigation;!H&&!ie&&ye&&Ce&&Ke&&(H=Jh(x.navigation));let ht=H||ie;if(wE.has(D.response.status)&&ht&&as(ht.formMethod))await Je(X,le,{submission:{...ht,formAction:oe},preventScrollReset:pe||O,enableViewTransition:L?M:void 0});else{let Ze=ql(le,H);await Je(X,le,{overrideNavigation:Ze,fetcherSubmission:ie,preventScrollReset:pe||O,enableViewTransition:L?M:void 0})}}async function bt(T,D,L,H,ie,pe){let ve,oe={};try{ve=await ME(l,T,D,L,H,ie,pe,r,n)}catch(le){return H.forEach(X=>{oe[X.route.id]={type:"error",error:le}}),oe}for(let[le,X]of Object.entries(ve))if(LE(X)){let ye=X.result;oe[le]={type:"redirect",response:DE(ye,L,le,ie,o)}}else oe[le]=await RE(X);return oe}async function Or(T,D,L,H,ie){let pe=bt("loader",T,ie,L,D,null),ve=Promise.all(H.map(async X=>{if(X.matches&&X.match&&X.controller){let Ce=(await bt("loader",T,Qn(s.history,X.path,X.controller.signal),[X.match],X.matches,X.key))[X.match.route.id];return{[X.key]:Ce}}else return Promise.resolve({[X.key]:{type:"error",error:Yt(404,{pathname:X.path})}})})),oe=await pe,le=(await ve).reduce((X,ye)=>Object.assign(X,ye),{});return{loaderResults:oe,fetcherResults:le}}function Ls(){Z=!0,ue.forEach((T,D)=>{Q.has(D)&&q.add(D),ms(D)})}function yt(T,D,L={}){x.fetchers.set(T,D),he({fetchers:new Map(x.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function ct(T,D,L,H={}){let ie=kn(x.matches,D);zr(T),he({errors:{[ie.route.id]:L},fetchers:new Map(x.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Gs(T){return ne.set(T,(ne.get(T)||0)+1),N.has(T)&&N.delete(T),x.fetchers.get(T)||xE}function zr(T){let D=x.fetchers.get(T);Q.has(T)&&!(D&&D.state==="loading"&&ge.has(T))&&ms(T),ue.delete(T),ge.delete(T),G.delete(T),N.delete(T),q.delete(T),x.fetchers.delete(T)}function Nl(T){let D=(ne.get(T)||0)-1;D<=0?(ne.delete(T),N.add(T)):ne.set(T,D),he({fetchers:new Map(x.fetchers)})}function ms(T){let D=Q.get(T);D&&(D.abort(),Q.delete(T))}function eh(T){for(let D of T){let L=Gs(D),H=Ys(L.data);x.fetchers.set(D,H)}}function th(){let T=[],D=!1;for(let L of G){let H=x.fetchers.get(L);Ae(H,`Expected fetcher: ${L}`),H.state==="loading"&&(G.delete(L),T.push(L),D=!0)}return eh(T),D}function sh(T){let D=[];for(let[L,H]of ge)if(H<T){let ie=x.fetchers.get(L);Ae(ie,`Expected fetcher: ${L}`),ie.state==="loading"&&(ms(L),ge.delete(L),D.push(L))}return eh(D),D.length>0}function mw(T,D){let L=x.blockers.get(T)||Xn;return j.get(T)!==D&&j.set(T,D),L}function nh(T){x.blockers.delete(T),j.delete(T)}function Qi(T,D){let L=x.blockers.get(T)||Xn;Ae(L.state==="unblocked"&&D.state==="blocked"||L.state==="blocked"&&D.state==="blocked"||L.state==="blocked"&&D.state==="proceeding"||L.state==="blocked"&&D.state==="unblocked"||L.state==="proceeding"&&D.state==="unblocked",`Invalid blocker state transition: ${L.state} -> ${D.state}`);let H=new Map(x.blockers);H.set(T,D),he({blockers:H})}function rh({currentLocation:T,nextLocation:D,historyAction:L}){if(j.size===0)return;j.size>1&&jt(!1,"A router only supports one blocker at a time");let H=Array.from(j.entries()),[ie,pe]=H[H.length-1],ve=x.blockers.get(ie);if(!(ve&&ve.state==="proceeding")&&pe({currentLocation:T,nextLocation:D,historyAction:L}))return ie}function Rl(T){let D=Yt(404,{pathname:T}),L=a||i,{matches:H,route:ie}=Yh(L);return{notFoundMatches:H,route:ie,error:D}}function gw(T,D,L){if(f=T,g=D,m=L||null,!v&&x.navigation===Wl){v=!0;let H=ah(x.location,x.matches);H!=null&&he({restoreScrollPosition:H})}return()=>{f=null,g=null,m=null}}function ih(T,D){return m&&m(T,D.map(H=>Z2(H,x.loaderData)))||T.key}function vw(T,D){if(f&&g){let L=ih(T,D);f[L]=g()}}function ah(T,D){if(f){let L=ih(T,D),H=f[L];if(typeof H=="number")return H}return null}function Ji(T,D,L){if(c)if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:Ua(D,L,o,!0)}}else return{active:!0,matches:Ua(D,L,o,!0)||[]};return{active:!1,matches:null}}async function Zi(T,D,L){if(!c)return{type:"success",matches:T};let H=T;for(;;){let ie=a==null,pe=a||i,ve=r;try{await c({path:D,matches:H,patch:(X,ye)=>{L.aborted||Uh(X,ye,pe,ve,n)}})}catch(X){return{type:"error",error:X,partialMatches:H}}finally{ie&&!L.aborted&&(i=[...i])}if(L.aborted)return{type:"aborted"};let oe=Xs(pe,D,o);if(oe)return{type:"success",matches:oe};let le=Ua(pe,D,o,!0);if(!le||H.length===le.length&&H.every((X,ye)=>X.route.id===le[ye].route.id))return{type:"success",matches:null};H=le}}function bw(T){r={},a=lo(T,n,void 0,r)}function yw(T,D){let L=a==null;Uh(T,D,a||i,r,n),L&&(i=[...i],he({}))}return E={get basename(){return o},get future(){return u},get state(){return x},get routes(){return i},get window(){return e},initialize:ae,subscribe:xe,enableScrollRestoration:gw,navigate:ze,fetch:Gn,revalidate:Ge,createHref:T=>s.history.createHref(T),encodeLocation:T=>s.history.encodeLocation(T),getFetcher:Gs,deleteFetcher:Nl,dispose:be,getBlocker:mw,deleteBlocker:nh,patchRoutes:yw,_internalFetchControllers:Q,_internalSetRoutes:bw},E}function CE(s){return s!=null&&("formData"in s&&s.formData!=null||"body"in s&&s.body!==void 0)}function Uc(s,e,t,n,r,i){let a,o;if(r){a=[];for(let c of e)if(a.push(c),c.route.id===r){o=c;break}}else a=e,o=e[e.length-1];let l=il(n||".",rl(a),qt(s.pathname,t)||s.pathname,i==="path");if(n==null&&(l.search=s.search,l.hash=s.hash),(n==null||n===""||n===".")&&o){let c=dd(l.search);if(o.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&c){let u=new URLSearchParams(l.search),d=u.getAll("index");u.delete("index"),d.filter(f=>f).forEach(f=>u.append("index",f));let h=u.toString();l.search=h?`?${h}`:""}}return t!=="/"&&(l.pathname=l.pathname==="/"?t:Es([t,l.pathname])),dn(l)}function $h(s,e,t){if(!t||!CE(t))return{path:e};if(t.formMethod&&!BE(t.formMethod))return{path:e,error:Yt(405,{method:t.formMethod})};let n=()=>({path:e,error:Yt(400,{type:"invalid-body"})}),i=(t.formMethod||"get").toUpperCase(),a=mv(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!as(i))return n();let d=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((h,[f,m])=>`${h}${f}=${m}
`,""):String(t.body);return{path:e,submission:{formMethod:i,formAction:a,formEncType:t.formEncType,formData:void 0,json:void 0,text:d}}}else if(t.formEncType==="application/json"){if(!as(i))return n();try{let d=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:i,formAction:a,formEncType:t.formEncType,formData:void 0,json:d,text:void 0}}}catch{return n()}}}Ae(typeof FormData=="function","FormData is not available in this environment");let o,l;if(t.formData)o=Wc(t.formData),l=t.formData;else if(t.body instanceof FormData)o=Wc(t.body),l=t.body;else if(t.body instanceof URLSearchParams)o=t.body,l=Wh(o);else if(t.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(t.body),l=Wh(o)}catch{return n()}let c={formMethod:i,formAction:a,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(as(c.formMethod))return{path:e,submission:c};let u=Us(e);return s&&u.search&&dd(u.search)&&o.append("index",""),u.search=`?${o}`,{path:dn(u),submission:c}}function _h(s,e,t=!1){let n=s.findIndex(r=>r.route.id===e);return n>=0?s.slice(0,t?n+1:n):s}function Fh(s,e,t,n,r,i,a,o,l,c,u,d,h,f){let m=f?Ht(f[1])?f[1].error:f[1].data:void 0,g=s.createURL(e.location),v=s.createURL(r),b=t;i&&e.errors?b=_h(t,Object.keys(e.errors)[0],!0):f&&Ht(f[1])&&(b=_h(t,f[0]));let C=f?f[1].statusCode:void 0,A=C&&C>=400,E=b.filter((R,O)=>{let{route:z}=R;if(z.lazy)return!0;if(z.loader==null)return!1;if(i)return Hc(z,e.loaderData,e.errors);if(PE(e.loaderData,e.matches[O],R))return!0;let M=e.matches[O],$=R;return Vh(R,{currentUrl:g,currentParams:M.params,nextUrl:v,nextParams:$.params,...n,actionResult:m,actionStatus:C,defaultShouldRevalidate:A?!1:a||g.pathname+g.search===v.pathname+v.search||g.search!==v.search||AE(M,$)})}),x=[];return c.forEach((R,O)=>{if(i||!t.some(V=>V.route.id===R.routeId)||l.has(O))return;let z=Xs(d,R.path,h);if(!z){x.push({key:O,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(O),$=Kr(z,R.path),W=!1;u.has(O)?W=!1:o.has(O)?(o.delete(O),W=!0):M&&M.state!=="idle"&&M.data===void 0?W=a:W=Vh($,{currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:t[t.length-1].params,...n,actionResult:m,actionStatus:C,defaultShouldRevalidate:A?!1:a}),W&&x.push({key:O,routeId:R.routeId,path:R.path,matches:z,match:$,controller:new AbortController})}),[E,x]}function Hc(s,e,t){if(s.lazy)return!0;if(!s.loader)return!1;let n=e!=null&&e[s.id]!==void 0,r=t!=null&&t[s.id]!==void 0;return!n&&r?!1:typeof s.loader=="function"&&s.loader.hydrate===!0?!0:!n&&!r}function PE(s,e,t){let n=!e||t.route.id!==e.route.id,r=!s.hasOwnProperty(t.route.id);return n||r}function AE(s,e){let t=s.route.path;return s.pathname!==e.pathname||t!=null&&t.endsWith("*")&&s.params["*"]!==e.params["*"]}function Vh(s,e){if(s.route.shouldRevalidate){let t=s.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Uh(s,e,t,n,r){let i;if(s){let l=n[s];Ae(l,`No route found to patch children into: routeId = ${s}`),l.children||(l.children=[]),i=l.children}else i=t;let a=e.filter(l=>!i.some(c=>pv(l,c))),o=lo(a,r,[s||"_","patch",String((i==null?void 0:i.length)||"0")],n);i.push(...o)}function pv(s,e){return"id"in s&&"id"in e&&s.id===e.id?!0:s.index===e.index&&s.path===e.path&&s.caseSensitive===e.caseSensitive?(!s.children||s.children.length===0)&&(!e.children||e.children.length===0)?!0:s.children.every((t,n)=>{var r;return(r=e.children)==null?void 0:r.some(i=>pv(t,i))}):!1}async function TE(s,e,t){if(!s.lazy)return;let n=await s.lazy();if(!s.lazy)return;let r=t[s.id];Ae(r,"No route found in manifest");let i={};for(let a in n){let l=r[a]!==void 0&&a!=="hasErrorBoundary";jt(!l,`Route "${r.id}" has a static property "${a}" defined but its lazy function is also returning a value for this property. The lazy route property "${a}" will be ignored.`),!l&&!Q2.has(a)&&(i[a]=n[a])}Object.assign(r,i),Object.assign(r,{...e(r),lazy:void 0})}async function EE({matches:s}){let e=s.filter(n=>n.shouldLoad);return(await Promise.all(e.map(n=>n.resolve()))).reduce((n,r,i)=>Object.assign(n,{[e[i].route.id]:r}),{})}async function ME(s,e,t,n,r,i,a,o,l,c){let u=i.map(f=>f.route.lazy?TE(f.route,l,o):void 0),d=i.map((f,m)=>{let g=u[m],v=r.some(C=>C.route.id===f.route.id);return{...f,shouldLoad:v,resolve:async C=>(C&&n.method==="GET"&&(f.route.lazy||f.route.loader)&&(v=!0),v?NE(e,n,f,g,C,c):Promise.resolve({type:"data",result:void 0}))}}),h=await s({matches:d,request:n,params:i[0].params,fetcherKey:a,context:c});try{await Promise.all(u)}catch{}return h}async function NE(s,e,t,n,r,i){let a,o,l=c=>{let u,d=new Promise((m,g)=>u=g);o=()=>u(),e.signal.addEventListener("abort",o);let h=m=>typeof c!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${s}" [routeId: ${t.route.id}]`)):c({request:e,params:t.params,context:i},...m!==void 0?[m]:[]),f=(async()=>{try{return{type:"data",result:await(r?r(g=>h(g)):h())}}catch(m){return{type:"error",result:m}}})();return Promise.race([f,d])};try{let c=t.route[s];if(n)if(c){let u,[d]=await Promise.all([l(c).catch(h=>{u=h}),n]);if(u!==void 0)throw u;a=d}else if(await n,c=t.route[s],c)a=await l(c);else if(s==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Yt(405,{method:e.method,pathname:d,routeId:t.route.id})}else return{type:"data",result:void 0};else if(c)a=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Yt(404,{pathname:d})}}catch(c){return{type:"error",result:c}}finally{o&&e.signal.removeEventListener("abort",o)}return a}async function RE(s){var n,r,i,a;let{result:e,type:t}=s;if(gv(e)){let o;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(l){return{type:"error",error:l}}return t==="error"?{type:"error",error:new uo(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:"data",data:o,statusCode:e.status,headers:e.headers}}if(t==="error"){if(Qh(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(n=e.init)==null?void 0:n.status};e=new uo(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:al(e)?e.status:void 0}}return Qh(e)?{type:"data",data:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function DE(s,e,t,n,r){let i=s.headers.get("Location");if(Ae(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!ud.test(i)){let a=n.slice(0,n.findIndex(o=>o.route.id===t)+1);i=Uc(new URL(e.url),a,r,i),s.headers.set("Location",i)}return s}function Hh(s,e,t){if(ud.test(s)){let n=s,r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=qt(r.pathname,t)!=null;if(r.origin===e.origin&&i)return r.pathname+r.search+r.hash}return s}function Qn(s,e,t,n){let r=s.createURL(mv(e)).toString(),i={signal:t};if(n&&as(n.formMethod)){let{formMethod:a,formEncType:o}=n;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=Wc(n.formData):i.body=n.formData}return new Request(r,i)}function Wc(s){let e=new URLSearchParams;for(let[t,n]of s.entries())e.append(t,typeof n=="string"?n:n.name);return e}function Wh(s){let e=new FormData;for(let[t,n]of s.entries())e.append(t,n);return e}function OE(s,e,t,n=!1,r=!1){let i={},a=null,o,l=!1,c={},u=t&&Ht(t[1])?t[1].error:void 0;return s.forEach(d=>{if(!(d.route.id in e))return;let h=d.route.id,f=e[h];if(Ae(!An(f),"Cannot handle redirect results in processLoaderData"),Ht(f)){let m=f.error;if(u!==void 0&&(m=u,u=void 0),a=a||{},r)a[h]=m;else{let g=kn(s,h);a[g.route.id]==null&&(a[g.route.id]=m)}n||(i[h]=fv),l||(l=!0,o=al(f.error)?f.error.status:500),f.headers&&(c[h]=f.headers)}else i[h]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(o=f.statusCode),f.headers&&(c[h]=f.headers)}),u!==void 0&&t&&(a={[t[0]]:u},i[t[0]]=void 0),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:c}}function qh(s,e,t,n,r,i){let{loaderData:a,errors:o}=OE(e,t,n);return r.forEach(l=>{let{key:c,match:u,controller:d}=l,h=i[c];if(Ae(h,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Ht(h)){let f=kn(s.matches,u==null?void 0:u.route.id);o&&o[f.route.id]||(o={...o,[f.route.id]:h.error}),s.fetchers.delete(c)}else if(An(h))Ae(!1,"Unhandled fetcher revalidation redirect");else{let f=Ys(h.data);s.fetchers.set(c,f)}}),{loaderData:a,errors:o}}function Gh(s,e,t,n){let r=Object.entries(e).filter(([,i])=>i!==fv).reduce((i,[a,o])=>(i[a]=o,i),{});for(let i of t){let a=i.route.id;if(!e.hasOwnProperty(a)&&s.hasOwnProperty(a)&&i.route.loader&&(r[a]=s[a]),n&&n.hasOwnProperty(a))break}return r}function Kh(s){return s?Ht(s[1])?{actionData:{}}:{actionData:{[s[0]]:s[1].data}}:{}}function kn(s,e){return(e?s.slice(0,s.findIndex(n=>n.route.id===e)+1):[...s]).reverse().find(n=>n.route.hasErrorBoundary===!0)||s[0]}function Yh(s){let e=s.length===1?s[0]:s.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Yt(s,{pathname:e,routeId:t,method:n,type:r,message:i}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return s===400?(a="Bad Request",n&&e&&t?o=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:r==="invalid-body"&&(o="Unable to encode submission body")):s===403?(a="Forbidden",o=`Route "${t}" does not match URL "${e}"`):s===404?(a="Not Found",o=`No route matches URL "${e}"`):s===405&&(a="Method Not Allowed",n&&e&&t?o=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new uo(s||500,a,new Error(o),!0)}function ua(s){let e=Object.entries(s);for(let t=e.length-1;t>=0;t--){let[n,r]=e[t];if(An(r))return{key:n,result:r}}}function mv(s){let e=typeof s=="string"?Us(s):s;return dn({...e,hash:""})}function zE(s,e){return s.pathname!==e.pathname||s.search!==e.search?!1:s.hash===""?e.hash!=="":s.hash===e.hash?!0:e.hash!==""}function LE(s){return gv(s.result)&&yE.has(s.result.status)}function Ht(s){return s.type==="error"}function An(s){return(s&&s.type)==="redirect"}function Qh(s){return typeof s=="object"&&s!=null&&"type"in s&&"data"in s&&"init"in s&&s.type==="DataWithResponseInit"}function gv(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.headers=="object"&&typeof s.body<"u"}function BE(s){return bE.has(s.toUpperCase())}function as(s){return gE.has(s.toUpperCase())}function dd(s){return new URLSearchParams(s).getAll("index").some(e=>e==="")}function Kr(s,e){let t=typeof e=="string"?Us(e).search:e.search;if(s[s.length-1].route.index&&dd(t||""))return s[s.length-1];let n=uv(s);return n[n.length-1]}function Jh(s){let{formMethod:e,formAction:t,formEncType:n,text:r,formData:i,json:a}=s;if(!(!e||!t||!n)){if(r!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:r};if(i!=null)return{formMethod:e,formAction:t,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:a,text:void 0}}}function ql(s,e){return e?{state:"loading",location:s,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:s,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jE(s,e){return{state:"submitting",location:s,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $r(s,e){return s?{state:"loading",formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function IE(s,e){return{state:"submitting",formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text,data:e?e.data:void 0}}function Ys(s){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:s}}function $E(s,e){try{let t=s.sessionStorage.getItem(hv);if(t){let n=JSON.parse(t);for(let[r,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(r,new Set(i||[]))}}catch{}}function _E(s,e){if(e.size>0){let t={};for(let[n,r]of e)t[n]=[...r];try{s.sessionStorage.setItem(hv,JSON.stringify(t))}catch(n){jt(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function FE(){let s,e,t=new Promise((n,r)=>{s=async i=>{n(i);try{await t}catch{}},e=async i=>{r(i);try{await t}catch{}}});return{promise:t,resolve:s,reject:e}}var Vn=y.createContext(null);Vn.displayName="DataRouter";var $i=y.createContext(null);$i.displayName="DataRouterState";var hd=y.createContext({isTransitioning:!1});hd.displayName="ViewTransition";var vv=y.createContext(new Map);vv.displayName="Fetchers";var VE=y.createContext(null);VE.displayName="Await";var us=y.createContext(null);us.displayName="Navigation";var ol=y.createContext(null);ol.displayName="Location";var rs=y.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var fd=y.createContext(null);fd.displayName="RouteError";function UE(s,{relative:e}={}){Ae(Er(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=y.useContext(us),{hash:r,pathname:i,search:a}=_i(s,{relative:e}),o=i;return t!=="/"&&(o=i==="/"?t:Es([t,i])),n.createHref({pathname:o,search:a,hash:r})}function Er(){return y.useContext(ol)!=null}function bn(){return Ae(Er(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(ol).location}var bv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yv(s){y.useContext(us).static||y.useLayoutEffect(s)}function Mr(){let{isDataRoute:s}=y.useContext(rs);return s?rM():HE()}function HE(){Ae(Er(),"useNavigate() may be used only in the context of a <Router> component.");let s=y.useContext(Vn),{basename:e,navigator:t}=y.useContext(us),{matches:n}=y.useContext(rs),{pathname:r}=bn(),i=JSON.stringify(rl(n)),a=y.useRef(!1);return yv(()=>{a.current=!0}),y.useCallback((l,c={})=>{if(jt(a.current,bv),!a.current)return;if(typeof l=="number"){t.go(l);return}let u=il(l,JSON.parse(i),r,c.relative==="path");s==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Es([e,u.pathname])),(c.replace?t.replace:t.push)(u,c.state,c)},[e,t,i,r,s])}var WE=y.createContext(null);function qE(s){let e=y.useContext(rs).outlet;return e&&y.createElement(WE.Provider,{value:s},e)}function ds(){let{matches:s}=y.useContext(rs),e=s[s.length-1];return e?e.params:{}}function _i(s,{relative:e}={}){let{matches:t}=y.useContext(rs),{pathname:n}=bn(),r=JSON.stringify(rl(t));return y.useMemo(()=>il(s,JSON.parse(r),n,e==="path"),[s,r,n,e])}function GE(s,e,t,n){Ae(Er(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=y.useContext(us),{matches:i}=y.useContext(rs),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=bn(),u;u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let f=Xs(s,{pathname:h});return ZE(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Es([l,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Es([l,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,t,n)}function KE(){let s=tM(),e=al(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),t?y.createElement("pre",{style:r},t):null,null)}var YE=y.createElement(KE,null),QE=class extends y.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?y.createElement(rs.Provider,{value:this.props.routeContext},y.createElement(fd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JE({routeContext:s,match:e,children:t}){let n=y.useContext(Vn);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(rs.Provider,{value:s},t)}function ZE(s,e=[],t=null,n=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let r=s,i=t==null?void 0:t.errors;if(i!=null){let l=r.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id])!==void 0);Ae(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,l+1))}let a=!1,o=-1;if(t)for(let l=0;l<r.length;l++){let c=r[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:u,errors:d}=t,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||h){a=!0,o>=0?r=r.slice(0,o+1):r=[r[0]];break}}}return r.reduceRight((l,c,u)=>{let d,h=!1,f=null,m=null;t&&(d=i&&c.route.id?i[c.route.id]:void 0,f=c.route.errorElement||YE,a&&(o<0&&u===0?(iM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):o===u&&(h=!0,m=c.route.hydrateFallbackElement||null)));let g=e.concat(r.slice(0,u+1)),v=()=>{let b;return d?b=f:h?b=m:c.route.Component?b=y.createElement(c.route.Component,null):c.route.element?b=c.route.element:b=l,y.createElement(JE,{match:c,routeContext:{outlet:l,matches:g,isDataRoute:t!=null},children:b})};return t&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?y.createElement(QE,{location:t.location,revalidation:t.revalidation,component:f,error:d,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}function pd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wv(s){let e=y.useContext(Vn);return Ae(e,pd(s)),e}function xv(s){let e=y.useContext($i);return Ae(e,pd(s)),e}function XE(s){let e=y.useContext(rs);return Ae(e,pd(s)),e}function md(s){let e=XE(s),t=e.matches[e.matches.length-1];return Ae(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function eM(){return md("useRouteId")}function tM(){var n;let s=y.useContext(fd),e=xv("useRouteError"),t=md("useRouteError");return s!==void 0?s:(n=e.errors)==null?void 0:n[t]}var sM=0;function nM(s){let{router:e,basename:t}=wv("useBlocker"),n=xv("useBlocker"),[r,i]=y.useState(""),a=y.useCallback(o=>{if(typeof s!="function")return!!s;if(t==="/")return s(o);let{currentLocation:l,nextLocation:c,historyAction:u}=o;return s({currentLocation:{...l,pathname:qt(l.pathname,t)||l.pathname},nextLocation:{...c,pathname:qt(c.pathname,t)||c.pathname},historyAction:u})},[t,s]);return y.useEffect(()=>{let o=String(++sM);return i(o),()=>e.deleteBlocker(o)},[e]),y.useEffect(()=>{r!==""&&e.getBlocker(r,a)},[e,r,a]),r&&n.blockers.has(r)?n.blockers.get(r):Xn}function rM(){let{router:s}=wv("useNavigate"),e=md("useNavigate"),t=y.useRef(!1);return yv(()=>{t.current=!0}),y.useCallback(async(r,i={})=>{jt(t.current,bv),t.current&&(typeof r=="number"?s.navigate(r):await s.navigate(r,{fromRouteId:e,...i}))},[s,e])}var Zh={};function iM(s,e,t){Zh[s]||(Zh[s]=!0,jt(!1,t))}var Xh={};function ef(s,e){!s&&!Xh[e]&&(Xh[e]=!0,console.warn(e))}function aM(s){let e={hasErrorBoundary:s.hasErrorBoundary||s.ErrorBoundary!=null||s.errorElement!=null};return s.Component&&Object.assign(e,{element:y.createElement(s.Component),Component:void 0}),s.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:y.createElement(s.HydrateFallback),HydrateFallback:void 0}),s.ErrorBoundary&&Object.assign(e,{errorElement:y.createElement(s.ErrorBoundary),ErrorBoundary:void 0}),e}var oM=class{constructor(){this.status="pending",this.promise=new Promise((s,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",s(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function lM({router:s,flushSync:e}){let[t,n]=y.useState(s.state),[r,i]=y.useState(),[a,o]=y.useState({isTransitioning:!1}),[l,c]=y.useState(),[u,d]=y.useState(),[h,f]=y.useState(),m=y.useRef(new Map),g=y.useCallback((A,{deletedFetchers:E,flushSync:x,viewTransitionOpts:R})=>{E.forEach(z=>m.current.delete(z)),A.fetchers.forEach((z,M)=>{z.data!==void 0&&m.current.set(M,z.data)}),ef(x===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=s.window!=null&&s.window.document!=null&&typeof s.window.document.startViewTransition=="function";if(ef(R==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!O){e&&x?e(()=>n(A)):y.startTransition(()=>n(A));return}if(e&&x){e(()=>{u&&(l&&l.resolve(),u.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let z=s.window.document.startViewTransition(()=>{e(()=>n(A))});z.finished.finally(()=>{e(()=>{c(void 0),d(void 0),i(void 0),o({isTransitioning:!1})})}),e(()=>d(z));return}u?(l&&l.resolve(),u.skipTransition(),f({state:A,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(i(A),o({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[s.window,e,u,l]);y.useLayoutEffect(()=>s.subscribe(g),[s,g]),y.useEffect(()=>{a.isTransitioning&&!a.flushSync&&c(new oM)},[a]),y.useEffect(()=>{if(l&&r&&s.window){let A=r,E=l.promise,x=s.window.document.startViewTransition(async()=>{y.startTransition(()=>n(A)),await E});x.finished.finally(()=>{c(void 0),d(void 0),i(void 0),o({isTransitioning:!1})}),d(x)}},[r,l,s.window]),y.useEffect(()=>{l&&r&&t.location.key===r.location.key&&l.resolve()},[l,u,t.location,r]),y.useEffect(()=>{!a.isTransitioning&&h&&(i(h.state),o({isTransitioning:!0,flushSync:!1,currentLocation:h.currentLocation,nextLocation:h.nextLocation}),f(void 0))},[a.isTransitioning,h]);let v=y.useMemo(()=>({createHref:s.createHref,encodeLocation:s.encodeLocation,go:A=>s.navigate(A),push:(A,E,x)=>s.navigate(A,{state:E,preventScrollReset:x==null?void 0:x.preventScrollReset}),replace:(A,E,x)=>s.navigate(A,{replace:!0,state:E,preventScrollReset:x==null?void 0:x.preventScrollReset})}),[s]),b=s.basename||"/",C=y.useMemo(()=>({router:s,navigator:v,static:!1,basename:b}),[s,v,b]);return y.createElement(y.Fragment,null,y.createElement(Vn.Provider,{value:C},y.createElement($i.Provider,{value:t},y.createElement(vv.Provider,{value:m.current},y.createElement(hd.Provider,{value:a},y.createElement(dM,{basename:b,location:t.location,navigationType:t.historyAction,navigator:v},y.createElement(cM,{routes:s.routes,future:s.future,state:t})))))),null)}var cM=y.memo(uM);function uM({routes:s,future:e,state:t}){return GE(s,void 0,t,e)}function Sv({to:s,replace:e,state:t,relative:n}){Ae(Er(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=y.useContext(us);jt(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=y.useContext(rs),{pathname:a}=bn(),o=Mr(),l=il(s,rl(i),a,n==="path"),c=JSON.stringify(l);return y.useEffect(()=>{o(JSON.parse(c),{replace:e,state:t,relative:n})},[o,c,n,e,t]),null}function kv(s){return qE(s.context)}function dM({basename:s="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:i=!1}){Ae(!Er(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=s.replace(/^\/*/,"/"),o=y.useMemo(()=>({basename:a,navigator:r,static:i,future:{}}),[a,r,i]);typeof t=="string"&&(t=Us(t));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=t,f=y.useMemo(()=>{let m=qt(l,a);return m==null?null:{location:{pathname:m,search:c,hash:u,state:d,key:h},navigationType:n}},[a,l,c,u,d,h,n]);return jt(f!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:y.createElement(us.Provider,{value:o},y.createElement(ol.Provider,{children:e,value:f}))}var Ha="get",Wa="application/x-www-form-urlencoded";function ll(s){return s!=null&&typeof s.tagName=="string"}function hM(s){return ll(s)&&s.tagName.toLowerCase()==="button"}function fM(s){return ll(s)&&s.tagName.toLowerCase()==="form"}function pM(s){return ll(s)&&s.tagName.toLowerCase()==="input"}function mM(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function gM(s,e){return s.button===0&&(!e||e==="_self")&&!mM(s)}var da=null;function vM(){if(da===null)try{new FormData(document.createElement("form"),0),da=!1}catch{da=!0}return da}var bM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gl(s){return s!=null&&!bM.has(s)?(jt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wa}"`),null):s}function yM(s,e){let t,n,r,i,a;if(fM(s)){let o=s.getAttribute("action");n=o?qt(o,e):null,t=s.getAttribute("method")||Ha,r=Gl(s.getAttribute("enctype"))||Wa,i=new FormData(s)}else if(hM(s)||pM(s)&&(s.type==="submit"||s.type==="image")){let o=s.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=s.getAttribute("formaction")||o.getAttribute("action");if(n=l?qt(l,e):null,t=s.getAttribute("formmethod")||o.getAttribute("method")||Ha,r=Gl(s.getAttribute("formenctype"))||Gl(o.getAttribute("enctype"))||Wa,i=new FormData(o,s),!vM()){let{name:c,type:u,value:d}=s;if(u==="image"){let h=c?`${c}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else c&&i.append(c,d)}}else{if(ll(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ha,n=null,r=Wa,a=s}return i&&r==="text/plain"&&(a=i,i=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:i,body:a}}function gd(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function wM(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xM(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function SM(s,e,t){let n=await Promise.all(s.map(async r=>{let i=e.routes[r.route.id];if(i){let a=await wM(i,t);return a.links?a.links():[]}return[]}));return AM(n.flat(1).filter(xM).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function tf(s,e,t,n,r,i){let a=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,o=(l,c)=>{var u;return t[c].pathname!==l.pathname||((u=t[c].route.path)==null?void 0:u.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):i==="data"?e.filter((l,c)=>{var d;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((d=t[0])==null?void 0:d.params)||{},nextUrl:new URL(s,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function kM(s,e){return CM(s.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r}).flat(1))}function CM(s){return[...new Set(s)]}function PM(s){let e={},t=Object.keys(s).sort();for(let n of t)e[n]=s[n];return e}function AM(s,e){let t=new Set;return new Set(e),s.reduce((n,r)=>{let i=JSON.stringify(PM(r));return t.has(i)||(t.add(i),n.push({key:i,link:r})),n},[])}function TM(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function EM(){let s=y.useContext(Vn);return gd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function MM(){let s=y.useContext($i);return gd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var vd=y.createContext(void 0);vd.displayName="FrameworkContext";function Cv(){let s=y.useContext(vd);return gd(s,"You must render this element inside a <HydratedRouter> element"),s}function NM(s,e){let t=y.useContext(vd),[n,r]=y.useState(!1),[i,a]=y.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,h=y.useRef(null);y.useEffect(()=>{if(s==="render"&&a(!0),s==="viewport"){let g=b=>{b.forEach(C=>{a(C.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[s]),y.useEffect(()=>{if(n){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[n]);let f=()=>{r(!0)},m=()=>{r(!1),a(!1)};return t?s!=="intent"?[i,h,{}]:[i,h,{onFocus:_r(o,f),onBlur:_r(l,m),onMouseEnter:_r(c,f),onMouseLeave:_r(u,m),onTouchStart:_r(d,f)}]:[!1,h,{}]}function _r(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function RM({page:s,...e}){let{router:t}=EM(),n=y.useMemo(()=>Xs(t.routes,s,t.basename),[t.routes,s,t.basename]);return n?y.createElement(OM,{page:s,matches:n,...e}):(console.warn(`Tried to prefetch ${s} but no routes matched.`),null)}function DM(s){let{manifest:e,routeModules:t}=Cv(),[n,r]=y.useState([]);return y.useEffect(()=>{let i=!1;return SM(s,e,t).then(a=>{i||r(a)}),()=>{i=!0}},[s,e,t]),n}function OM({page:s,matches:e,...t}){let n=bn(),{manifest:r,routeModules:i}=Cv(),{loaderData:a,matches:o}=MM(),l=y.useMemo(()=>tf(s,e,o,r,n,"data"),[s,e,o,r,n]),c=y.useMemo(()=>tf(s,e,o,r,n,"assets"),[s,e,o,r,n]),u=y.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let f=new Set,m=!1;if(e.forEach(v=>{var C;let b=r.routes[v.route.id];!b||!b.hasLoader||(!l.some(A=>A.route.id===v.route.id)&&v.route.id in a&&((C=i[v.route.id])!=null&&C.shouldRevalidate)||b.hasClientLoader?m=!0:f.add(v.route.id))}),f.size===0)return[];let g=TM(s);return m&&f.size>0&&g.searchParams.set("_routes",e.filter(v=>f.has(v.route.id)).map(v=>v.route.id).join(",")),[g.pathname+g.search]},[a,n,r,l,e,s,i]),d=y.useMemo(()=>kM(c,r),[c,r]),h=DM(c);return y.createElement(y.Fragment,null,u.map(f=>y.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...t})),d.map(f=>y.createElement("link",{key:f,rel:"modulepreload",href:f,...t})),h.map(({key:f,link:m})=>y.createElement("link",{key:f,...m})))}function zM(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Pv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pv&&(window.__reactRouterVersion="7.0.1")}catch{}function LM(s,e){return kE({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:G2({window:e==null?void 0:e.window}),hydrationData:BM(),routes:s,mapRouteProperties:aM,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function BM(){let s=window==null?void 0:window.__staticRouterHydrationData;return s&&s.errors&&(s={...s,errors:jM(s.errors)}),s}function jM(s){if(!s)return null;let e=Object.entries(s),t={};for(let[n,r]of e)if(r&&r.__type==="RouteErrorResponse")t[n]=new uo(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let i=window[r.__subType];if(typeof i=="function")try{let a=new i(r.message);a.stack="",t[n]=a}catch{}}if(t[n]==null){let i=new Error(r.message);i.stack="",t[n]=i}}else t[n]=r;return t}var Av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cl=y.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},f){let{basename:m}=y.useContext(us),g=typeof c=="string"&&Av.test(c),v,b=!1;if(typeof c=="string"&&g&&(v=c,Pv))try{let M=new URL(window.location.href),$=c.startsWith("//")?new URL(M.protocol+c):new URL(c),W=qt($.pathname,m);$.origin===M.origin&&W!=null?c=W+$.search+$.hash:b=!0}catch{jt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=UE(c,{relative:r}),[A,E,x]=NM(n,h),R=FM(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:r,viewTransition:d});function O(M){e&&e(M),M.defaultPrevented||R(M)}let z=y.createElement("a",{...h,...x,href:v||C,onClick:b||i?e:O,ref:zM(f,E),target:l,"data-discover":!g&&t==="render"?"true":void 0});return A&&!g?y.createElement(y.Fragment,null,z,y.createElement(RM,{page:C})):z});cl.displayName="Link";var IM=y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:i,to:a,viewTransition:o,children:l,...c},u){let d=_i(a,{relative:c.relative}),h=bn(),f=y.useContext($i),{navigator:m,basename:g}=y.useContext(us),v=f!=null&&qM(d)&&o===!0,b=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,C=h.pathname,A=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(C=C.toLowerCase(),A=A?A.toLowerCase():null,b=b.toLowerCase()),A&&g&&(A=qt(A,g)||A);const E=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let x=C===b||!r&&C.startsWith(b)&&C.charAt(E)==="/",R=A!=null&&(A===b||!r&&A.startsWith(b)&&A.charAt(b.length)==="/"),O={isActive:x,isPending:R,isTransitioning:v},z=x?e:void 0,M;typeof n=="function"?M=n(O):M=[n,x?"active":null,R?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(O):i;return y.createElement(cl,{...c,"aria-current":z,className:M,ref:u,style:$,to:a,viewTransition:o},typeof l=="function"?l(O):l)});IM.displayName="NavLink";var $M=y.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:i,method:a=Ha,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},f)=>{let m=HM(),g=WM(o,{relative:c}),v=a.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&Av.test(o),C=A=>{if(l&&l(A),A.defaultPrevented)return;A.preventDefault();let E=A.nativeEvent.submitter,x=(E==null?void 0:E.getAttribute("formmethod"))||a;m(E||A.currentTarget,{fetcherKey:e,method:x,navigate:t,replace:r,state:i,relative:c,preventScrollReset:u,viewTransition:d})};return y.createElement("form",{ref:f,method:v,action:g,onSubmit:n?l:C,...h,"data-discover":!b&&s==="render"?"true":void 0})});$M.displayName="Form";function _M(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tv(s){let e=y.useContext(Vn);return Ae(e,_M(s)),e}function FM(s,{target:e,replace:t,state:n,preventScrollReset:r,relative:i,viewTransition:a}={}){let o=Mr(),l=bn(),c=_i(s,{relative:i});return y.useCallback(u=>{if(gM(u,e)){u.preventDefault();let d=t!==void 0?t:dn(l)===dn(c);o(s,{replace:d,state:n,preventScrollReset:r,relative:i,viewTransition:a})}},[l,o,c,t,n,e,s,r,i,a])}var VM=0,UM=()=>`__${String(++VM)}__`;function HM(){let{router:s}=Tv("useSubmit"),{basename:e}=y.useContext(us),t=eM();return y.useCallback(async(n,r={})=>{let{action:i,method:a,encType:o,formData:l,body:c}=yM(n,e);if(r.navigate===!1){let u=r.fetcherKey||UM();await s.fetch(u,t,r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||a,formEncType:r.encType||o,flushSync:r.flushSync})}else await s.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||a,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[s,e,t])}function WM(s,{relative:e}={}){let{basename:t}=y.useContext(us),n=y.useContext(rs);Ae(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),i={..._i(s||".",{relative:e})},a=bn();if(s==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let u=o.toString();i.search=u?`?${u}`:""}}return(!s||s===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Es([t,i.pathname])),dn(i)}function qM(s,e={}){let t=y.useContext(hd);Ae(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Tv("useViewTransitionState"),r=_i(s,{relative:e.relative});if(!t.isTransitioning)return!1;let i=qt(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=qt(t.nextLocation.pathname,n)||t.nextLocation.pathname;return co(r.pathname,a)!=null||co(r.pathname,i)!=null}new TextEncoder;/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function GM(s){return y.createElement(lM,{flushSync:Ow.flushSync,...s})}function KM({children:s}){return k.jsxs(k.Fragment,{children:[k.jsx(zw,{}),k.jsx(Og,{theme:!0,spacers:!0,colors:!0}),s]})}const YM="_page_1cp80_2",QM="_firstPage_1cp80_11",JM="_firstPageContainer_1cp80_17",ZM="_secondPage_1cp80_26",XM="_secondPageContainer_1cp80_32",eN="_keysPanel_1cp80_42",tN="_editorPanel_1cp80_49",sN="_pageHeader_1cp80_58",nN="_panelHeader_1cp80_70",rN="_keysPanelHeaderLabel_1cp80_80",iN="_dataStoreLink_1cp80_88",aN="_labelDivider_1cp80_99",oN="_namespaceLabel_1cp80_103",lN="_keysPanelMidSection_1cp80_108",cN="_namespaceDataContainer_1cp80_114",uN="_midSection_1cp80_122",dN="_search_1cp80_128",hN="_createNamespace_1cp80_132",fN="_createButton_1cp80_137",pN="_columnHeader_1cp80_143",mN="_actionButtons_1cp80_148",gN="_emptyEditorPanelHeader_1cp80_169",vN="_editorBackground_1cp80_175",bN="_editorPanelKeysLabel_1cp80_181",yN="_editorPanelEditButtons_1cp80_187",wN="_tabsContainer_1cp80_198",xN="_tabs_1cp80_198",SN="_helperIcon_1cp80_211",kN="_errorNotice_1cp80_216",CN="_errorComponent_1cp80_223",PN="_centeredLoader_1cp80_228",AN="_namespaceModalFields_1cp80_234",Te={page:YM,firstPage:QM,firstPageContainer:JM,secondPage:ZM,secondPageContainer:XM,keysPanel:eN,editorPanel:tN,pageHeader:sN,panelHeader:nN,keysPanelHeaderLabel:rN,dataStoreLink:iN,labelDivider:aN,namespaceLabel:oN,keysPanelMidSection:lN,namespaceDataContainer:cN,midSection:uN,search:dN,createNamespace:hN,createButton:fN,columnHeader:pN,actionButtons:mN,emptyEditorPanelHeader:gN,editorBackground:vN,editorPanelKeysLabel:bN,editorPanelEditButtons:yN,tabsContainer:wN,tabs:xN,helperIcon:SN,errorNotice:kN,errorComponent:CN,centeredLoader:PN,namespaceModalFields:AN},TN="Code",EN="Tree",MN="Key",NN="Namespace",RN="Search",DN="Close",ON="Save",zN="Cancel",LN="Add",BN="Delete",jN="Discard",IN="Namespaces",$N="DataStore",_N="UserDataStore",FN="Actions",VN="Share",UN={Code:TN,Tree:EN,"The Code editor is a free-form JSON editor.":"The Code editor is a free-form JSON editor.","The Tree editor shows expandable nodes of the JSON object.":"The Tree editor shows expandable nodes of the JSON object.","Invalid JSON detected. Fix the value in the Code Editor":"Invalid JSON detected. Fix the value in the Code Editor","An error has occurred":"An error has occurred","404 Page Not Found":"404 Page Not Found","Back to datastore":"Back to datastore","An error has occurred. Try again":"An error has occurred. Try again",Key:MN,Namespace:NN,Search:RN,"Special characters are not allowed in this field":"Special characters are not allowed in this field","Alphanumeric characters only":"Alphanumeric characters only",Close:DN,Save:ON,"Save changes":"Save changes","New Key":"New Key",Cancel:zN,Add:LN,Delete:BN,Discard:jN,"Do you want to discard the unsaved changes?":"Do you want to discard the unsaved changes?",Namespaces:IN,"Choose a key to start editing":"Choose a key to start editing",DataStore:$N,UserDataStore:_N,"Key '{{key}}' updated successfully":"Key '{{key}}' updated successfully","There was a problem updating the key - {{error}}":"There was a problem updating the key - {{error}}","There was a problem - {{error}}":"There was a problem - {{error}}","There was a problem fetching this key's value. {{error}}":"There was a problem fetching this key's value. {{error}}","There was a problem adding this key - {{error}}":"There was a problem adding this key - {{error}}","Key '{{selectedKey}}' deleted successfully":"Key '{{selectedKey}}' deleted successfully","There was a problem deleting this key - {{error}}":"There was a problem deleting this key - {{error}}","There was a problem fetching the keys in this namespace.":"There was a problem fetching the keys in this namespace.","Search keys":"Search keys","Add New Key":"Add New Key","Delete Key":"Delete Key","This key has unsaved changes.":"This key has unsaved changes.","There was a problem adding this namespace - {{error}}":"There was a problem adding this namespace - {{error}}","Namespace '{{namespace}}' deleted successfully":"Namespace '{{namespace}}' deleted successfully","There was a problem deleting this namespace - {{error}}":"There was a problem deleting this namespace - {{error}}","Search namespaces":"Search namespaces","New namespace":"New namespace","Add New Namespace":"Add New Namespace","Delete Namespace":"Delete Namespace","This will delete all the keys in this namespace":"This will delete all the keys in this namespace",Actions:FN,"No items found":"No items found","There was a problem fetching this key's ID":"There was a problem fetching this key's ID",Share:VN},HN="default";P.addResources("en",HN,UN);const WN=()=>k.jsx("div",{className:Te.errorComponent,children:k.jsx(jm,{children:k.jsxs(Ii,{warning:!0,title:P.t("An error has occurred"),children:[k.jsx("p",{children:P.t("404 Page Not Found")}),k.jsx(cl,{to:"/dataStore",children:P.t("Back to datastore")})]})})}),Ev=y.createContext({hasUnsavedChanges:!1,setHasUnsavedChanges:()=>{}}),qN=({children:s})=>{const[e,t]=y.useState(!1),n=y.useMemo(()=>({hasUnsavedChanges:e,setHasUnsavedChanges:t}),[e]);return k.jsx(Ev.Provider,{value:n,children:s})},Mv=()=>y.useContext(Ev),Ns="dataStore",On="userDataStore",Nv=[Ns,On],ha="code",Kl="tree",GN="key",ul=()=>{const{show:s}=Bm(({message:e})=>e,({isError:e})=>e?{critical:!0}:{success:!0,duration:3e3});return{showSuccess:e=>s({message:e}),showError:e=>s({message:e,isError:!0})}},Rv=(s=[])=>{const[e,t]=y.useState(null),[n,r]=y.useState(null);return y.useEffect(()=>{if(s.length)if(e){const i=s.filter(a=>a.toLowerCase().includes(e.toLowerCase()));r(i)}else r(s)},[e,s]),{searchTerm:e,setSearchTerm:t,filteredData:n}},dl=({error:s,message:e})=>(console.error(s),k.jsx("div",{className:Te.errorNotice,children:k.jsx(Ii,{warning:!0,children:k.jsx("p",{children:e||P.t("An error has occurred. Try again")})})})),{Field:KN}=pg,YN=/^\w+$/,QN=P.t("Special characters are not allowed in this field"),Dv=({initialFocus:s,name:e,label:t,required:n})=>k.jsx(KN,{name:e,component:gg,required:n,label:t,validate:fk(yk,vk(YN,QN),mk(255)),initialFocus:s,helpText:P.t("Alphanumeric characters only")}),Ov=({initialFocus:s})=>k.jsx(Dv,{name:"key",label:P.t("Key"),initialFocus:s,required:!0}),zv=({placeholder:s,searchTerm:e,setSearchTerm:t})=>k.jsx("div",{className:Te.search,children:k.jsx(Zu,{dense:!0,name:"search",placeholder:s||P.t("Search"),value:e,onChange:n=>t(n.value),clearable:!0})});function bd({children:s}){return k.jsx("div",{className:Te.panelHeader,children:s})}const Lv=({label:s,handleClick:e,icon:t,className:n})=>k.jsx("div",{className:n,children:k.jsx(Bt,{small:!0,"aria-label":s,icon:t,name:"create",onClick:e,title:s,className:Te.createButton,children:s})}),JN=({setOpenCreateModal:s,showButton:e})=>{const{namespace:t,store:n}=ds();return k.jsxs(bd,{children:[k.jsxs("div",{className:Te.keysPanelHeaderLabel,children:[k.jsx(cl,{to:`/${n}`,className:Te.dataStoreLink,children:k.jsxs("span",{children:[n===Ns&&"DataStore",n===On&&"UserDataStore"]})}),k.jsx("span",{className:Te.labelDivider,children:"/"}),k.jsx("span",{className:Te.namespaceLabel,children:t})]}),e?k.jsx(Lv,{label:P.t("New Key"),handleClick:()=>s(!0),icon:k.jsx(Im,{color:S.grey600})}):null]})},Bv=()=>k.jsx("div",{className:Te.centeredLoader,children:k.jsx(Uo,{})}),{Form:ZN}=pg,jv=({handleCreate:s,closeModal:e,children:t,title:n})=>{const r=i=>{s(i)};return k.jsx(Ho,{position:"middle",children:k.jsx(ZN,{onSubmit:r,children:({handleSubmit:i})=>k.jsxs("form",{onSubmit:i,children:[k.jsx(Wo,{children:n}),k.jsx(qo,{children:t}),k.jsx(Go,{children:k.jsxs(Ko,{end:!0,children:[k.jsx(Bt,{secondary:!0,onClick:e,children:P.t("Cancel")}),k.jsx(Bt,{primary:!0,type:"submit",children:P.t("Add")})]})})]})})})},Iv=({children:s,handleDelete:e,closeModal:t,title:n})=>k.jsxs(Ho,{position:"middle",children:[k.jsx(Wo,{children:n}),k.jsx(qo,{children:s}),k.jsx(Go,{children:k.jsxs(Ko,{end:!0,children:[k.jsx(Bt,{secondary:!0,onClick:t,children:P.t("Cancel")}),k.jsx(Bt,{destructive:!0,onClick:()=>e(),children:P.t("Delete")})]})})]}),XN=({handleDiscard:s,closeModal:e})=>k.jsxs(Ho,{position:"middle",children:[k.jsx(Wo,{children:P.t("Discard")}),k.jsx(qo,{children:P.t("Do you want to discard the unsaved changes?")}),k.jsx(Go,{children:k.jsxs(Ko,{end:!0,children:[k.jsx(Bt,{secondary:!0,onClick:e,children:P.t("Cancel")}),k.jsx(Bt,{destructive:!0,onClick:()=>s(),children:P.t("Discard")})]})})]});function eR({handleDeleteBtnClick:s}){return k.jsx(Bt,{"aria-label":P.t("Delete"),icon:k.jsx(Wm,{}),name:"delete",onClick:s,title:P.t("Delete")})}const tR={metadata:{resource:"dataStore",id:({id:s})=>s}};function sR({dataStoreKey:s}){const{namespace:e}=ds(),[t,n]=y.useState(!1),[r,i]=y.useState(null),{showError:a}=ul(),{loading:o,refetch:l}=vn(tR,{variables:{id:`${e}/${s}/metaData`},lazy:!0,onComplete(c){var u;(u=c==null?void 0:c.metadata)!=null&&u.id&&(i(c.metadata.id),n(!0))},onError(){a(P.t("There was a problem fetching this key's ID"))}});return o?k.jsx(Uo,{extrasmall:!0}):k.jsxs(k.Fragment,{children:[k.jsx(Bt,{"aria-label":P.t("Share"),icon:k.jsx(Ym,{}),name:"share",onClick:()=>{r?n(!0):l()},title:P.t("Share")}),t&&k.jsx(tv,{type:Ns,id:r,onClose:()=>n(!1)})]})}const $v=({activeRow:s,tableData:e,label:t,handleDeleteAction:n,handleRowClick:r})=>{const{store:i,namespace:a}=ds(),o=!!(i===Ns&&a);return k.jsx(k.Fragment,{children:e&&k.jsxs(ld,{scrollHeight:"75vh",children:[k.jsx(nv,{children:k.jsxs(oi,{children:[k.jsx(oo,{fixed:!0,top:"0",width:a?"85%":"90%",children:k.jsx("span",{className:Te.columnHeader,children:t})}),k.jsx(oo,{fixed:!0,top:"0",width:a?"15%":"10%",children:k.jsx("span",{className:Te.columnHeader,children:P.t("Actions")})})]})}),k.jsx(sv,{children:e!=null&&e.length?k.jsx(k.Fragment,{children:e.map((l,c)=>k.jsxs(oi,{selected:l===s,children:[k.jsx(ii,{bordered:!0,large:!a,width:a?"85%":"90%",onClick:()=>{r(l)},children:l}),k.jsx(ii,{bordered:!0,width:a?"15%":"10%",children:k.jsxs("div",{className:Te.actionButtons,children:[o&&k.jsx(sR,{dataStoreKey:l}),k.jsx(eR,{handleDeleteBtnClick:()=>n(l)})]})})]},`${l}-${c}`))}):k.jsx(oi,{children:k.jsx(ii,{bordered:!0,children:P.t("No items found")})})})]})})},sf=({query:s})=>{var re;const e=ji(),t=Mr(),{store:n,namespace:r,key:i}=ds(),[a,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(null),[h,f]=y.useState(null),{showError:m,showSuccess:g}=ul(),{hasUnsavedChanges:v,setHasUnsavedChanges:b}=Mv(),{error:C,loading:A,data:E,refetch:x}=vn(s,{variables:{id:r}}),{searchTerm:R,setSearchTerm:O,filteredData:z}=Rv(E==null?void 0:E.results),M=nM(({currentLocation:de,nextLocation:ge})=>v&&de.pathname!==ge.pathname),$=de=>{t(`${de}`),i===de&&f(de)},W=de=>{c(!0),d(de)},V=(re=E==null?void 0:E.results)==null?void 0:re.length,Z=h===u&&v,q=async({key:de})=>{await e.mutate({type:"create",resource:`${n}/${r}/${de}`,data:()=>({})},{onComplete(){o(!1),x({id:r})},onError(ge){m(P.t("There was a problem adding this key - {{error}}",{error:ge.message,interpolation:{escapeValue:!1}}))}})},Q=async()=>{const de=V>1,ge=de?`${n}/${r}`:`${n}`,G=de?u:r,ue=()=>{h===u&&b(null),c(!1),g(P.t("Key '{{selectedKey}}' deleted successfully",{selectedKey:u}));const N=de?`/${n}/edit/${r}`:`/${n}`;setTimeout(()=>{t(N)},50),de&&x({id:r})},ne=N=>{c(!1),m(P.t("There was a problem deleting this key - {{error}}",{error:N.message,interpolation:{escapeValue:!1}}))};await e.mutate({type:"delete",resource:ge,id:G},{onComplete:ue,onError:ne})};return y.useEffect(()=>()=>{M.state=="blocked"&&M.reset()},[M]),y.useEffect(()=>{x({id:r})},[r,x]),y.useEffect(()=>{f(i)},[i]),A?k.jsx(Bv,{}):k.jsxs(k.Fragment,{children:[k.jsx(JN,{showButton:!C,setOpenCreateModal:o}),k.jsx("div",{children:C?k.jsx(dl,{message:P.t("There was a problem fetching the keys in this namespace.")}):k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Te.keysPanelMidSection,children:k.jsx(zv,{searchTerm:R,setSearchTerm:O,placeholder:P.t("Search keys")})}),k.jsx("div",{children:z&&k.jsx($v,{activeRow:h,tableData:z,label:P.t("Key"),handleDeleteAction:W,handleRowClick:$})}),a&&k.jsx(jv,{title:P.t("Add New Key"),closeModal:()=>o(!1),handleCreate:q,children:k.jsx(Ov,{initialFocus:!0})}),l&&k.jsxs(Iv,{closeModal:()=>{c(!1)},handleDelete:Q,title:P.t("Delete Key"),children:[k.jsxs("p",{children:[Z&&k.jsx("span",{children:P.t("This key has unsaved changes.")})," ",k.jsx("span",{children:P.t(`Are you sure you want to delete '${u}' in ${r}?`)})]}),V<2&&k.jsx("p",{children:P.t(`This will also delete the namespace '${r}'`)})]}),M.state==="blocked"&&v&&k.jsx(XN,{handleDiscard:()=>{b(null),M.proceed()},closeModal:()=>M.reset()})]})})]})},nR={results:{resource:"userDataStore",id:({id:s})=>s}},rR={results:{resource:"dataStore",id:({id:s})=>s}},iR=()=>{const{store:s}=ds();return k.jsxs(k.Fragment,{children:[s===Ns&&k.jsx(sf,{query:rR}),s===On&&k.jsx(sf,{query:nR})]})},aR=()=>k.jsx(qN,{children:k.jsx("div",{className:Te.secondPage,children:k.jsxs("div",{className:Te.secondPageContainer,children:[k.jsx("div",{className:Te.keysPanel,children:k.jsx(iR,{})}),k.jsx("div",{className:Te.editorPanel,children:k.jsx(kv,{})})]})})});function oR({children:s}){return k.jsx("div",{className:Te.pageHeader,children:s})}function lR({activeTab:s,switchTab:e}){return k.jsxs(Xo,{children:[k.jsx(un,{onClick:()=>{e(Ns)},selected:s===Ns,children:P.t("DataStore")}),k.jsxs(un,{onClick:()=>{e(On)},selected:s===On,children:[" ",P.t("UserDataStore")]})]})}const cR=({initialFocus:s})=>k.jsx(Dv,{name:"namespace",label:P.t("Namespace"),initialFocus:s,required:!0}),nf=({query:s})=>{const e=ji(),t=Mr(),{store:n}=ds(),{showError:r,showSuccess:i}=ul(),[a,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(null),[h,f]=y.useState(null),{error:m,loading:g,data:v,refetch:b}=vn(s),{searchTerm:C,setSearchTerm:A,filteredData:E}=Rv(v==null?void 0:v.results),x=M=>{d(M),t(`edit/${M}`)},R=M=>{c(!0),f(M)},O=async M=>{await e.mutate({type:"create",resource:`${n}/${M==null?void 0:M.namespace}/${M==null?void 0:M.key}`,data:()=>({})},{onComplete(){b(),t(`edit/${M==null?void 0:M.namespace}`),o(!1)},onError($){r(P.t("There was a problem adding this namespace - {{error}}",{error:$.message,interpolation:{escapeValue:!1}}))}})},z=async()=>{await e.mutate({type:"delete",resource:`${n}`,id:h},{onComplete:()=>{c(!1),b(),i(P.t("Namespace '{{namespace}}' deleted successfully",{namespace:h}))},onError(M){r(P.t("There was a problem deleting this namespace - {{error}}",{error:M.message,interpolation:{escapeValue:!1}}))}})};return m?k.jsx(dl,{}):g?k.jsx(Bv,{}):k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:Te.midSection,children:[k.jsx(zv,{placeholder:P.t("Search namespaces"),searchTerm:C,setSearchTerm:A}),k.jsx(Lv,{label:P.t("New namespace"),handleClick:()=>o(!0),icon:k.jsx($m,{color:S.grey600}),className:Te.createNamespace})]}),k.jsx("div",{children:E&&k.jsx($v,{activeRow:u,tableData:E,label:P.t("Namespace"),handleDeleteAction:R,handleRowClick:x})}),a&&k.jsx(jv,{title:P.t("Add New Namespace"),closeModal:()=>o(!1),handleCreate:O,children:k.jsxs("div",{className:Te.namespaceModalFields,children:[k.jsx(cR,{initialFocus:!0}),k.jsx(Ov,{})]})}),l&&k.jsxs(Iv,{closeModal:()=>c(!1),handleDelete:z,title:P.t("Delete Namespace"),children:[k.jsx("p",{children:P.t(`Are you sure you want to delete '${h}'?`)}),k.jsx("p",{children:P.t("This will delete all the keys in this namespace")})]})]})},uR={results:{resource:"userDataStore"}},dR={results:{resource:"dataStore"}},hR=()=>{const s=Mr(),{store:e}=ds(),[t,n]=y.useState(e||Ns),r=i=>{n(i),s(`/${i}`)};return y.useEffect(()=>{Nv.includes(e)&&n(e)},[e]),k.jsxs("div",{className:Te.firstPage,children:[k.jsx(oR,{children:k.jsx("span",{className:Te.firstPageHeader,children:P.t("Namespaces")})}),k.jsxs("div",{className:Te.firstPageContainer,children:[k.jsx(lR,{activeTab:t,switchTab:r}),k.jsxs("div",{className:Te.namespaceDataContainer,children:[e===Ns&&k.jsx(nf,{query:dR}),e===On&&k.jsx(nf,{query:uR})]})]})]})},_v=1024;let fR=0,Yl=class{constructor(e,t){this.from=e,this.to=t}};class Pe{constructor(e={}){this.id=fR++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=It.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}Pe.closedBy=new Pe({deserialize:s=>s.split(" ")});Pe.openedBy=new Pe({deserialize:s=>s.split(" ")});Pe.group=new Pe({deserialize:s=>s.split(" ")});Pe.isolate=new Pe({deserialize:s=>{if(s&&s!="rtl"&&s!="ltr"&&s!="auto")throw new RangeError("Invalid value for isolate: "+s);return s||"auto"}});Pe.contextHash=new Pe({perNode:!0});Pe.lookAhead=new Pe({perNode:!0});Pe.mounted=new Pe({perNode:!0});class ho{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[Pe.mounted.id]}}const pR=Object.create(null);class It{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):pR,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new It(e.name||"",t,e.id,n);if(e.props){for(let i of e.props)if(Array.isArray(i)||(i=i(r)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[i[0].id]=i[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Pe.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return n=>{for(let r=n.prop(Pe.group),i=-1;i<(r?r.length:0);i++){let a=t[i<0?n.name:r[i]];if(a)return a}}}}It.none=new It("",Object.create(null),0,8);class yd{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let r=null;for(let i of e){let a=i(n);a&&(r||(r=Object.assign({},n.props)),r[a[0].id]=a[1])}t.push(r?new It(n.name,r,n.id,n.flags):n)}return new yd(t)}}const fa=new WeakMap,rf=new WeakMap;var ut;(function(s){s[s.ExcludeBuffers=1]="ExcludeBuffers",s[s.IncludeAnonymous=2]="IncludeAnonymous",s[s.IgnoreMounts=4]="IgnoreMounts",s[s.IgnoreOverlays=8]="IgnoreOverlays"})(ut||(ut={}));class nt{constructor(e,t,n,r,i){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[a,o]of i)this.props[typeof a=="number"?a:a.id]=o}}toString(){let e=ho.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let r=n.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Gc(this.topNode,e)}cursorAt(e,t=0,n=0){let r=fa.get(this)||this.topNode,i=new Gc(r);return i.moveTo(e,t),fa.set(this,i._tree),i}get topNode(){return new ts(this,0,0,null)}resolve(e,t=0){let n=vi(fa.get(this)||this.topNode,e,t,!1);return fa.set(this,n),n}resolveInner(e,t=0){let n=vi(rf.get(this)||this.topNode,e,t,!0);return rf.set(this,n),n}resolveStack(e,t=0){return vR(this,e,t)}iterate(e){let{enter:t,leave:n,from:r=0,to:i=this.length}=e,a=e.mode||0,o=(a&ut.IncludeAnonymous)>0;for(let l=this.cursor(a|ut.IncludeAnonymous);;){let c=!1;if(l.from<=i&&l.to>=r&&(!o&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&n&&(o||!l.type.isAnonymous)&&n(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Sd(It.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,r)=>new nt(this.type,t,n,r,this.propValues),e.makeTree||((t,n,r)=>new nt(It.none,t,n,r)))}static build(e){return bR(e)}}nt.empty=new nt(It.none,[],[],0);class wd{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new wd(this.buffer,this.index)}}class hn{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return It.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),e+=4,n==e)return i;let a=[];for(;e<n;)a.push(this.childString(e)),e=this.buffer[e+3];return i+"("+a.join(",")+")"}findChild(e,t,n,r,i){let{buffer:a}=this,o=-1;for(let l=e;l!=t&&!(Fv(i,r,a[l+1],a[l+2])&&(o=l,n>0));l=a[l+3]);return o}slice(e,t,n){let r=this.buffer,i=new Uint16Array(t-e),a=0;for(let o=e,l=0;o<t;){i[l++]=r[o++],i[l++]=r[o++]-n;let c=i[l++]=r[o++]-n;i[l++]=r[o++]-e,a=Math.max(a,c)}return new hn(i,a,this.set)}}function Fv(s,e,t,n){switch(s){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function vi(s,e,t,n){for(var r;s.from==s.to||(t<1?s.from>=e:s.from>e)||(t>-1?s.to<=e:s.to<e);){let a=!n&&s instanceof ts&&s.index<0?null:s.parent;if(!a)return s;s=a}let i=n?0:ut.IgnoreOverlays;if(n)for(let a=s,o=a.parent;o;a=o,o=a.parent)a instanceof ts&&a.index<0&&((r=o.enter(e,t,i))===null||r===void 0?void 0:r.from)!=a.from&&(s=o);for(;;){let a=s.enter(e,t,i);if(!a)return s;s=a}}class Vv{cursor(e=0){return new Gc(this,e)}getChild(e,t=null,n=null){let r=af(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return af(this,e,t,n)}resolve(e,t=0){return vi(this,e,t,!1)}resolveInner(e,t=0){return vi(this,e,t,!0)}matchContext(e){return qc(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(n=t,t=r.prevSibling):t=r}return n}get node(){return this}get next(){return this.parent}}class ts extends Vv{constructor(e,t,n,r){super(),this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,i=0){for(let a=this;;){for(let{children:o,positions:l}=a._tree,c=t>0?o.length:-1;e!=c;e+=t){let u=o[e],d=l[e]+a.from;if(Fv(r,n,d,d+u.length)){if(u instanceof hn){if(i&ut.ExcludeBuffers)continue;let h=u.findChild(0,u.buffer.length,t,n-d,r);if(h>-1)return new nn(new mR(a,u,e,d),null,h)}else if(i&ut.IncludeAnonymous||!u.type.isAnonymous||xd(u)){let h;if(!(i&ut.IgnoreMounts)&&(h=ho.get(u))&&!h.overlay)return new ts(h.tree,d,e,a);let f=new ts(u,d,e,a);return i&ut.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(t<0?u.children.length-1:0,t,n,r)}}}if(i&ut.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+t:e=t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&ut.IgnoreOverlays)&&(r=ho.get(this._tree))&&r.overlay){let i=e-this.from;for(let{from:a,to:o}of r.overlay)if((t>0?a<=i:a<i)&&(t<0?o>=i:o>i))return new ts(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function af(s,e,t,n){let r=s.cursor(),i=[];if(!r.firstChild())return i;if(t!=null){for(let a=!1;!a;)if(a=r.type.is(t),!r.nextSibling())return i}for(;;){if(n!=null&&r.type.is(n))return i;if(r.type.is(e)&&i.push(r.node),!r.nextSibling())return n==null?i:[]}}function qc(s,e,t=e.length-1){for(let n=s;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class mR{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class nn extends Vv{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return i<0?null:new nn(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&ut.ExcludeBuffers)return null;let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new nn(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new nn(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new nn(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let a=n.buffer[this.index+1];e.push(n.slice(r,i,a)),t.push(0)}return new nt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Uv(s){if(!s.length)return null;let e=0,t=s[0];for(let i=1;i<s.length;i++){let a=s[i];(a.from>t.from||a.to<t.to)&&(t=a,e=i)}let n=t instanceof ts&&t.index<0?null:t.parent,r=s.slice();return n?r[e]=n:r.splice(e,1),new gR(r,t)}class gR{constructor(e,t){this.heads=e,this.node=t}get next(){return Uv(this.heads)}}function vR(s,e,t){let n=s.resolveInner(e,t),r=null;for(let i=n instanceof ts?n:n.context.parent;i;i=i.parent)if(i.index<0){let a=i.parent;(r||(r=[n])).push(a.resolve(e,t)),i=a}else{let a=ho.get(i.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let o=new ts(a.tree,a.overlay[0].from+i.from,-1,i);(r||(r=[n])).push(vi(o,e,t,!1))}}return r?Uv(r):n}class Gc{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ts)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return e?e instanceof ts?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return i<0?!1:(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&ut.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ut.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ut.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(r)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let i=0;i<this.index;i++)if(r.buffer.buffer[i+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let i=t+e,a=e<0?-1:n._tree.children.length;i!=a;i+=e){let o=n._tree.children[i];if(this.mode&ut.IncludeAnonymous||o instanceof hn||!o.type.isAnonymous||xd(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,i=this.stack.length;i>=0;){for(let a=e;a;a=a._parent)if(a.index==r){if(r==this.index)return a;t=a,n=i+1;break e}r=this.stack[--i]}for(let r=n;r<this.stack.length;r++)t=new nn(this.buffer,t,this.stack[r]);return this.bufferNode=new nn(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return qc(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return qc(this._tree,e,r);let a=n[t.buffer[this.stack[i]]];if(!a.isAnonymous){if(e[r]&&e[r]!=a.name)return!1;r--}}return!0}}function xd(s){return s.children.some(e=>e instanceof hn||!e.type.isAnonymous||xd(e))}function bR(s){var e;let{buffer:t,nodeSet:n,maxBufferLength:r=_v,reused:i=[],minRepeatType:a=n.types.length}=s,o=Array.isArray(t)?new wd(t,t.length):t,l=n.types,c=0,u=0;function d(x,R,O,z,M,$){let{id:W,start:V,end:Z,size:q}=o,Q=u,re=c;for(;q<0;)if(o.next(),q==-1){let ne=i[W];O.push(ne),z.push(V-x);return}else if(q==-3){c=W;return}else if(q==-4){u=W;return}else throw new RangeError(`Unrecognized record size: ${q}`);let de=l[W],ge,G,ue=V-x;if(Z-V<=r&&(G=v(o.pos-R,M))){let ne=new Uint16Array(G.size-G.skip),N=o.pos-G.size,j=ne.length;for(;o.pos>N;)j=b(G.start,ne,j);ge=new hn(ne,Z-G.start,n),ue=G.start-x}else{let ne=o.pos-q;o.next();let N=[],j=[],F=W>=a?W:-1,U=0,ae=Z;for(;o.pos>ne;)F>=0&&o.id==F&&o.size>=0?(o.end<=ae-r&&(m(N,j,V,U,o.end,ae,F,Q,re),U=N.length,ae=o.end),o.next()):$>2500?h(V,ne,N,j):d(V,ne,N,j,F,$+1);if(F>=0&&U>0&&U<N.length&&m(N,j,V,U,V,ae,F,Q,re),N.reverse(),j.reverse(),F>-1&&U>0){let be=f(de,re);ge=Sd(de,N,j,0,N.length,0,Z-V,be,be)}else ge=g(de,N,j,Z-V,Q-Z,re)}O.push(ge),z.push(ue)}function h(x,R,O,z){let M=[],$=0,W=-1;for(;o.pos>R;){let{id:V,start:Z,end:q,size:Q}=o;if(Q>4)o.next();else{if(W>-1&&Z<W)break;W<0&&(W=q-r),M.push(V,Z,q),$++,o.next()}}if($){let V=new Uint16Array($*4),Z=M[M.length-2];for(let q=M.length-3,Q=0;q>=0;q-=3)V[Q++]=M[q],V[Q++]=M[q+1]-Z,V[Q++]=M[q+2]-Z,V[Q++]=Q;O.push(new hn(V,M[2]-Z,n)),z.push(Z-x)}}function f(x,R){return(O,z,M)=>{let $=0,W=O.length-1,V,Z;if(W>=0&&(V=O[W])instanceof nt){if(!W&&V.type==x&&V.length==M)return V;(Z=V.prop(Pe.lookAhead))&&($=z[W]+V.length+Z)}return g(x,O,z,M,$,R)}}function m(x,R,O,z,M,$,W,V,Z){let q=[],Q=[];for(;x.length>z;)q.push(x.pop()),Q.push(R.pop()+O-M);x.push(g(n.types[W],q,Q,$-M,V-$,Z)),R.push(M-O)}function g(x,R,O,z,M,$,W){if($){let V=[Pe.contextHash,$];W=W?[V].concat(W):[V]}if(M>25){let V=[Pe.lookAhead,M];W=W?[V].concat(W):[V]}return new nt(x,R,O,z,W)}function v(x,R){let O=o.fork(),z=0,M=0,$=0,W=O.end-r,V={size:0,start:0,skip:0};e:for(let Z=O.pos-x;O.pos>Z;){let q=O.size;if(O.id==R&&q>=0){V.size=z,V.start=M,V.skip=$,$+=4,z+=4,O.next();continue}let Q=O.pos-q;if(q<0||Q<Z||O.start<W)break;let re=O.id>=a?4:0,de=O.start;for(O.next();O.pos>Q;){if(O.size<0)if(O.size==-3)re+=4;else break e;else O.id>=a&&(re+=4);O.next()}M=de,z+=q,$+=re}return(R<0||z==x)&&(V.size=z,V.start=M,V.skip=$),V.size>4?V:void 0}function b(x,R,O){let{id:z,start:M,end:$,size:W}=o;if(o.next(),W>=0&&z<a){let V=O;if(W>4){let Z=o.pos-(W-4);for(;o.pos>Z;)O=b(x,R,O)}R[--O]=V,R[--O]=$-x,R[--O]=M-x,R[--O]=z}else W==-3?c=z:W==-4&&(u=z);return O}let C=[],A=[];for(;o.pos>0;)d(s.start||0,s.bufferStart||0,C,A,-1,0);let E=(e=s.length)!==null&&e!==void 0?e:C.length?A[0]+C[0].length:0;return new nt(l[s.topID],C.reverse(),A.reverse(),E)}const of=new WeakMap;function qa(s,e){if(!s.isAnonymous||e instanceof hn||e.type!=s)return 1;let t=of.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=s||!(n instanceof nt)){t=1;break}t+=qa(s,n)}of.set(e,t)}return t}function Sd(s,e,t,n,r,i,a,o,l){let c=0;for(let m=n;m<r;m++)c+=qa(s,e[m]);let u=Math.ceil(c*1.5/8),d=[],h=[];function f(m,g,v,b,C){for(let A=v;A<b;){let E=A,x=g[A],R=qa(s,m[A]);for(A++;A<b;A++){let O=qa(s,m[A]);if(R+O>=u)break;R+=O}if(A==E+1){if(R>u){let O=m[E];f(O.children,O.positions,0,O.children.length,g[E]+C);continue}d.push(m[E])}else{let O=g[A-1]+m[A-1].length-x;d.push(Sd(s,m,g,E,A,x,O,null,l))}h.push(x+C-i)}}return f(e,t,n,r,0),(o||l)(d,h,a)}class Rn{constructor(e,t,n,r,i=!1,a=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(i?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let r=[new Rn(0,e.length,e,0,!1,n)];for(let i of t)i.to>e.length&&r.push(i);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],i=1,a=e.length?e[0]:null;for(let o=0,l=0,c=0;;o++){let u=o<t.length?t[o]:null,d=u?u.fromA:1e9;if(d-l>=n)for(;a&&a.from<d;){let h=a;if(l>=h.from||d<=h.to||c){let f=Math.max(h.from,l)-c,m=Math.min(h.to,d)-c;h=f>=m?null:new Rn(f,m,h.tree,h.offset+c,o>0,!!u)}if(h&&r.push(h),a.to>d)break;a=i<e.length?e[i++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return r}}class Hv{startParse(e,t,n){return typeof e=="string"&&(e=new yR(e)),n=n?n.length?n.map(r=>new Yl(r.from,r.to)):[new Yl(0,0)]:[new Yl(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let i=r.advance();if(i)return i}}}class yR{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Pe({perNode:!0});var lf={};let wR=class Kc{constructor(e,t,n,r,i,a,o,l,c,u=0,d){this.p=e,this.stack=t,this.state=n,this.reducePos=r,this.pos=i,this.score=a,this.buffer=o,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=d}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let r=e.parser.context;return new Kc(e,[],t,n,n,0,[],0,r?new cf(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,r=e&65535,{parser:i}=this.p,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);let o=i.dynamicPrecedence(r);if(o&&(this.score+=o),n==0){this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(r,this.reducePos);return}let l=this.stack.length-(n-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((t=this.p.parser.nodeSet.types[r])===null||t===void 0)&&t.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let d=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-d;if(r<i.minRepeatTerm||e&131072){let f=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,c,f,h+4,!0)}if(e&262144)this.state=this.stack[l];else{let f=this.stack[l-3];this.state=i.getGoto(f,r,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(r,c)}storeNode(e,t,n,r=4,i=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,o=this.buffer.length;if(o==0&&a.parent&&(o=a.bufferBase-a.parent.bufferBase,a=a.parent),o>0&&a.buffer[o-4]==0&&a.buffer[o-1]>-1){if(t==n)return;if(a.buffer[o-2]>=t){a.buffer[o-2]=n;return}}}if(!i||this.pos==n)this.buffer.push(e,t,n,r);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0){let o=!1;for(let l=a;l>0&&this.buffer[l-2]>n;l-=4)if(this.buffer[l-1]>=0){o=!0;break}if(o)for(;a>0&&this.buffer[a-2]>n;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,r>4&&(r-=4)}this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=n,this.buffer[a+3]=r}}shift(e,t,n,r){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4);else{let i=e,{parser:a}=this.p;(r>this.pos||t<=a.maxNode)&&(this.pos=r,a.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,n),this.shiftContext(t,n),t<=a.maxNode&&this.buffer.push(t,n,r,4)}}apply(e,t,n,r){e&65536?this.reduce(e):this.shift(e,t,n,r)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new Kc(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new xR(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if(!(n&65536))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let i=0,a;i<t.length;i+=2)(a=t[i+1])!=this.state&&this.p.parser.hasAction(a,e)&&r.push(t[i],a);if(this.stack.length<120)for(let i=0;r.length<8&&i<t.length;i+=2){let a=t[i+1];r.some((o,l)=>l&1&&o==a)||r.push(t[i],a)}t=r}let n=[];for(let r=0;r<t.length&&n.length<4;r+=2){let i=t[r+1];if(i==this.state)continue;let a=this.split();a.pushState(i,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[r],this.pos),a.reducePos=this.pos,a.score-=200,n.push(a)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let n=t>>19,r=t&65535,i=this.stack.length-n*3;if(i<0||e.getGoto(this.stack[i],r,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;t=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(r,i)=>{if(!t.includes(r))return t.push(r),e.allActions(r,a=>{if(!(a&393216))if(a&65536){let o=(a>>19)-i;if(o>1){let l=a&65535,c=this.stack.length-o*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return o<<19|65536|l}}else{let o=n(a,i+1);if(o!=null)return o}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new cf(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class cf{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class xR{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class fo{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new fo(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new fo(this.stack,this.pos,this.index)}}function pa(s,e=Uint16Array){if(typeof s!="string")return s;let t=null;for(let n=0,r=0;n<s.length;){let i=0;for(;;){let a=s.charCodeAt(n++),o=!1;if(a==126){i=65535;break}a>=92&&a--,a>=34&&a--;let l=a-32;if(l>=46&&(l-=46,o=!0),i+=l,o)break;i*=46}t?t[r++]=i:t=new e(i)}return t}class Ga{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const uf=new Ga;class SR{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=uf,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,r=this.rangeIndex,i=this.pos+e;for(;i<n.from;){if(!r)return null;let a=this.ranges[--r];i-=n.from-a.to,n=a}for(;t<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;let a=this.ranges[++r];i+=a.from-n.to,n=a}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,r;if(t>=0&&t<this.chunk.length)n=this.pos+e,r=this.chunk.charCodeAt(t);else{let i=this.resolveOffset(e,1);if(i==null)return-1;if(n=i,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let a=this.rangeIndex,o=this.range;for(;o.to<=n;)o=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-n)),r=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),r}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=uf,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(n+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return n}}class or{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;kR(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}or.prototype.contextual=or.prototype.fallback=or.prototype.extend=!1;or.prototype.fallback=or.prototype.extend=!1;function kR(s,e,t,n,r,i){let a=0,o=1<<n,{dialect:l}=t.p.parser;e:for(;o&s[a];){let c=s[a+1];for(let f=a+3;f<c;f+=2)if((s[f+1]&o)>0){let m=s[f];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||CR(m,e.token.value,r,i))){e.acceptToken(m);break}}let u=e.next,d=0,h=s[a+2];if(e.next<0&&h>d&&s[c+h*3-3]==65535){a=s[c+h*3-1];continue e}for(;d<h;){let f=d+h>>1,m=c+f+(f<<1),g=s[m],v=s[m+1]||65536;if(u<g)h=f;else if(u>=v)d=f+1;else{a=s[m+2],e.advance();continue e}}break}}function df(s,e,t){for(let n=e,r;(r=s[n])!=65535;n++)if(r==t)return n-e;return-1}function CR(s,e,t,n){let r=df(t,n,e);return r<0||df(t,n,s)<r}const Ft=typeof process<"u"&&lf&&/\bparse\b/.test(lf.LOG);let Ql=null;function hf(s,e,t){let n=s.cursor(ut.IncludeAnonymous);for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(s.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:s.length}}class PR{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?hf(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?hf(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],r=this.index[t];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=n.children[r],a=this.start[t]+n.positions[r];if(a>e)return this.nextStart=a,null;if(i instanceof nt){if(a==e){if(a<this.safeFrom)return null;let o=a+i.length;if(o<=this.safeTo){let l=i.prop(Pe.lookAhead);if(!l||o+l<this.fragment.to)return i}}this.index[t]++,a+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+i.length}}}class AR{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new Ga)}getActions(e){let t=0,n=null,{parser:r}=e.p,{tokenizers:i}=r,a=r.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<i.length;c++){if(!(1<<c&a))continue;let u=i[c],d=this.tokens[c];if(!(n&&!u.fallback)&&((u.contextual||d.start!=e.pos||d.mask!=a||d.context!=o)&&(this.updateCachedToken(d,u,e),d.mask=a,d.context=o),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let h=t;if(d.extended>-1&&(t=this.addActions(e,d.extended,d.end,t)),t=this.addActions(e,d.value,d.end,t),!u.extend&&(n=d,t>h))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!n&&e.pos==this.stream.end&&(n=new Ga,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Ga,{pos:n,p:r}=e;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,n){let r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){let{parser:i}=n.p;for(let a=0;a<i.specialized.length;a++)if(i.specialized[a]==e.value){let o=i.specializers[a](this.stream.read(e.start,e.end),n);if(o>=0&&n.p.parser.dialect.allows(o>>1)){o&1?e.extended=o>>1:e.value=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,n,r){for(let i=0;i<r;i+=3)if(this.actions[i]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}addActions(e,t,n,r){let{state:i}=e,{parser:a}=e.p,{data:o}=a;for(let l=0;l<2;l++)for(let c=a.stateSlot(i,l?2:1);;c+=3){if(o[c]==65535)if(o[c+1]==1)c=Is(o,c+2);else{r==0&&o[c+1]==2&&(r=this.putAction(Is(o,c+2),t,n,r));break}o[c]==t&&(r=this.putAction(Is(o,c+1),t,n,r))}return r}}class TR{constructor(e,t,n,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new SR(t,r),this.tokens=new AR(e,this.stream),this.topTerm=e.top[1];let{from:i}=r[0];this.stacks=[wR.start(this,e.top[0],i)],this.fragments=n.length&&this.stream.end-i>e.bufferLength*4?new PR(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],r,i;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let o=e[a];for(;;){if(this.tokens.mainToken=null,o.pos>t)n.push(o);else{if(this.advanceStack(o,n,e))continue;{r||(r=[],i=[]),r.push(o);let l=this.tokens.getMainToken(o);i.push(l.value,l.end)}}break}}if(!n.length){let a=r&&MR(r);if(a)return Ft&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw Ft&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let a=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,i,n);if(a)return Ft&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(n.length>a)for(n.sort((o,l)=>l.score-o.score);n.length>a;)n.pop();n.some(o=>o.reducePos>t)&&this.recovering--}else if(n.length>1){e:for(let a=0;a<n.length-1;a++){let o=n[a];for(let l=a+1;l<n.length;l++){let c=n[l];if(o.sameState(c)||o.buffer.length>500&&c.buffer.length>500)if((o.score-c.score||o.buffer.length-c.buffer.length)>0)n.splice(l--,1);else{n.splice(a--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let a=1;a<n.length;a++)n[a].pos<this.minStackPos&&(this.minStackPos=n[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let r=e.pos,{parser:i}=this,a=Ft?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let d=this.fragments.nodeAt(r);d;){let h=this.parser.nodeSet.types[d.type.id]==d.type?i.getGoto(e.state,d.type.id):-1;if(h>-1&&d.length&&(!c||(d.prop(Pe.contextHash)||0)==u))return e.useNode(d,h),Ft&&console.log(a+this.stackID(e)+` (via reuse of ${i.getName(d.type.id)})`),!0;if(!(d instanceof nt)||d.children.length==0||d.positions[0]>0)break;let f=d.children[0];if(f instanceof nt&&d.positions[0]==0)d=f;else break}}let o=i.stateSlot(e.state,4);if(o>0)return e.reduce(o),Ft&&console.log(a+this.stackID(e)+` (via always-reduce ${i.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],d=l[c++],h=l[c++],f=c==l.length||!n,m=f?e:e.split(),g=this.tokens.mainToken;if(m.apply(u,d,g?g.start:m.pos,h),Ft&&console.log(a+this.stackID(m)+` (via ${u&65536?`reduce of ${i.getName(u&65535)}`:"shift"} for ${i.getName(d)} @ ${r}${m==e?"":", split"})`),f)return!0;m.pos>r?t.push(m):n.push(m)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return ff(e,t),!0}}runRecovery(e,t,n){let r=null,i=!1;for(let a=0;a<e.length;a++){let o=e[a],l=t[a<<1],c=t[(a<<1)+1],u=Ft?this.stackID(o)+" -> ":"";if(o.deadEnd&&(i||(i=!0,o.restart(),Ft&&console.log(u+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))))continue;let d=o.split(),h=u;for(let f=0;d.forceReduce()&&f<10&&(Ft&&console.log(h+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,n));f++)Ft&&(h=this.stackID(d)+" -> ");for(let f of o.recoverByInsert(l))Ft&&console.log(u+this.stackID(f)+" (via recover-insert)"),this.advanceFully(f,n);this.stream.end>o.pos?(c==o.pos&&(c++,l=0),o.recoverByDelete(l,c),Ft&&console.log(u+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),ff(o,n)):(!r||r.score<o.score)&&(r=o)}return r}stackToTree(e){return e.close(),nt.build({buffer:fo.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Ql||(Ql=new WeakMap)).get(e);return t||Ql.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function ff(s,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==s.pos&&n.sameState(s)){e[t].score<s.score&&(e[t]=s);return}}e.push(s)}class ER{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}class po extends Hv{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let o=0;o<e.repeatNodeCount;o++)t.push("");let n=Object.keys(e.topRules).map(o=>e.topRules[o][1]),r=[];for(let o=0;o<t.length;o++)r.push([]);function i(o,l,c){r[o].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let o of e.nodeProps){let l=o[0];typeof l=="string"&&(l=Pe[l]);for(let c=1;c<o.length;){let u=o[c++];if(u>=0)i(u,l,o[c++]);else{let d=o[c+-u];for(let h=-u;h>0;h--)i(o[c++],l,d);c++}}}this.nodeSet=new yd(t.map((o,l)=>It.define({name:l>=this.minRepeatTerm?void 0:o,id:l,props:r[l],top:n.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=_v;let a=pa(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(pf),this.states=pa(e.states,Uint32Array),this.data=pa(e.stateData),this.goto=pa(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new or(a,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let r=new TR(this,e,t,n);for(let i of this.wrappers)r=i(r,e,t,n);return r}getGoto(e,t,n=!1){let r=this.goto;if(t>=r[0])return-1;for(let i=r[t+1];;){let a=r[i++],o=a&1,l=r[i++];if(o&&n)return l;for(let c=i+(a>>1);i<c;i++)if(r[i]==e)return l;if(o)return-1}}hasAction(e,t){let n=this.data;for(let r=0;r<2;r++)for(let i=this.stateSlot(e,r?2:1),a;;i+=3){if((a=n[i])==65535)if(n[i+1]==1)a=n[i=Is(n,i+2)];else{if(n[i+1]==2)return Is(n,i+2);break}if(a==t||a==0)return Is(n,i+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,n=>n==t?!0:null)}allActions(e,t){let n=this.stateSlot(e,4),r=n?t(n):void 0;for(let i=this.stateSlot(e,1);r==null;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Is(this.data,i+2);else break;r=t(Is(this.data,i+1))}return r}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Is(this.data,n+2);else break;if(!(this.data[n+2]&1)){let r=this.data[n+1];t.some((i,a)=>a&1&&i==r)||t.push(this.data[n],r)}}return t}configure(e){let t=Object.assign(Object.create(po.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let r=e.tokenizers.find(i=>i.from==n);return r?r.to:n})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,r)=>{let i=e.specializers.find(o=>o.from==n.external);if(!i)return n;let a=Object.assign(Object.assign({},n),{external:i.to});return t.specializers[r]=pf(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let i of e.split(" ")){let a=t.indexOf(i);a>=0&&(n[a]=!0)}let r=null;for(let i=0;i<t.length;i++)if(!n[i])for(let a=this.dialects[t[i]],o;(o=this.data[a++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[o]=1;return new ER(e,n,r)}static deserialize(e){return new po(e)}}function Is(s,e){return s[e]|s[e+1]<<16}function MR(s){let e=null;for(let t of s){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function pf(s){if(s.external){let e=s.extend?1:0;return(t,n)=>s.external(t,n)<<1|e}return s.get}let NR=0;class Qt{constructor(e,t,n,r){this.name=e,this.set=t,this.base=n,this.modified=r,this.id=NR++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n=typeof e=="string"?e:"?";if(e instanceof Qt&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let r=new Qt(n,[],null,[]);if(r.set.push(r),t)for(let i of t.set)r.set.push(i);return r}static defineModifier(e){let t=new mo(e);return n=>n.modified.indexOf(t)>-1?n:mo.get(n.base||n,n.modified.concat(t).sort((r,i)=>r.id-i.id))}}let RR=0;class mo{constructor(e){this.name=e,this.instances=[],this.id=RR++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(o=>o.base==e&&DR(t,o.modified));if(n)return n;let r=[],i=new Qt(e.name,r,e,t);for(let o of t)o.instances.push(i);let a=OR(t);for(let o of e.set)if(!o.modified.length)for(let l of a)r.push(mo.get(o,l));return i}}function DR(s,e){return s.length==e.length&&s.every((t,n)=>t==e[n])}function OR(s){let e=[[]];for(let t=0;t<s.length;t++)for(let n=0,r=e.length;n<r;n++)e.push(e[n].concat(s[t]));return e.sort((t,n)=>n.length-t.length)}function Wv(s){let e=Object.create(null);for(let t in s){let n=s[t];Array.isArray(n)||(n=[n]);for(let r of t.split(" "))if(r){let i=[],a=2,o=r;for(let d=0;;){if(o=="..."&&d>0&&d+3==r.length){a=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!h)throw new RangeError("Invalid path: "+r);if(i.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),d+=h[0].length,d==r.length)break;let f=r[d++];if(d==r.length&&f=="!"){a=0;break}if(f!="/")throw new RangeError("Invalid path: "+r);o=r.slice(d)}let l=i.length-1,c=i[l];if(!c)throw new RangeError("Invalid path: "+r);let u=new go(n,a,l>0?i.slice(0,l):null);e[c]=u.sort(e[c])}}return qv.add(e)}const qv=new Pe;class go{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}go.empty=new go([],2,null);function Gv(s,e){let t=Object.create(null);for(let i of s)if(!Array.isArray(i.tag))t[i.tag.id]=i.class;else for(let a of i.tag)t[a.id]=i.class;let{scope:n,all:r=null}=e||{};return{style:i=>{let a=r;for(let o of i)for(let l of o.set){let c=t[l.id];if(c){a=a?a+" "+c:c;break}}return a},scope:n}}function zR(s,e){let t=null;for(let n of s){let r=n.style(e);r&&(t=t?t+" "+r:r)}return t}function LR(s,e,t,n=0,r=s.length){let i=new BR(n,Array.isArray(e)?e:[e],t);i.highlightRange(s.cursor(),n,r,"",i.highlighters),i.flush(r)}class BR{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,r,i){let{type:a,from:o,to:l}=e;if(o>=n||l<=t)return;a.isTop&&(i=this.highlighters.filter(f=>!f.scope||f.scope(a)));let c=r,u=jR(e)||go.empty,d=zR(i,u.tags);if(d&&(c&&(c+=" "),c+=d,u.mode==1&&(r+=(r?" ":"")+d)),this.startSpan(Math.max(t,o),c),u.opaque)return;let h=e.tree&&e.tree.prop(Pe.mounted);if(h&&h.overlay){let f=e.node.enter(h.overlay[0].from+o,1),m=this.highlighters.filter(v=>!v.scope||v.scope(h.tree.type)),g=e.firstChild();for(let v=0,b=o;;v++){let C=v<h.overlay.length?h.overlay[v]:null,A=C?C.from+o:l,E=Math.max(t,b),x=Math.min(n,A);if(E<x&&g)for(;e.from<x&&(this.highlightRange(e,E,x,r,i),this.startSpan(Math.min(x,e.to),c),!(e.to>=A||!e.nextSibling())););if(!C||A>n)break;b=C.to+o,b>t&&(this.highlightRange(f.cursor(),Math.max(t,C.from+o),Math.min(n,b),"",m),this.startSpan(Math.min(n,b),c))}g&&e.parent()}else if(e.firstChild()){h&&(r="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,i),this.startSpan(Math.min(n,e.to),c)}while(e.nextSibling());e.parent()}}}function jR(s){let e=s.type.prop(qv);for(;e&&e.context&&!s.matchContext(e.context);)e=e.next;return e||null}const Y=Qt.define,ma=Y(),Qs=Y(),mf=Y(Qs),gf=Y(Qs),Js=Y(),ga=Y(Js),Jl=Y(Js),xs=Y(),Sn=Y(xs),bs=Y(),ys=Y(),Yc=Y(),Fr=Y(Yc),va=Y(),B={comment:ma,lineComment:Y(ma),blockComment:Y(ma),docComment:Y(ma),name:Qs,variableName:Y(Qs),typeName:mf,tagName:Y(mf),propertyName:gf,attributeName:Y(gf),className:Y(Qs),labelName:Y(Qs),namespace:Y(Qs),macroName:Y(Qs),literal:Js,string:ga,docString:Y(ga),character:Y(ga),attributeValue:Y(ga),number:Jl,integer:Y(Jl),float:Y(Jl),bool:Y(Js),regexp:Y(Js),escape:Y(Js),color:Y(Js),url:Y(Js),keyword:bs,self:Y(bs),null:Y(bs),atom:Y(bs),unit:Y(bs),modifier:Y(bs),operatorKeyword:Y(bs),controlKeyword:Y(bs),definitionKeyword:Y(bs),moduleKeyword:Y(bs),operator:ys,derefOperator:Y(ys),arithmeticOperator:Y(ys),logicOperator:Y(ys),bitwiseOperator:Y(ys),compareOperator:Y(ys),updateOperator:Y(ys),definitionOperator:Y(ys),typeOperator:Y(ys),controlOperator:Y(ys),punctuation:Yc,separator:Y(Yc),bracket:Fr,angleBracket:Y(Fr),squareBracket:Y(Fr),paren:Y(Fr),brace:Y(Fr),content:xs,heading:Sn,heading1:Y(Sn),heading2:Y(Sn),heading3:Y(Sn),heading4:Y(Sn),heading5:Y(Sn),heading6:Y(Sn),contentSeparator:Y(xs),list:Y(xs),quote:Y(xs),emphasis:Y(xs),strong:Y(xs),link:Y(xs),monospace:Y(xs),strikethrough:Y(xs),inserted:Y(),deleted:Y(),changed:Y(),invalid:Y(),meta:va,documentMeta:Y(va),annotation:Y(va),processingInstruction:Y(va),definition:Qt.defineModifier("definition"),constant:Qt.defineModifier("constant"),function:Qt.defineModifier("function"),standard:Qt.defineModifier("standard"),local:Qt.defineModifier("local"),special:Qt.defineModifier("special")};for(let s in B){let e=B[s];e instanceof Qt&&(e.name=s)}Gv([{tag:B.link,class:"tok-link"},{tag:B.heading,class:"tok-heading"},{tag:B.emphasis,class:"tok-emphasis"},{tag:B.strong,class:"tok-strong"},{tag:B.keyword,class:"tok-keyword"},{tag:B.atom,class:"tok-atom"},{tag:B.bool,class:"tok-bool"},{tag:B.url,class:"tok-url"},{tag:B.labelName,class:"tok-labelName"},{tag:B.inserted,class:"tok-inserted"},{tag:B.deleted,class:"tok-deleted"},{tag:B.literal,class:"tok-literal"},{tag:B.string,class:"tok-string"},{tag:B.number,class:"tok-number"},{tag:[B.regexp,B.escape,B.special(B.string)],class:"tok-string2"},{tag:B.variableName,class:"tok-variableName"},{tag:B.local(B.variableName),class:"tok-variableName tok-local"},{tag:B.definition(B.variableName),class:"tok-variableName tok-definition"},{tag:B.special(B.variableName),class:"tok-variableName2"},{tag:B.definition(B.propertyName),class:"tok-propertyName tok-definition"},{tag:B.typeName,class:"tok-typeName"},{tag:B.namespace,class:"tok-namespace"},{tag:B.className,class:"tok-className"},{tag:B.macroName,class:"tok-macroName"},{tag:B.propertyName,class:"tok-propertyName"},{tag:B.operator,class:"tok-operator"},{tag:B.comment,class:"tok-comment"},{tag:B.meta,class:"tok-meta"},{tag:B.invalid,class:"tok-invalid"},{tag:B.punctuation,class:"tok-punctuation"}]);const IR=Wv({String:B.string,Number:B.number,"True False":B.bool,PropertyName:B.propertyName,Null:B.null,",":B.separator,"[ ]":B.squareBracket,"{ }":B.brace}),$R=po.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[IR],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});class De{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=mr(this,e,t);let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),ks.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=mr(this,e,t);let n=[];return this.decompose(e,t,n,0),ks.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new li(this),i=new li(e);for(let a=t,o=t;;){if(r.next(a),i.next(a),a=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(o+=r.value.length,r.done||o>=n)return!0}}iter(e=1){return new li(this,e)}iterRange(e,t=this.length){return new Kv(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Yv(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?De.empty:e.length<=32?new et(e):ks.from(et.split(e,[]))}}class et extends De{constructor(e,t=_R(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let i=0;;i++){let a=this.text[i],o=r+a.length;if((t?n:o)>=e)return new FR(r,o,n,a);r=o+1,n++}}decompose(e,t,n,r){let i=e<=0&&t>=this.length?this:new et(vf(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let a=n.pop(),o=Ka(i.text,a.text.slice(),0,i.length);if(o.length<=32)n.push(new et(o,a.length+i.length));else{let l=o.length>>1;n.push(new et(o.slice(0,l)),new et(o.slice(l)))}}else n.push(i)}replace(e,t,n){if(!(n instanceof et))return super.replace(e,t,n);[e,t]=mr(this,e,t);let r=Ka(this.text,Ka(n.text,vf(this.text,0,e)),t),i=this.length+n.length-(t-e);return r.length<=32?new et(r,i):ks.from(et.split(r,[]),i)}sliceString(e,t=this.length,n=`
`){[e,t]=mr(this,e,t);let r="";for(let i=0,a=0;i<=t&&a<this.text.length;a++){let o=this.text[a],l=i+o.length;i>e&&a&&(r+=n),e<l&&t>i&&(r+=o.slice(Math.max(0,e-i),t-i)),i=l+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let i of e)n.push(i),r+=i.length+1,n.length==32&&(t.push(new et(n,r)),n=[],r=-1);return r>-1&&t.push(new et(n,r)),t}}class ks extends De{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,r){for(let i=0;;i++){let a=this.children[i],o=r+a.length,l=n+a.lines-1;if((t?l:o)>=e)return a.lineInner(e,t,n,r);r=o+1,n=l+1}}decompose(e,t,n,r){for(let i=0,a=0;a<=t&&i<this.children.length;i++){let o=this.children[i],l=a+o.length;if(e<=l&&t>=a){let c=r&((a<=e?1:0)|(l>=t?2:0));a>=e&&l<=t&&!c?n.push(o):o.decompose(e-a,t-a,n,c)}a=l+1}}replace(e,t,n){if([e,t]=mr(this,e,t),n.lines<this.lines)for(let r=0,i=0;r<this.children.length;r++){let a=this.children[r],o=i+a.length;if(e>=i&&t<=o){let l=a.replace(e-i,t-i,n),c=this.lines-a.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[r]=l,new ks(u,this.length-(t-e)+n.length)}return super.replace(i,o,l)}i=o+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){[e,t]=mr(this,e,t);let r="";for(let i=0,a=0;i<this.children.length&&a<=t;i++){let o=this.children[i],l=a+o.length;a>e&&i&&(r+=n),e<l&&t>a&&(r+=o.sliceString(e-a,t-a,n)),a=l+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof ks))return 0;let n=0,[r,i,a,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,i+=t){if(r==a||i==o)return n;let l=this.children[r],c=e.children[i];if(l!=c)return n+l.scanIdentical(c,t);n+=l.length+1}}static from(e,t=e.reduce((n,r)=>n+r.length+1,-1)){let n=0;for(let f of e)n+=f.lines;if(n<32){let f=[];for(let m of e)m.flatten(f);return new et(f,t)}let r=Math.max(32,n>>5),i=r<<1,a=r>>1,o=[],l=0,c=-1,u=[];function d(f){let m;if(f.lines>i&&f instanceof ks)for(let g of f.children)d(g);else f.lines>a&&(l>a||!l)?(h(),o.push(f)):f instanceof et&&l&&(m=u[u.length-1])instanceof et&&f.lines+m.lines<=32?(l+=f.lines,c+=f.length+1,u[u.length-1]=new et(m.text.concat(f.text),m.length+1+f.length)):(l+f.lines>r&&h(),l+=f.lines,c+=f.length+1,u.push(f))}function h(){l!=0&&(o.push(u.length==1?u[0]:ks.from(u,c)),c=-1,l=u.length=0)}for(let f of e)d(f);return h(),o.length==1?o[0]:new ks(o,t)}}De.empty=new et([""],0);function _R(s){let e=-1;for(let t of s)e+=t.length+1;return e}function Ka(s,e,t=0,n=1e9){for(let r=0,i=0,a=!0;i<s.length&&r<=n;i++){let o=s[i],l=r+o.length;l>=t&&(l>n&&(o=o.slice(0,n-r)),r<t&&(o=o.slice(t-r)),a?(e[e.length-1]+=o,a=!1):e.push(o)),r=l+1}return e}function vf(s,e,t){return Ka(s,[""],e,t)}class li{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof et?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],a=i>>1,o=r instanceof et?r.text.length:r.children.length;if(a==(t>0?o:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((i&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof et){let l=r.text[a+(t<0?-1:0)];if(this.offsets[n]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[a+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof et?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Kv{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new li(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Yv{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(De.prototype[Symbol.iterator]=function(){return this.iter()},li.prototype[Symbol.iterator]=Kv.prototype[Symbol.iterator]=Yv.prototype[Symbol.iterator]=function(){return this});let FR=class{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}};function mr(s,e,t){return e=Math.max(0,Math.min(s.length,e)),[e,Math.max(e,Math.min(s.length,t))]}let lr="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(s=>s?parseInt(s,36):1);for(let s=1;s<lr.length;s++)lr[s]+=lr[s-1];function VR(s){for(let e=1;e<lr.length;e+=2)if(lr[e]>s)return lr[e-1]<=s;return!1}function bf(s){return s>=127462&&s<=127487}const yf=8205;function vt(s,e,t=!0,n=!0){return(t?Qv:UR)(s,e,n)}function Qv(s,e,t){if(e==s.length)return e;e&&Jv(s.charCodeAt(e))&&Zv(s.charCodeAt(e-1))&&e--;let n=mt(s,e);for(e+=Jt(n);e<s.length;){let r=mt(s,e);if(n==yf||r==yf||t&&VR(r))e+=Jt(r),n=r;else if(bf(r)){let i=0,a=e-2;for(;a>=0&&bf(mt(s,a));)i++,a-=2;if(i%2==0)break;e+=2}else break}return e}function UR(s,e,t){for(;e>0;){let n=Qv(s,e-2,t);if(n<e)return n;e--}return 0}function Jv(s){return s>=56320&&s<57344}function Zv(s){return s>=55296&&s<56320}function mt(s,e){let t=s.charCodeAt(e);if(!Zv(t)||e+1==s.length)return t;let n=s.charCodeAt(e+1);return Jv(n)?(t-55296<<10)+(n-56320)+65536:t}function kd(s){return s<=65535?String.fromCharCode(s):(s-=65536,String.fromCharCode((s>>10)+55296,(s&1023)+56320))}function Jt(s){return s<65536?1:2}const Qc=/\r\n?|\n/;var At=function(s){return s[s.Simple=0]="Simple",s[s.TrackDel=1]="TrackDel",s[s.TrackBefore=2]="TrackBefore",s[s.TrackAfter=3]="TrackAfter",s}(At||(At={}));class Ms{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let i=this.sections[t++],a=this.sections[t++];a<0?(e(n,r,i),r+=i):r+=a,n+=i}}iterChangedRanges(e,t=!1){Jc(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new Ms(e)}composeDesc(e){return this.empty?e:e.empty?this:Xv(this,e)}mapDesc(e,t=!1){return e.empty?this:Zc(this,e,t)}mapPos(e,t=-1,n=At.Simple){let r=0,i=0;for(let a=0;a<this.sections.length;){let o=this.sections[a++],l=this.sections[a++],c=r+o;if(l<0){if(c>e)return i+(e-r);i+=o}else{if(n!=At.Simple&&c>=e&&(n==At.TrackDel&&r<e&&c>e||n==At.TrackBefore&&r<e||n==At.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!o)return e==r||t<0?i:i+l;i+=l}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return i}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let i=this.sections[n++],a=this.sections[n++],o=r+i;if(a>=0&&r<=t&&o>=e)return r<e&&o>t?"cover":!0;r=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ms(e)}static create(e){return new Ms(e)}}class it extends Ms{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Jc(this,(t,n,r,i,a)=>e=e.replace(r,r+(n-t),a),!1),e}mapDesc(e,t=!1){return Zc(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,i=0;r<t.length;r+=2){let a=t[r],o=t[r+1];if(o>=0){t[r]=o,t[r+1]=a;let l=r>>1;for(;n.length<l;)n.push(De.empty);n.push(a?e.slice(i,i+a):De.empty)}i+=a}return new it(t,n)}compose(e){return this.empty?e:e.empty?this:Xv(this,e,!0)}map(e,t=!1){return e.empty?this:Zc(this,e,t,!0)}iterChanges(e,t=!1){Jc(this,e,t)}get desc(){return Ms.create(this.sections)}filter(e){let t=[],n=[],r=[],i=new bi(this);e:for(let a=0,o=0;;){let l=a==e.length?1e9:e[a++];for(;o<l||o==l&&i.len==0;){if(i.done)break e;let u=Math.min(i.len,l-o);xt(r,u,-1);let d=i.ins==-1?-1:i.off==0?i.ins:0;xt(t,u,d),d>0&&rn(n,t,i.text),i.forward(u),o+=u}let c=e[a++];for(;o<c;){if(i.done)break e;let u=Math.min(i.len,c-o);xt(t,u,-1),xt(r,u,i.ins==-1?-1:i.off==0?i.ins:0),i.forward(u),o+=u}}return{changes:new it(t,n),filtered:Ms.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):r==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],i=[],a=0,o=null;function l(u=!1){if(!u&&!r.length)return;a<t&&xt(r,t-a,-1);let d=new it(r,i);o=o?o.compose(d.map(o)):d,r=[],i=[],a=0}function c(u){if(Array.isArray(u))for(let d of u)c(d);else if(u instanceof it){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);l(),o=o?o.compose(u.map(o)):u}else{let{from:d,to:h=d,insert:f}=u;if(d>h||d<0||h>t)throw new RangeError(`Invalid change range ${d} to ${h} (in doc of length ${t})`);let m=f?typeof f=="string"?De.of(f.split(n||Qc)):f:De.empty,g=m.length;if(d==h&&g==0)return;d<a&&l(),d>a&&xt(r,d-a,-1),xt(r,h-d,g),rn(i,r,m),a=h}}return c(e),l(!o),o}static empty(e){return new it(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let i=e[r];if(typeof i=="number")t.push(i,-1);else{if(!Array.isArray(i)||typeof i[0]!="number"||i.some((a,o)=>o&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(i.length==1)t.push(i[0],0);else{for(;n.length<r;)n.push(De.empty);n[r]=De.of(i.slice(1)),t.push(i[0],n[r].length)}}}return new it(t,n)}static createSet(e,t){return new it(e,t)}}function xt(s,e,t,n=!1){if(e==0&&t<=0)return;let r=s.length-2;r>=0&&t<=0&&t==s[r+1]?s[r]+=e:e==0&&s[r]==0?s[r+1]+=t:n?(s[r]+=e,s[r+1]+=t):s.push(e,t)}function rn(s,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<s.length)s[s.length-1]=s[s.length-1].append(t);else{for(;s.length<n;)s.push(De.empty);s.push(t)}}function Jc(s,e,t){let n=s.inserted;for(let r=0,i=0,a=0;a<s.sections.length;){let o=s.sections[a++],l=s.sections[a++];if(l<0)r+=o,i+=o;else{let c=r,u=i,d=De.empty;for(;c+=o,u+=l,l&&n&&(d=d.append(n[a-2>>1])),!(t||a==s.sections.length||s.sections[a+1]<0);)o=s.sections[a++],l=s.sections[a++];e(r,c,i,u,d),r=c,i=u}}}function Zc(s,e,t,n=!1){let r=[],i=n?[]:null,a=new bi(s),o=new bi(e);for(let l=-1;;)if(a.ins==-1&&o.ins==-1){let c=Math.min(a.len,o.len);xt(r,c,-1),a.forward(c),o.forward(c)}else if(o.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(o.len<a.len||o.len==a.len&&!t))){let c=o.len;for(xt(r,o.ins,-1);c;){let u=Math.min(a.len,c);a.ins>=0&&l<a.i&&a.len<=u&&(xt(r,0,a.ins),i&&rn(i,r,a.text),l=a.i),a.forward(u),c-=u}o.next()}else if(a.ins>=0){let c=0,u=a.len;for(;u;)if(o.ins==-1){let d=Math.min(u,o.len);c+=d,u-=d,o.forward(d)}else if(o.ins==0&&o.len<u)u-=o.len,o.next();else break;xt(r,c,l<a.i?a.ins:0),i&&l<a.i&&rn(i,r,a.text),l=a.i,a.forward(a.len-u)}else{if(a.done&&o.done)return i?it.createSet(r,i):Ms.create(r);throw new Error("Mismatched change set lengths")}}function Xv(s,e,t=!1){let n=[],r=t?[]:null,i=new bi(s),a=new bi(e);for(let o=!1;;){if(i.done&&a.done)return r?it.createSet(n,r):Ms.create(n);if(i.ins==0)xt(n,i.len,0,o),i.next();else if(a.len==0&&!a.done)xt(n,0,a.ins,o),r&&rn(r,n,a.text),a.next();else{if(i.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(i.len2,a.len),c=n.length;if(i.ins==-1){let u=a.ins==-1?-1:a.off?0:a.ins;xt(n,l,u,o),r&&u&&rn(r,n,a.text)}else a.ins==-1?(xt(n,i.off?0:i.len,l,o),r&&rn(r,n,i.textBit(l))):(xt(n,i.off?0:i.len,a.off?0:a.ins,o),r&&!a.off&&rn(r,n,a.text));o=(i.ins>l||a.ins>=0&&a.len>l)&&(o||n.length>c),i.forward2(l),a.forward(l)}}}}class bi{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?De.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?De.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Tn{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new Tn(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return _.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return _.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return _.range(e.anchor,e.head)}static create(e,t,n){return new Tn(e,t,n)}}class _{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:_.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new _([this.main],0)}addRange(e,t=!0){return _.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,_.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new _(e.ranges.map(t=>Tn.fromJSON(t)),e.main)}static single(e,t=e){return new _([_.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let i=e[r];if(i.empty?i.from<=n:i.from<n)return _.normalized(e.slice(),t);n=i.to}return new _(e,t)}static cursor(e,t=0,n,r){return Tn.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(r??16777215)<<6)}static range(e,t,n,r){let i=(n??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?Tn.create(t,e,48|i):Tn.create(e,t,(t>e?8:0)|i)}static normalized(e,t=0){let n=e[t];e.sort((r,i)=>r.from-i.from),t=e.indexOf(n);for(let r=1;r<e.length;r++){let i=e[r],a=e[r-1];if(i.empty?i.from<=a.to:i.from<a.to){let o=a.from,l=Math.max(i.to,a.to);r<=t&&t--,e.splice(--r,2,i.anchor>i.head?_.range(l,o):_.range(o,l))}}return new _(e,t)}}function eb(s,e){for(let t of s.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Cd=0;class te{constructor(e,t,n,r,i){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=Cd++,this.default=e([]),this.extensions=typeof i=="function"?i(this):i}get reader(){return this}static define(e={}){return new te(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:Pd),!!e.static,e.enables)}of(e){return new Ya([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ya(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ya(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function Pd(s,e){return s==e||s.length==e.length&&s.every((t,n)=>t===e[n])}class Ya{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=Cd++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,i=this.id,a=e[i]>>1,o=this.type==2,l=!1,c=!1,u=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?c=!0:((t=e[d.id])!==null&&t!==void 0?t:1)&1||u.push(e[d.id]);return{create(d){return d.values[a]=n(d),1},update(d,h){if(l&&h.docChanged||c&&(h.docChanged||h.selection)||Xc(d,u)){let f=n(d);if(o?!wf(f,d.values[a],r):!r(f,d.values[a]))return d.values[a]=f,1}return 0},reconfigure:(d,h)=>{let f,m=h.config.address[i];if(m!=null){let g=bo(h,m);if(this.dependencies.every(v=>v instanceof te?h.facet(v)===d.facet(v):v instanceof lt?h.field(v,!1)==d.field(v,!1):!0)||(o?wf(f=n(d),g,r):r(f=n(d),g)))return d.values[a]=g,0}else f=n(d);return d.values[a]=f,1}}}}function wf(s,e,t){if(s.length!=e.length)return!1;for(let n=0;n<s.length;n++)if(!t(s[n],e[n]))return!1;return!0}function Xc(s,e){let t=!1;for(let n of e)ci(s,n)&1&&(t=!0);return t}function HR(s,e,t){let n=t.map(l=>s[l.id]),r=t.map(l=>l.type),i=n.filter(l=>!(l&1)),a=s[e.id]>>1;function o(l){let c=[];for(let u=0;u<n.length;u++){let d=bo(l,n[u]);if(r[u]==2)for(let h of d)c.push(h);else c.push(d)}return e.combine(c)}return{create(l){for(let c of n)ci(l,c);return l.values[a]=o(l),1},update(l,c){if(!Xc(l,i))return 0;let u=o(l);return e.compare(u,l.values[a])?0:(l.values[a]=u,1)},reconfigure(l,c){let u=Xc(l,n),d=c.config.facets[e.id],h=c.facet(e);if(d&&!u&&Pd(t,d))return l.values[a]=h,0;let f=o(l);return e.compare(f,h)?(l.values[a]=h,0):(l.values[a]=f,1)}}}const xf=te.define({static:!0});class lt{constructor(e,t,n,r,i){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(e){let t=new lt(Cd++,e.create,e.update,e.compare||((n,r)=>n===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(xf).find(n=>n.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,r)=>{let i=n.values[t],a=this.updateF(i,r);return this.compareF(i,a)?0:(n.values[t]=a,1)},reconfigure:(n,r)=>r.config.address[this.id]!=null?(n.values[t]=r.field(this),0):(n.values[t]=this.create(n),1)}}init(e){return[this,xf.of({field:this,create:e})]}get extension(){return this}}const Cn={lowest:4,low:3,default:2,high:1,highest:0};function Vr(s){return e=>new tb(e,s)}const Un={highest:Vr(Cn.highest),high:Vr(Cn.high),default:Vr(Cn.default),low:Vr(Cn.low),lowest:Vr(Cn.lowest)};class tb{constructor(e,t){this.inner=e,this.prec=t}}class hl{of(e){return new eu(this,e)}reconfigure(e){return hl.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class eu{constructor(e,t){this.compartment=e,this.inner=t}}class vo{constructor(e,t,n,r,i,a){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],i=Object.create(null),a=new Map;for(let h of WR(e,t,a))h instanceof lt?r.push(h):(i[h.facet.id]||(i[h.facet.id]=[])).push(h);let o=Object.create(null),l=[],c=[];for(let h of r)o[h.id]=c.length<<1,c.push(f=>h.slot(f));let u=n==null?void 0:n.config.facets;for(let h in i){let f=i[h],m=f[0].facet,g=u&&u[h]||[];if(f.every(v=>v.type==0))if(o[m.id]=l.length<<1|1,Pd(g,f))l.push(n.facet(m));else{let v=m.combine(f.map(b=>b.value));l.push(n&&m.compare(v,n.facet(m))?n.facet(m):v)}else{for(let v of f)v.type==0?(o[v.id]=l.length<<1|1,l.push(v.value)):(o[v.id]=c.length<<1,c.push(b=>v.dynamicSlot(b)));o[m.id]=c.length<<1,c.push(v=>HR(v,m,f))}}let d=c.map(h=>h(o));return new vo(e,a,d,o,l,i)}}function WR(s,e,t){let n=[[],[],[],[],[]],r=new Map;function i(a,o){let l=r.get(a);if(l!=null){if(l<=o)return;let c=n[l].indexOf(a);c>-1&&n[l].splice(c,1),a instanceof eu&&t.delete(a.compartment)}if(r.set(a,o),Array.isArray(a))for(let c of a)i(c,o);else if(a instanceof eu){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(a.compartment)||a.inner;t.set(a.compartment,c),i(c,o)}else if(a instanceof tb)i(a.inner,a.prec);else if(a instanceof lt)n[o].push(a),a.provides&&i(a.provides,o);else if(a instanceof Ya)n[o].push(a),a.facet.extensions&&i(a.facet.extensions,Cn.default);else{let c=a.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);i(c,o)}}return i(s,Cn.default),n.reduce((a,o)=>a.concat(o))}function ci(s,e){if(e&1)return 2;let t=e>>1,n=s.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;s.status[t]=4;let r=s.computeSlot(s,s.config.dynamicSlots[t]);return s.status[t]=2|r}function bo(s,e){return e&1?s.config.staticValues[e>>1]:s.values[e>>1]}const sb=te.define(),tu=te.define({combine:s=>s.some(e=>e),static:!0}),nb=te.define({combine:s=>s.length?s[0]:void 0,static:!0}),rb=te.define(),ib=te.define(),ab=te.define(),ob=te.define({combine:s=>s.length?s[0]:!1});class Os{constructor(e,t){this.type=e,this.value=t}static define(){return new qR}}class qR{of(e){return new Os(this,e)}}class GR{constructor(e){this.map=e}of(e){return new we(this,e)}}class we{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new we(this.type,t)}is(e){return this.type==e}static define(e={}){return new GR(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let i=r.map(t);i&&n.push(i)}return n}}we.reconfigure=we.define();we.appendConfig=we.define();class at{constructor(e,t,n,r,i,a){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=a,this._doc=null,this._state=null,n&&eb(n,t.newLength),i.some(o=>o.type==at.time)||(this.annotations=i.concat(at.time.of(Date.now())))}static create(e,t,n,r,i,a){return new at(e,t,n,r,i,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(at.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}at.time=Os.define();at.userEvent=Os.define();at.addToHistory=Os.define();at.remote=Os.define();function KR(s,e){let t=[];for(let n=0,r=0;;){let i,a;if(n<s.length&&(r==e.length||e[r]>=s[n]))i=s[n++],a=s[n++];else if(r<e.length)i=e[r++],a=e[r++];else return t;!t.length||t[t.length-1]<i?t.push(i,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function lb(s,e,t){var n;let r,i,a;return t?(r=e.changes,i=it.empty(e.changes.length),a=s.changes.compose(e.changes)):(r=e.changes.map(s.changes),i=s.changes.mapDesc(e.changes,!0),a=s.changes.compose(r)),{changes:a,selection:e.selection?e.selection.map(i):(n=s.selection)===null||n===void 0?void 0:n.map(r),effects:we.mapEffects(s.effects,r).concat(we.mapEffects(e.effects,i)),annotations:s.annotations.length?s.annotations.concat(e.annotations):e.annotations,scrollIntoView:s.scrollIntoView||e.scrollIntoView}}function su(s,e,t){let n=e.selection,r=cr(e.annotations);return e.userEvent&&(r=r.concat(at.userEvent.of(e.userEvent))),{changes:e.changes instanceof it?e.changes:it.of(e.changes||[],t,s.facet(nb)),selection:n&&(n instanceof _?n:_.single(n.anchor,n.head)),effects:cr(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function cb(s,e,t){let n=su(s,e.length?e[0]:{},s.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let i=1;i<e.length;i++){e[i].filter===!1&&(t=!1);let a=!!e[i].sequential;n=lb(n,su(s,e[i],a?n.changes.newLength:s.doc.length),a)}let r=at.create(s,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return QR(t?YR(r):r)}function YR(s){let e=s.startState,t=!0;for(let r of e.facet(rb)){let i=r(s);if(i===!1){t=!1;break}Array.isArray(i)&&(t=t===!0?i:KR(t,i))}if(t!==!0){let r,i;if(t===!1)i=s.changes.invertedDesc,r=it.empty(e.doc.length);else{let a=s.changes.filter(t);r=a.changes,i=a.filtered.mapDesc(a.changes).invertedDesc}s=at.create(e,r,s.selection&&s.selection.map(i),we.mapEffects(s.effects,i),s.annotations,s.scrollIntoView)}let n=e.facet(ib);for(let r=n.length-1;r>=0;r--){let i=n[r](s);i instanceof at?s=i:Array.isArray(i)&&i.length==1&&i[0]instanceof at?s=i[0]:s=cb(e,cr(i),!1)}return s}function QR(s){let e=s.startState,t=e.facet(ab),n=s;for(let r=t.length-1;r>=0;r--){let i=t[r](s);i&&Object.keys(i).length&&(n=lb(n,su(e,i,s.changes.newLength),!0))}return n==s?s:at.create(e,s.changes,s.selection,n.effects,n.annotations,n.scrollIntoView)}const JR=[];function cr(s){return s==null?JR:Array.isArray(s)?s:[s]}var Qe=function(s){return s[s.Word=0]="Word",s[s.Space=1]="Space",s[s.Other=2]="Other",s}(Qe||(Qe={}));const ZR=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let nu;try{nu=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function XR(s){if(nu)return nu.test(s);for(let e=0;e<s.length;e++){let t=s[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||ZR.test(t)))return!0}return!1}function eD(s){return e=>{if(!/\S/.test(e))return Qe.Space;if(XR(e))return Qe.Word;for(let t=0;t<s.length;t++)if(e.indexOf(s[t])>-1)return Qe.Word;return Qe.Other}}class Me{constructor(e,t,n,r,i,a){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=i,a&&(a._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)ci(this,o<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return ci(this,n),bo(this,n)}update(...e){return cb(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:r}=t;for(let o of e.effects)o.is(hl.reconfigure)?(t&&(r=new Map,t.compartments.forEach((l,c)=>r.set(c,l)),t=null),r.set(o.value.compartment,o.value.extension)):o.is(we.reconfigure)?(t=null,n=o.value):o.is(we.appendConfig)&&(t=null,n=cr(n).concat(o.value));let i;t?i=e.startState.values.slice():(t=vo.resolve(n,r,this),i=new Me(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let a=e.startState.facet(tu)?e.newSelection:e.newSelection.asSingle();new Me(t,e.newDoc,a,i,(o,l)=>l.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:_.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],a=cr(n.effects);for(let o=1;o<t.ranges.length;o++){let l=e(t.ranges[o]),c=this.changes(l.changes),u=c.map(r);for(let h=0;h<o;h++)i[h]=i[h].map(u);let d=r.mapDesc(c,!0);i.push(l.range.map(d)),r=r.compose(u),a=we.mapEffects(a,u).concat(we.mapEffects(cr(l.effects),d))}return{changes:r,selection:_.create(i,t.mainIndex),effects:a}}changes(e=[]){return e instanceof it?e:it.of(e,this.doc.length,this.facet(Me.lineSeparator))}toText(e){return De.of(e.split(this.facet(Me.lineSeparator)||Qc))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(ci(this,t),bo(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof lt&&this.config.address[r.id]!=null&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n){for(let i in n)if(Object.prototype.hasOwnProperty.call(e,i)){let a=n[i],o=e[i];r.push(a.init(l=>a.spec.fromJSON(o,l)))}}return Me.create({doc:e.doc,selection:_.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=vo.resolve(e.extensions||[],new Map),n=e.doc instanceof De?e.doc:De.of((e.doc||"").split(t.staticFacet(Me.lineSeparator)||Qc)),r=e.selection?e.selection instanceof _?e.selection:_.single(e.selection.anchor,e.selection.head):_.single(0);return eb(r,n.length),t.staticFacet(tu)||(r=r.asSingle()),new Me(t,n,r,t.dynamicSlots.map(()=>null),(i,a)=>a.create(i),null)}get tabSize(){return this.facet(Me.tabSize)}get lineBreak(){return this.facet(Me.lineSeparator)||`
`}get readOnly(){return this.facet(ob)}phrase(e,...t){for(let n of this.facet(Me.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,r)=>{if(r=="$")return"$";let i=+(r||1);return!i||i>t.length?n:t[i-1]})),e}languageDataAt(e,t,n=-1){let r=[];for(let i of this.facet(sb))for(let a of i(this,t,n))Object.prototype.hasOwnProperty.call(a,e)&&r.push(a[e]);return r}charCategorizer(e){return eD(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),i=this.charCategorizer(e),a=e-n,o=e-n;for(;a>0;){let l=vt(t,a,!1);if(i(t.slice(l,a))!=Qe.Word)break;a=l}for(;o<r;){let l=vt(t,o);if(i(t.slice(o,l))!=Qe.Word)break;o=l}return a==o?null:_.range(a+n,o+n)}}Me.allowMultipleSelections=tu;Me.tabSize=te.define({combine:s=>s.length?s[0]:4});Me.lineSeparator=nb;Me.readOnly=ob;Me.phrases=te.define({compare(s,e){let t=Object.keys(s),n=Object.keys(e);return t.length==n.length&&t.every(r=>s[r]==e[r])}});Me.languageData=sb;Me.changeFilter=rb;Me.transactionFilter=ib;Me.transactionExtender=ab;hl.reconfigure=we.define();function hs(s,e,t={}){let n={};for(let r of s)for(let i of Object.keys(r)){let a=r[i],o=n[i];if(o===void 0)n[i]=a;else if(!(o===a||a===void 0))if(Object.hasOwnProperty.call(t,i))n[i]=t[i](o,a);else throw new Error("Config merge conflict for field "+i)}for(let r in e)n[r]===void 0&&(n[r]=e[r]);return n}class zn{eq(e){return this==e}range(e,t=e){return yi.create(e,t,this)}}zn.prototype.startSide=zn.prototype.endSide=0;zn.prototype.point=!1;zn.prototype.mapMode=At.TrackDel;class yi{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new yi(e,t,n)}}function ru(s,e){return s.from-e.from||s.value.startSide-e.value.startSide}class Ad{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let i=n?this.to:this.from;for(let a=r,o=i.length;;){if(a==o)return a;let l=a+o>>1,c=i[l]-e||(n?this.value[l].endSide:this.value[l].startSide)-t;if(l==a)return c>=0?a:o;c>=0?o=l:a=l+1}}between(e,t,n,r){for(let i=this.findIndex(t,-1e9,!0),a=this.findIndex(n,1e9,!1,i);i<a;i++)if(r(this.from[i]+e,this.to[i]+e,this.value[i])===!1)return!1}map(e,t){let n=[],r=[],i=[],a=-1,o=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,d=this.to[l]+e,h,f;if(u==d){let m=t.mapPos(u,c.startSide,c.mapMode);if(m==null||(h=f=m,c.startSide!=c.endSide&&(f=t.mapPos(u,c.endSide),f<h)))continue}else if(h=t.mapPos(u,c.startSide),f=t.mapPos(d,c.endSide),h>f||h==f&&c.startSide>0&&c.endSide<=0)continue;(f-h||c.endSide-c.startSide)<0||(a<0&&(a=h),c.point&&(o=Math.max(o,f-h)),n.push(c),r.push(h-a),i.push(f-a))}return{mapped:n.length?new Ad(r,i,n,o):null,pos:a}}}class Ne{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new Ne(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=e,a=e.filter;if(t.length==0&&!a)return this;if(n&&(t=t.slice().sort(ru)),this.isEmpty)return t.length?Ne.of(t):this;let o=new ub(this,null,-1).goto(0),l=0,c=[],u=new _s;for(;o.value||l<t.length;)if(l<t.length&&(o.from-t[l].from||o.startSide-t[l].value.startSide)>=0){let d=t[l++];u.addInner(d.from,d.to,d.value)||c.push(d)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(o.chunkIndex)<t[l].from)&&(!a||r>this.chunkEnd(o.chunkIndex)||i<this.chunkPos[o.chunkIndex])&&u.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!a||r>o.to||i<o.from||a(o.from,o.to,o.value))&&(u.addInner(o.from,o.to,o.value)||c.push(yi.create(o.from,o.to,o.value))),o.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?Ne.empty:this.nextLayer.update({add:c,filter:a,filterFrom:r,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let a=0;a<this.chunk.length;a++){let o=this.chunkPos[a],l=this.chunk[a],c=e.touchesRange(o,o+l.length);if(c===!1)r=Math.max(r,l.maxPoint),t.push(l),n.push(e.mapPos(o));else if(c===!0){let{mapped:u,pos:d}=l.map(o,e);u&&(r=Math.max(r,u.maxPoint),t.push(u),n.push(d))}}let i=this.nextLayer.map(e);return t.length==0?i:new Ne(n,t,i||Ne.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],a=this.chunk[r];if(t>=i&&e<=i+a.length&&a.between(i,e-i,t-i,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return wi.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return wi.from(e).goto(t)}static compare(e,t,n,r,i=-1){let a=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=i),o=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=i),l=Sf(a,o,n),c=new Ur(a,l,i),u=new Ur(o,l,i);n.iterGaps((d,h,f)=>kf(c,d,u,h,f,r)),n.empty&&n.length==0&&kf(c,0,u,0,0,r)}static eq(e,t,n=0,r){r==null&&(r=999999999);let i=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),a=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(i.length!=a.length)return!1;if(!i.length)return!0;let o=Sf(i,a),l=new Ur(i,o,0).goto(n),c=new Ur(a,o,0).goto(n);for(;;){if(l.to!=c.to||!iu(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>r)return!0;l.next(),c.next()}}static spans(e,t,n,r,i=-1){let a=new Ur(e,null,i).goto(t),o=t,l=a.openStart;for(;;){let c=Math.min(a.to,n);if(a.point){let u=a.activeForPoint(a.to),d=a.pointFrom<t?u.length+1:a.point.startSide<0?u.length:Math.min(u.length,l);r.point(o,c,a.point,u,d,a.pointRank),l=Math.min(a.openEnd(c),u.length)}else c>o&&(r.span(o,c,a.active,l),l=a.openEnd(c));if(a.to>n)return l+(a.point&&a.to>n?1:0);o=a.to,a.next()}}static of(e,t=!1){let n=new _s;for(let r of e instanceof yi?[e]:t?tD(e):e)n.add(r.from,r.to,r.value);return n.finish()}static join(e){if(!e.length)return Ne.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let r=e[n];r!=Ne.empty;r=r.nextLayer)t=new Ne(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}Ne.empty=new Ne([],[],null,-1);function tD(s){if(s.length>1)for(let e=s[0],t=1;t<s.length;t++){let n=s[t];if(ru(e,n)>0)return s.slice().sort(ru);e=n}return s}Ne.empty.nextLayer=Ne.empty;class _s{finishChunk(e){this.chunks.push(new Ad(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new _s)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Ne.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ne.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Sf(s,e,t){let n=new Map;for(let i of s)for(let a=0;a<i.chunk.length;a++)i.chunk[a].maxPoint<=0&&n.set(i.chunk[a],i.chunkPos[a]);let r=new Set;for(let i of e)for(let a=0;a<i.chunk.length;a++){let o=n.get(i.chunk[a]);o!=null&&(t?t.mapPos(o):o)==i.chunkPos[a]&&!(t!=null&&t.touchesRange(o,o+i.chunk[a].length))&&r.add(i.chunk[a])}return r}class ub{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class wi{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let i=0;i<e.length;i++)for(let a=e[i];!a.isEmpty;a=a.nextLayer)a.maxPoint>=n&&r.push(new ub(a,t,n,i));return r.length==1?r[0]:new wi(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)Zl(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)Zl(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Zl(this.heap,0)}}}function Zl(s,e){for(let t=s[e];;){let n=(e<<1)+1;if(n>=s.length)break;let r=s[n];if(n+1<s.length&&r.compare(s[n+1])>=0&&(r=s[n+1],n++),t.compare(r)<0)break;s[n]=t,s[e]=r,e=n}}class Ur{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=wi.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){ba(this.active,e),ba(this.activeTo,e),ba(this.activeRank,e),this.minActive=Cf(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:i}=this.cursor;for(;t<this.activeRank.length&&(i-this.activeRank[t]||r-this.activeTo[t])>0;)t++;ya(this.active,t,n),ya(this.activeTo,t,r),ya(this.activeRank,t,i),e&&ya(e,t,this.cursor.from),this.minActive=Cf(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&ba(n,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let i=this.cursor.value;if(!i.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let r=n.length-1;r>=0&&n[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function kf(s,e,t,n,r,i){s.goto(e),t.goto(n);let a=n+r,o=n,l=n-e;for(;;){let c=s.to+l-t.to||s.endSide-t.endSide,u=c<0?s.to+l:t.to,d=Math.min(u,a);if(s.point||t.point?s.point&&t.point&&(s.point==t.point||s.point.eq(t.point))&&iu(s.activeForPoint(s.to),t.activeForPoint(t.to))||i.comparePoint(o,d,s.point,t.point):d>o&&!iu(s.active,t.active)&&i.compareRange(o,d,s.active,t.active),u>a)break;o=u,c<=0&&s.next(),c>=0&&t.next()}}function iu(s,e){if(s.length!=e.length)return!1;for(let t=0;t<s.length;t++)if(s[t]!=e[t]&&!s[t].eq(e[t]))return!1;return!0}function ba(s,e){for(let t=e,n=s.length-1;t<n;t++)s[t]=s[t+1];s.pop()}function ya(s,e,t){for(let n=s.length-1;n>=e;n--)s[n+1]=s[n];s[e]=t}function Cf(s,e){let t=-1,n=1e9;for(let r=0;r<e.length;r++)(e[r]-n||s[r].endSide-s[t].endSide)<0&&(t=r,n=e[r]);return t}function Nr(s,e,t=s.length){let n=0;for(let r=0;r<t;)s.charCodeAt(r)==9?(n+=e-n%e,r++):(n++,r=vt(s,r));return n}function au(s,e,t,n){for(let r=0,i=0;;){if(i>=e)return r;if(r==s.length)break;i+=s.charCodeAt(r)==9?t-i%t:1,r=vt(s,r)}return n===!0?-1:s.length}const ou="ͼ",Pf=typeof Symbol>"u"?"__"+ou:Symbol.for(ou),lu=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class fn{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function i(a,o,l,c){let u=[],d=/^@(\w+)\b/.exec(a[0]),h=d&&d[1]=="keyframes";if(d&&o==null)return l.push(a[0]+";");for(let f in o){let m=o[f];if(/&/.test(f))i(f.split(/,\s*/).map(g=>a.map(v=>g.replace(/&/,v))).reduce((g,v)=>g.concat(v)),m,l);else if(m&&typeof m=="object"){if(!d)throw new RangeError("The value of a property ("+f+") should be a primitive value.");i(r(f),m,u,h)}else m!=null&&u.push(f.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+m+";")}(u.length||h)&&l.push((n&&!d&&!c?a.map(n):a).join(", ")+" {"+u.join(" ")+"}")}for(let a in e)i(r(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Af[Pf]||1;return Af[Pf]=e+1,ou+e.toString(36)}static mount(e,t,n){let r=e[lu],i=n&&n.nonce;r?i&&r.setNonce(i):r=new sD(e,i),r.mount(Array.isArray(t)?t:[t],e)}}let Tf=new Map;class sD{constructor(e,t){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let i=Tf.get(n);if(i)return e[lu]=i;this.sheet=new r.CSSStyleSheet,Tf.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[lu]=this}mount(e,t){let n=this.sheet,r=0,i=0;for(let a=0;a<e.length;a++){let o=e[a],l=this.modules.indexOf(o);if(l<i&&l>-1&&(this.modules.splice(l,1),i--,l=-1),l==-1){if(this.modules.splice(i++,0,o),n)for(let c=0;c<o.rules.length;c++)n.insertRule(o.rules[c],r++)}else{for(;i<l;)r+=this.modules[i++].rules.length;r+=o.rules.length,i++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let a="";for(let l=0;l<this.modules.length;l++)a+=this.modules[l].getRules()+`
`;this.styleTag.textContent=a;let o=t.head||t;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var pn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},xi={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nD=typeof navigator<"u"&&/Mac/.test(navigator.platform),rD=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var gt=0;gt<10;gt++)pn[48+gt]=pn[96+gt]=String(gt);for(var gt=1;gt<=24;gt++)pn[gt+111]="F"+gt;for(var gt=65;gt<=90;gt++)pn[gt]=String.fromCharCode(gt+32),xi[gt]=String.fromCharCode(gt);for(var Xl in pn)xi.hasOwnProperty(Xl)||(xi[Xl]=pn[Xl]);function iD(s){var e=nD&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||rD&&s.shiftKey&&s.key&&s.key.length==1||s.key=="Unidentified",t=!e&&s.key||(s.shiftKey?xi:pn)[s.keyCode]||s.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Si(s){let e;return s.nodeType==11?e=s.getSelection?s:s.ownerDocument:e=s,e.getSelection()}function cu(s,e){return e?s==e||s.contains(e.nodeType!=1?e.parentNode:e):!1}function Qa(s,e){if(!e.anchorNode)return!1;try{return cu(s,e.anchorNode)}catch{return!1}}function gr(s){return s.nodeType==3?Bn(s,0,s.nodeValue.length).getClientRects():s.nodeType==1?s.getClientRects():[]}function ui(s,e,t,n){return t?Ef(s,e,t,n,-1)||Ef(s,e,t,n,1):!1}function Ln(s){for(var e=0;;e++)if(s=s.previousSibling,!s)return e}function yo(s){return s.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(s.nodeName)}function Ef(s,e,t,n,r){for(;;){if(s==t&&e==n)return!0;if(e==(r<0?0:Rs(s))){if(s.nodeName=="DIV")return!1;let i=s.parentNode;if(!i||i.nodeType!=1)return!1;e=Ln(s)+(r<0?0:1),s=i}else if(s.nodeType==1){if(s=s.childNodes[e+(r<0?-1:0)],s.nodeType==1&&s.contentEditable=="false")return!1;e=r<0?Rs(s):0}else return!1}}function Rs(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function Fi(s,e){let t=e?s.left:s.right;return{left:t,right:t,top:s.top,bottom:s.bottom}}function aD(s){let e=s.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:s.innerWidth,top:0,bottom:s.innerHeight}}function db(s,e){let t=e.width/s.offsetWidth,n=e.height/s.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-s.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-s.offsetHeight)<1)&&(n=1),{scaleX:t,scaleY:n}}function oD(s,e,t,n,r,i,a,o){let l=s.ownerDocument,c=l.defaultView||window;for(let u=s,d=!1;u&&!d;)if(u.nodeType==1){let h,f=u==l.body,m=1,g=1;if(f)h=aD(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let C=u.getBoundingClientRect();({scaleX:m,scaleY:g}=db(u,C)),h={left:C.left,right:C.left+u.clientWidth*m,top:C.top,bottom:C.top+u.clientHeight*g}}let v=0,b=0;if(r=="nearest")e.top<h.top?(b=-(h.top-e.top+a),t>0&&e.bottom>h.bottom+b&&(b=e.bottom-h.bottom+b+a)):e.bottom>h.bottom&&(b=e.bottom-h.bottom+a,t<0&&e.top-b<h.top&&(b=-(h.top+b-e.top+a)));else{let C=e.bottom-e.top,A=h.bottom-h.top;b=(r=="center"&&C<=A?e.top+C/2-A/2:r=="start"||r=="center"&&t<0?e.top-a:e.bottom-A+a)-h.top}if(n=="nearest"?e.left<h.left?(v=-(h.left-e.left+i),t>0&&e.right>h.right+v&&(v=e.right-h.right+v+i)):e.right>h.right&&(v=e.right-h.right+i,t<0&&e.left<h.left+v&&(v=-(h.left+v-e.left+i))):v=(n=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:n=="start"==o?e.left-i:e.right-(h.right-h.left)+i)-h.left,v||b)if(f)c.scrollBy(v,b);else{let C=0,A=0;if(b){let E=u.scrollTop;u.scrollTop+=b/g,A=(u.scrollTop-E)*g}if(v){let E=u.scrollLeft;u.scrollLeft+=v/m,C=(u.scrollLeft-E)*m}e={left:e.left-C,top:e.top-A,right:e.right-C,bottom:e.bottom-A},C&&Math.abs(C-v)<1&&(n="nearest"),A&&Math.abs(A-b)<1&&(r="nearest")}if(f)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function lD(s){let e=s.ownerDocument,t,n;for(let r=s.parentNode;r&&!(r==e.body||t&&n);)if(r.nodeType==1)!n&&r.scrollHeight>r.clientHeight&&(n=r),!t&&r.scrollWidth>r.clientWidth&&(t=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:t,y:n}}class cD{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?Rs(t):0),n,Math.min(e.focusOffset,n?Rs(n):0))}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let Jn=null;function hb(s){if(s.setActive)return s.setActive();if(Jn)return s.focus(Jn);let e=[];for(let t=s;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(s.focus(Jn==null?{get preventScroll(){return Jn={preventScroll:!0},!0}}:void 0),!Jn){Jn=!1;for(let t=0;t<e.length;){let n=e[t++],r=e[t++],i=e[t++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}let Mf;function Bn(s,e,t=e){let n=Mf||(Mf=document.createRange());return n.setEnd(s,t),n.setStart(s,e),n}function ur(s,e,t,n){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0};n&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=n);let i=new KeyboardEvent("keydown",r);i.synthetic=!0,s.dispatchEvent(i);let a=new KeyboardEvent("keyup",r);return a.synthetic=!0,s.dispatchEvent(a),i.defaultPrevented||a.defaultPrevented}function uD(s){for(;s;){if(s&&(s.nodeType==9||s.nodeType==11&&s.host))return s;s=s.assignedSlot||s.parentNode}return null}function fb(s){for(;s.attributes.length;)s.removeAttributeNode(s.attributes[0])}function dD(s,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,Rs(t));;)if(n){if(t.nodeType!=1)return!1;let r=t.childNodes[n-1];r.contentEditable=="false"?n--:(t=r,n=Rs(t))}else{if(t==s)return!0;n=Ln(t),t=t.parentNode}}function pb(s){return s.scrollTop>Math.max(1,s.scrollHeight-s.clientHeight-4)}function mb(s,e){for(let t=s,n=e;;){if(t.nodeType==3&&n>0)return{node:t,offset:n};if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=Rs(t)}else if(t.parentNode&&!yo(t))n=Ln(t),t=t.parentNode;else return null}}function gb(s,e){for(let t=s,n=e;;){if(t.nodeType==3&&n<t.nodeValue.length)return{node:t,offset:n};if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!yo(t))n=Ln(t)+1,t=t.parentNode;else return null}}class St{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new St(e.parentNode,Ln(e),t)}static after(e,t){return new St(e.parentNode,Ln(e)+1,t)}}const Td=[];class $e{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let n=this.dom,r=null,i;for(let a of this.children){if(a.flags&7){if(!a.dom&&(i=r?r.nextSibling:n.firstChild)){let o=$e.get(i);(!o||!o.parent&&o.canReuseDOM(a))&&a.reuseDOM(i)}a.sync(e,t),a.flags&=-8}if(i=r?r.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&i!=a.dom&&(t.written=!0),a.dom.parentNode==n)for(;i&&i!=a.dom;)i=Nf(i);else n.insertBefore(a.dom,i);r=a.dom}for(i=r?r.nextSibling:n.firstChild,i&&t&&t.node==n&&(t.written=!0);i;)i=Nf(i)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=Rs(e)==0?0:t==0?-1:1;for(;;){let i=e.parentNode;if(i==this.dom)break;r==0&&i.firstChild!=i.lastChild&&(e==i.firstChild?r=-1:r=1),e=i}r<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!$e.get(n);)n=n.nextSibling;if(!n)return this.length;for(let r=0,i=0;;r++){let a=this.children[r];if(a.dom==n)return i;i+=a.length+a.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,i=-1,a=-1,o=-1;for(let l=0,c=n,u=n;l<this.children.length;l++){let d=this.children[l],h=c+d.length;if(c<e&&h>t)return d.domBoundsAround(e,t,c);if(h>=e&&r==-1&&(r=l,i=c),c>t&&d.dom.parentNode==this.dom){a=l,o=u;break}u=h,c=h+d.breakAfter}return{from:i,to:o<0?n+this.length:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=Td){this.markDirty();for(let r=e;r<t;r++){let i=this.children[r];i.parent==this&&n.indexOf(i)<0&&i.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let r=0;r<n.length;r++)n[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new vb(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,r,i,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}$e.prototype.breakAfter=0;function Nf(s){let e=s.nextSibling;return s.parentNode.removeChild(s),e}class vb{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function bb(s,e,t,n,r,i,a,o,l){let{children:c}=s,u=c.length?c[e]:null,d=i.length?i[i.length-1]:null,h=d?d.breakAfter:a;if(!(e==n&&u&&!a&&!h&&i.length<2&&u.merge(t,r,i.length?d:null,t==0,o,l))){if(n<c.length){let f=c[n];f&&(r<f.length||f.breakAfter&&(d!=null&&d.breakAfter))?(e==n&&(f=f.split(r),r=0),!h&&d&&f.merge(0,r,d,!0,0,l)?i[i.length-1]=f:((r||f.children.length&&!f.children[0].length)&&f.merge(0,r,null,!1,0,l),i.push(f))):f!=null&&f.breakAfter&&(d?d.breakAfter=1:a=1),n++}for(u&&(u.breakAfter=a,t>0&&(!a&&i.length&&u.merge(t,u.length,i[0],!1,o,0)?u.breakAfter=i.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,o,0),e++));e<n&&i.length;)if(c[n-1].become(i[i.length-1]))n--,i.pop(),l=i.length?0:o;else if(c[e].become(i[0]))e++,i.shift(),o=i.length?0:l;else break;!i.length&&e&&n<c.length&&!c[e-1].breakAfter&&c[n].merge(0,0,c[e-1],!1,o,l)&&e--,(e<n||i.length)&&s.replaceChildren(e,n,i)}}function yb(s,e,t,n,r,i){let a=s.childCursor(),{i:o,off:l}=a.findPos(t,1),{i:c,off:u}=a.findPos(e,-1),d=e-t;for(let h of n)d+=h.length;s.length+=d,bb(s,c,u,o,l,n,0,r,i)}let Ot=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},uu=typeof document<"u"?document:{documentElement:{style:{}}};const du=/Edge\/(\d+)/.exec(Ot.userAgent),wb=/MSIE \d/.test(Ot.userAgent),hu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ot.userAgent),fl=!!(wb||hu||du),Rf=!fl&&/gecko\/(\d+)/i.test(Ot.userAgent),ec=!fl&&/Chrome\/(\d+)/.exec(Ot.userAgent),Df="webkitFontSmoothing"in uu.documentElement.style,xb=!fl&&/Apple Computer/.test(Ot.vendor),Of=xb&&(/Mobile\/\w+/.test(Ot.userAgent)||Ot.maxTouchPoints>2);var se={mac:Of||/Mac/.test(Ot.platform),windows:/Win/.test(Ot.platform),linux:/Linux|X11/.test(Ot.platform),ie:fl,ie_version:wb?uu.documentMode||6:hu?+hu[1]:du?+du[1]:0,gecko:Rf,gecko_version:Rf?+(/Firefox\/(\d+)/.exec(Ot.userAgent)||[0,0])[1]:0,chrome:!!ec,chrome_version:ec?+ec[1]:0,ios:Of,android:/Android\b/.test(Ot.userAgent),webkit:Df,safari:xb,webkit_version:Df?+(/\bAppleWebKit\/(\d+)/.exec(Ot.userAgent)||[0,0])[1]:0,tabSize:uu.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const hD=256;class ls extends $e{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return this.flags&8||n&&(!(n instanceof ls)||this.length-(t-e)+n.length>hD||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new ls(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new St(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return fD(this.dom,e,t)}}class Fs extends $e{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let r of t)r.setParent(this)}setAttrs(e){if(fb(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,r,i,a){return n&&(!(n instanceof Fs&&n.mark.eq(this.mark))||e&&i<=0||t<this.length&&a<=0)?!1:(yb(this,e,t,n?n.children.slice():[],i-1,a-1),this.markDirty(),!0)}split(e){let t=[],n=0,r=-1,i=0;for(let o of this.children){let l=n+o.length;l>e&&t.push(n<e?o.split(e-n):o),r<0&&n>=e&&(r=i),n=l,i++}let a=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Fs(this.mark,t,a)}domAtPos(e){return Sb(this,e)}coordsAt(e,t){return Cb(this,e,t)}}function fD(s,e,t){let n=s.nodeValue.length;e>n&&(e=n);let r=e,i=e,a=0;e==0&&t<0||e==n&&t>=0?se.chrome||se.gecko||(e?(r--,a=1):i<n&&(i++,a=-1)):t<0?r--:i<n&&i++;let o=Bn(s,r,i).getClientRects();if(!o.length)return null;let l=o[(a?a<0:t>=0)?0:o.length-1];return se.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(o,c=>c.width)||l),a?Fi(l,a<0):l||null}class an extends $e{static create(e,t,n){return new an(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=an.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,r,i,a){return n&&(!(n instanceof an)||!this.widget.compare(n.widget)||e>0&&i<=0||t<this.length&&a<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof an&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return De.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):De.empty}domAtPos(e){return(this.length?e==0:this.side>0)?St.before(this.dom):St.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let r=this.dom.getClientRects(),i=null;if(!r.length)return null;let a=this.side?this.side<0:e>0;for(let o=a?r.length-1:0;i=r[o],!(e>0?o==0:o==r.length-1||i.top<i.bottom);o+=a?-1:1);return Fi(i,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class vr extends $e{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof vr&&e.side==this.side}split(){return new vr(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?St.before(this.dom):St.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return De.empty}get isHidden(){return!0}}ls.prototype.children=an.prototype.children=vr.prototype.children=Td;function Sb(s,e){let t=s.dom,{children:n}=s,r=0;for(let i=0;r<n.length;r++){let a=n[r],o=i+a.length;if(!(o==i&&a.getSide()<=0)){if(e>i&&e<o&&a.dom.parentNode==t)return a.domAtPos(e-i);if(e<=i)break;i=o}}for(let i=r;i>0;i--){let a=n[i-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let i=r;i<n.length;i++){let a=n[i];if(a.dom.parentNode==t)return a.domAtPos(0)}return new St(t,0)}function kb(s,e,t){let n,{children:r}=s;t>0&&e instanceof Fs&&r.length&&(n=r[r.length-1])instanceof Fs&&n.mark.eq(e.mark)?kb(n,e.children[0],t-1):(r.push(e),e.setParent(s)),s.length+=e.length}function Cb(s,e,t){let n=null,r=-1,i=null,a=-1;function o(c,u){for(let d=0,h=0;d<c.children.length&&h<=u;d++){let f=c.children[d],m=h+f.length;m>=u&&(f.children.length?o(f,u-h):(!i||i.isHidden&&t>0)&&(m>u||h==m&&f.getSide()>0)?(i=f,a=u-h):(h<u||h==m&&f.getSide()<0&&!f.isHidden)&&(n=f,r=u-h)),h=m}}o(s,e);let l=(t<0?n:i)||n||i;return l?l.coordsAt(Math.max(0,l==n?r:a),t):pD(s)}function pD(s){let e=s.dom.lastChild;if(!e)return s.dom.getBoundingClientRect();let t=gr(e);return t[t.length-1]||null}function fu(s,e){for(let t in s)t=="class"&&e.class?e.class+=" "+s.class:t=="style"&&e.style?e.style+=";"+s.style:e[t]=s[t];return e}const zf=Object.create(null);function wo(s,e,t){if(s==e)return!0;s||(s=zf),e||(e=zf);let n=Object.keys(s),r=Object.keys(e);if(n.length-(t&&n.indexOf(t)>-1?1:0)!=r.length-(t&&r.indexOf(t)>-1?1:0))return!1;for(let i of n)if(i!=t&&(r.indexOf(i)==-1||s[i]!==e[i]))return!1;return!0}function pu(s,e,t){let n=!1;if(e)for(let r in e)t&&r in t||(n=!0,r=="style"?s.style.cssText="":s.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(n=!0,r=="style"?s.style.cssText=t[r]:s.setAttribute(r,t[r]));return n}function mD(s){let e=Object.create(null);for(let t=0;t<s.attributes.length;t++){let n=s.attributes[t];e[n.name]=n.value}return e}class Hs{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Et=function(s){return s[s.Text=0]="Text",s[s.WidgetBefore=1]="WidgetBefore",s[s.WidgetAfter=2]="WidgetAfter",s[s.WidgetRange=3]="WidgetRange",s}(Et||(Et={}));class me extends zn{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Vi(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new mn(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,r;if(e.isBlockGap)n=-5e8,r=4e8;else{let{start:i,end:a}=Pb(e,t);n=(i?t?-3e8:-1:5e8)-1,r=(a?t?2e8:1:-6e8)+1}return new mn(e,n,r,t,e.widget||null,!0)}static line(e){return new Ui(e)}static set(e,t=!1){return Ne.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}me.none=Ne.empty;class Vi extends me{constructor(e){let{start:t,end:n}=Pb(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof Vi&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&wo(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Vi.prototype.point=!1;class Ui extends me{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ui&&this.spec.class==e.spec.class&&wo(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Ui.prototype.mapMode=At.TrackBefore;Ui.prototype.point=!0;class mn extends me{constructor(e,t,n,r,i,a){super(t,n,i,e),this.block=r,this.isReplace=a,this.mapMode=r?t<=0?At.TrackBefore:At.TrackAfter:At.TrackDel}get type(){return this.startSide!=this.endSide?Et.WidgetRange:this.startSide<=0?Et.WidgetBefore:Et.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof mn&&gD(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}mn.prototype.point=!0;function Pb(s,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=s;return t==null&&(t=s.inclusive),n==null&&(n=s.inclusive),{start:t??e,end:n??e}}function gD(s,e){return s==e||!!(s&&e&&s.compare(e))}function mu(s,e,t,n=0){let r=t.length-1;r>=0&&t[r]+n>=s?t[r]=Math.max(t[r],e):t.push(s,e)}class st extends $e{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,i,a){if(n){if(!(n instanceof st))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),yb(this,e,t,n?n.children.slice():[],i,a),!0}split(e){let t=new st;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let i=n;i<this.children.length;i++)t.append(this.children[i],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){wo(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){kb(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=fu(t,this.attrs||{})),n&&(this.attrs=fu({class:n},this.attrs||{}))}domAtPos(e){return Sb(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?this.flags&4&&(fb(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(pu(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&$e.get(r)instanceof Fs;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((n=$e.get(r))===null||n===void 0?void 0:n.isEditable)==!1&&(!se.ios||!this.children.some(i=>i instanceof ls))){let i=document.createElement("BR");i.cmIgnore=!0,this.dom.appendChild(i)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let n of this.children){if(!(n instanceof ls)||/[^ -~]/.test(n.text))return null;let r=gr(n.dom);if(r.length!=1)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let n=Cb(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:r}=this.parent.view.viewState,i=n.bottom-n.top;if(Math.abs(i-r.lineHeight)<2&&r.textHeight<i){let a=(i-r.textHeight)/2;return{top:n.top+a,bottom:n.bottom-a,left:n.left,right:n.left}}}return n}become(e){return e instanceof st&&this.children.length==0&&e.children.length==0&&wo(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let i=e.children[n],a=r+i.length;if(a>=t){if(i instanceof st)return i;if(a>t)break}r=a+i.breakAfter}return null}}class $s extends $e{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,i,a){return n&&(!(n instanceof $s)||!this.widget.compare(n.widget)||e>0&&i<=0||t<this.length&&a<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?St.before(this.dom):St.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new $s(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return Td}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):De.empty}domBoundsAround(){return null}become(e){return e instanceof $s&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);return n||(this.widget instanceof gu?null:Fi(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t==n?!1:e<0?t<0:n>0}}class gu extends Hs{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class di{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof $s&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new st),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wa(new vr(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof $s)&&this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:i,lineBreak:a,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=i,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(wa(new ls(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,i,a){if(this.disallowBlockEffectsFor[a]&&n instanceof mn){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(n instanceof mn)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new $s(n.widget||br.block,o,n));else{let l=an.create(n.widget||br.inline,o,o?0:n.startSide),c=this.atCursorPos&&!l.isEditable&&i<=r.length&&(e<t||n.startSide>0),u=!l.isEditable&&(e<t||i>r.length||n.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(d.append(wa(new vr(1),r),i),i=r.length+Math.max(0,i-r.length)),d.append(wa(l,r),i),this.atCursorPos=u,this.pendingBuffer=u?e<t||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}static build(e,t,n,r,i){let a=new di(e,t,n,i);return a.openEnd=Ne.spans(r,t,n,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function wa(s,e){for(let t of e)s=new Fs(t,[s],s.length);return s}class br extends Hs{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}br.inline=new br("span");br.block=new br("div");var qe=function(s){return s[s.LTR=0]="LTR",s[s.RTL=1]="RTL",s}(qe||(qe={}));const jn=qe.LTR,Ed=qe.RTL;function Ab(s){let e=[];for(let t=0;t<s.length;t++)e.push(1<<+s[t]);return e}const vD=Ab("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),bD=Ab("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),vu=Object.create(null),ws=[];for(let s of["()","[]","{}"]){let e=s.charCodeAt(0),t=s.charCodeAt(1);vu[e]=t,vu[t]=-e}function Tb(s){return s<=247?vD[s]:1424<=s&&s<=1524?2:1536<=s&&s<=1785?bD[s-1536]:1774<=s&&s<=2220?4:8192<=s&&s<=8204?256:64336<=s&&s<=65023?4:1}const yD=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class on{get dir(){return this.level%2?Ed:jn}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,r){let i=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.from<=t&&o.to>=t){if(o.level==n)return a;(i<0||(r!=0?r<0?o.from<t:o.to>t:e[i].level>o.level))&&(i=a)}}if(i<0)throw new RangeError("Index out of range");return i}}function Eb(s,e){if(s.length!=e.length)return!1;for(let t=0;t<s.length;t++){let n=s[t],r=e[t];if(n.from!=r.from||n.to!=r.to||n.direction!=r.direction||!Eb(n.inner,r.inner))return!1}return!0}const Ie=[];function wD(s,e,t,n,r){for(let i=0;i<=n.length;i++){let a=i?n[i-1].to:e,o=i<n.length?n[i].from:t,l=i?256:r;for(let c=a,u=l,d=l;c<o;c++){let h=Tb(s.charCodeAt(c));h==512?h=u:h==8&&d==4&&(h=16),Ie[c]=h==4?2:h,h&7&&(d=h),u=h}for(let c=a,u=l,d=l;c<o;c++){let h=Ie[c];if(h==128)c<o-1&&u==Ie[c+1]&&u&24?h=Ie[c]=u:Ie[c]=256;else if(h==64){let f=c+1;for(;f<o&&Ie[f]==64;)f++;let m=c&&u==8||f<t&&Ie[f]==8?d==1?1:8:256;for(let g=c;g<f;g++)Ie[g]=m;c=f-1}else h==8&&d==1&&(Ie[c]=1);u=h,h&7&&(d=h)}}}function xD(s,e,t,n,r){let i=r==1?2:1;for(let a=0,o=0,l=0;a<=n.length;a++){let c=a?n[a-1].to:e,u=a<n.length?n[a].from:t;for(let d=c,h,f,m;d<u;d++)if(f=vu[h=s.charCodeAt(d)])if(f<0){for(let g=o-3;g>=0;g-=3)if(ws[g+1]==-f){let v=ws[g+2],b=v&2?r:v&4?v&1?i:r:0;b&&(Ie[d]=Ie[ws[g]]=b),o=g;break}}else{if(ws.length==189)break;ws[o++]=d,ws[o++]=h,ws[o++]=l}else if((m=Ie[d])==2||m==1){let g=m==r;l=g?0:1;for(let v=o-3;v>=0;v-=3){let b=ws[v+2];if(b&2)break;if(g)ws[v+2]|=2;else{if(b&4)break;ws[v+2]|=4}}}}}function SD(s,e,t,n){for(let r=0,i=n;r<=t.length;r++){let a=r?t[r-1].to:s,o=r<t.length?t[r].from:e;for(let l=a;l<o;){let c=Ie[l];if(c==256){let u=l+1;for(;;)if(u==o){if(r==t.length)break;u=t[r++].to,o=r<t.length?t[r].from:e}else if(Ie[u]==256)u++;else break;let d=i==1,h=(u<e?Ie[u]:n)==1,f=d==h?d?1:2:n;for(let m=u,g=r,v=g?t[g-1].to:s;m>l;)m==v&&(m=t[--g].from,v=g?t[g-1].to:s),Ie[--m]=f;l=u}else i=c,l++}}}function bu(s,e,t,n,r,i,a){let o=n%2?2:1;if(n%2==r%2)for(let l=e,c=0;l<t;){let u=!0,d=!1;if(c==i.length||l<i[c].from){let g=Ie[l];g!=o&&(u=!1,d=g==16)}let h=!u&&o==1?[]:null,f=u?n:n+1,m=l;e:for(;;)if(c<i.length&&m==i[c].from){if(d)break e;let g=i[c];if(!u)for(let v=g.to,b=c+1;;){if(v==t)break e;if(b<i.length&&i[b].from==v)v=i[b++].to;else{if(Ie[v]==o)break e;break}}if(c++,h)h.push(g);else{g.from>l&&a.push(new on(l,g.from,f));let v=g.direction==jn!=!(f%2);yu(s,v?n+1:n,r,g.inner,g.from,g.to,a),l=g.to}m=g.to}else{if(m==t||(u?Ie[m]!=o:Ie[m]==o))break;m++}h?bu(s,l,m,n+1,r,h,a):l<m&&a.push(new on(l,m,f)),l=m}else for(let l=t,c=i.length;l>e;){let u=!0,d=!1;if(!c||l>i[c-1].to){let g=Ie[l-1];g!=o&&(u=!1,d=g==16)}let h=!u&&o==1?[]:null,f=u?n:n+1,m=l;e:for(;;)if(c&&m==i[c-1].to){if(d)break e;let g=i[--c];if(!u)for(let v=g.from,b=c;;){if(v==e)break e;if(b&&i[b-1].to==v)v=i[--b].from;else{if(Ie[v-1]==o)break e;break}}if(h)h.push(g);else{g.to<l&&a.push(new on(g.to,l,f));let v=g.direction==jn!=!(f%2);yu(s,v?n+1:n,r,g.inner,g.from,g.to,a),l=g.from}m=g.from}else{if(m==e||(u?Ie[m-1]!=o:Ie[m-1]==o))break;m--}h?bu(s,m,l,n+1,r,h,a):m<l&&a.push(new on(m,l,f)),l=m}}function yu(s,e,t,n,r,i,a){let o=e%2?2:1;wD(s,r,i,n,o),xD(s,r,i,n,o),SD(r,i,n,o),bu(s,r,i,e,t,n,a)}function kD(s,e,t){if(!s)return[new on(0,0,e==Ed?1:0)];if(e==jn&&!t.length&&!yD.test(s))return Mb(s.length);if(t.length)for(;s.length>Ie.length;)Ie[Ie.length]=256;let n=[],r=e==jn?0:1;return yu(s,r,r,t,0,s.length,n),n}function Mb(s){return[new on(0,s,0)]}let Nb="";function CD(s,e,t,n,r){var i;let a=n.head-s.from,o=on.find(e,a,(i=n.bidiLevel)!==null&&i!==void 0?i:-1,n.assoc),l=e[o],c=l.side(r,t);if(a==c){let h=o+=r?1:-1;if(h<0||h>=e.length)return null;l=e[o=h],a=l.side(!r,t),c=l.side(r,t)}let u=vt(s.text,a,l.forward(r,t));(u<l.from||u>l.to)&&(u=c),Nb=s.text.slice(Math.min(a,u),Math.max(a,u));let d=o==(r?e.length-1:0)?null:e[o+(r?1:-1)];return d&&u==c&&d.level+(r?0:1)<l.level?_.cursor(d.side(!r,t)+s.from,d.forward(r,t)?1:-1,d.level):_.cursor(u+s.from,l.forward(r,t)?-1:1,l.level)}function PD(s,e,t){for(let n=e;n<t;n++){let r=Tb(s.charCodeAt(n));if(r==1)return jn;if(r==2||r==4)return Ed}return jn}const Rb=te.define(),Db=te.define(),Ob=te.define(),zb=te.define(),wu=te.define(),Lb=te.define(),Bb=te.define(),Md=te.define(),Nd=te.define(),jb=te.define({combine:s=>s.some(e=>e)}),Ib=te.define({combine:s=>s.some(e=>e)}),$b=te.define();class dr{constructor(e,t="nearest",n="nearest",r=5,i=5,a=!1){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=i,this.isSnapshot=a}map(e){return e.empty?this:new dr(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new dr(_.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const xa=we.define({map:(s,e)=>s.map(e)}),_b=we.define();function Tt(s,e,t){let n=s.facet(zb);n.length?n[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const en=te.define({combine:s=>s.length?s[0]:!0});let AD=0;const Yr=te.define();class Xe{constructor(e,t,n,r,i){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=r,this.extension=i(this)}static define(e,t){const{eventHandlers:n,eventObservers:r,provide:i,decorations:a}=t||{};return new Xe(AD++,e,n,r,o=>{let l=[Yr.of(o)];return a&&l.push(ki.of(c=>{let u=c.plugin(o);return u?a(u):me.none})),i&&l.push(i(o)),l})}static fromClass(e,t){return Xe.define(n=>new e(n),t)}}class tc{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(Tt(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Tt(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){Tt(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Fb=te.define(),Rd=te.define(),ki=te.define(),Vb=te.define(),Dd=te.define(),Ub=te.define();function Lf(s,e){let t=s.state.facet(Ub);if(!t.length)return t;let n=t.map(i=>i instanceof Function?i(s):i),r=[];return Ne.spans(n,e.from,e.to,{point(){},span(i,a,o,l){let c=i-e.from,u=a-e.from,d=r;for(let h=o.length-1;h>=0;h--,l--){let f=o[h].spec.bidiIsolate,m;if(f==null&&(f=PD(e.text,c,u)),l>0&&d.length&&(m=d[d.length-1]).to==c&&m.direction==f)m.to=u,d=m.inner;else{let g={from:c,to:u,direction:f,inner:[]};d.push(g),d=g.inner}}}}),r}const Hb=te.define();function Od(s){let e=0,t=0,n=0,r=0;for(let i of s.state.facet(Hb)){let a=i(s);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(t=Math.max(t,a.right)),a.top!=null&&(n=Math.max(n,a.top)),a.bottom!=null&&(r=Math.max(r,a.bottom)))}return{left:e,right:t,top:n,bottom:r}}const Qr=te.define();class ss{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new ss(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let r=0,i=0,a=0,o=0;;r++){let l=r==e.length?null:e[r],c=a-o,u=l?l.fromB:1e9;for(;i<t.length&&t[i]<u;){let d=t[i],h=t[i+1],f=Math.max(o,d),m=Math.min(u,h);if(f<=m&&new ss(f+c,m+c,f,m).addToSet(n),h>u)break;i+=2}if(!l)return n;new ss(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),a=l.toA,o=l.toB}}}class xo{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=it.empty(this.startState.doc.length);for(let i of n)this.changes=this.changes.compose(i.changes);let r=[];this.changes.iterChangedRanges((i,a,o,l)=>r.push(new ss(i,a,o,l))),this.changedRanges=r}static create(e,t,n){return new xo(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Bf extends $e{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=me.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new st],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ss(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!OD(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let i=r>-1?ED(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;n=new ss(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(n.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(se.ie||se.chrome)&&!i&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,o=this.updateDeco(),l=RD(a,o,e.changes);return n=ss.extendWithRanges(n,l),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,i),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=se.chrome||se.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||r.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof $s&&a.widget instanceof gu&&i.push(a.dom);r.updateGaps(i)}updateChildren(e,t,n){let r=n?n.range.addToSet(e.slice()):e,i=this.childCursor(t);for(let a=r.length-1;;a--){let o=a>=0?r[a]:null;if(!o)break;let{fromA:l,toA:c,fromB:u,toB:d}=o,h,f,m,g;if(n&&n.range.fromB<d&&n.range.toB>u){let E=di.build(this.view.state.doc,u,n.range.fromB,this.decorations,this.dynamicDecorationMap),x=di.build(this.view.state.doc,n.range.toB,d,this.decorations,this.dynamicDecorationMap);f=E.breakAtStart,m=E.openStart,g=x.openEnd;let R=this.compositionView(n);x.breakAtStart?R.breakAfter=1:x.content.length&&R.merge(R.length,R.length,x.content[0],!1,x.openStart,0)&&(R.breakAfter=x.content[0].breakAfter,x.content.shift()),E.content.length&&R.merge(0,0,E.content[E.content.length-1],!0,0,E.openEnd)&&E.content.pop(),h=E.content.concat(R).concat(x.content)}else({content:h,breakAtStart:f,openStart:m,openEnd:g}=di.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:v,off:b}=i.findPos(c,1),{i:C,off:A}=i.findPos(l,-1);bb(this,C,A,v,b,h,f,m,g)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let n of t.effects)n.is(_b)&&(this.editContextFormatting=n.value)}compositionView(e){let t=new ls(e.text.nodeValue);t.flags|=8;for(let{deco:r}of e.marks)t=new Fs(r,[t],t.length);let n=new st;return n.append(t,0),n}fixCompositionDOM(e){let t=(i,a)=>{a.flags|=8|(a.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(a);let o=$e.get(i);o&&o!=a&&(o.dom=null),a.setDOM(i)},n=this.childPos(e.range.fromB,1),r=this.children[n.i];t(e.line,r);for(let i=e.marks.length-1;i>=-1;i--)n=r.childPos(n.off,1),r=r.children[n.i],t(i>=0?e.marks[i].node:e.text,r)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,i=!r&&Qa(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||t||i))return;let a=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(o.anchor)),c=o.empty?l:this.moveToLine(this.domAtPos(o.head));if(se.gecko&&o.empty&&!this.hasComposition&&TD(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=c=new St(d,0),a=!0}let u=this.view.observer.selectionRange;(a||!u.focusNode||(!ui(l.node,l.offset,u.anchorNode,u.anchorOffset)||!ui(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,o))&&(this.view.observer.ignore(()=>{se.android&&se.chrome&&this.dom.contains(u.focusNode)&&DD(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Si(this.view.root);if(d)if(o.empty){if(se.gecko){let h=MD(l.node,l.offset);if(h&&h!=3){let f=(h==1?mb:gb)(l.node,l.offset);f&&(l=new St(f.node,f.offset))}}d.collapse(l.node,l.offset),o.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=o.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(c.node,c.offset)}catch{}}else{let h=document.createRange();o.anchor>o.head&&([l,c]=[c,l]),h.setEnd(c.node,c.offset),h.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(h)}i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new St(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new St(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&ui(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=Si(e.root),{anchorNode:r,anchorOffset:i}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let a=st.find(this,t.head);if(!a)return;let o=a.posAtStart;if(t.head==o||t.head==o+a.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(t.head+t.assoc);n.collapse(u.node,u.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&n.collapse(r,i)}moveToLine(e){let t=this.dom,n;if(e.node!=t)return e;for(let r=e.offset;!n&&r<t.childNodes.length;r++){let i=$e.get(t.childNodes[r]);i instanceof st&&(n=i.domAtPos(0))}for(let r=e.offset-1;!n&&r>=0;r--){let i=$e.get(t.childNodes[r]);i instanceof st&&(n=i.domAtPos(i.length))}return n?new St(n.node,n.offset,!0):e}nearest(e){for(let t=e;t;){let n=$e.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(n<r.length||r instanceof st)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,r=0;for(let i=this.length,a=this.children.length-1;a>=0;a--){let o=this.children[a],l=i-o.breakAfter,c=l-o.length;if(l<e)break;if(c<=e&&(c<e||o.covers(-1))&&(l>e||o.covers(1))&&(!n||o instanceof st&&!(n instanceof st&&t>=0)))n=o,r=c;else if(n&&c==e&&l==e&&o instanceof $s&&Math.abs(t)<2){if(o.deco.startSide<0)break;a&&(n=null)}i=c}return n?n.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),r=this.children[t];if(!(r instanceof st))return null;for(;r.children.length;){let{i:o,off:l}=r.childPos(n,1);for(;;o++){if(o==r.children.length)return null;if((r=r.children[o]).length)break}n=l}if(!(r instanceof ls))return null;let i=vt(r.text,n);if(i==n)return null;let a=Bn(r.dom,n,i).getClientRects();for(let o=0;o<a.length;o++){let l=a[o];if(o==a.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,i=this.view.contentDOM.clientWidth,a=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==qe.LTR;for(let c=0,u=0;u<this.children.length;u++){let d=this.children[u],h=c+d.length;if(h>r)break;if(c>=n){let f=d.dom.getBoundingClientRect();if(t.push(f.height),a){let m=d.dom.lastChild,g=m?gr(m):[];if(g.length){let v=g[g.length-1],b=l?v.right-f.left:f.right-v.left;b>o&&(o=b,this.minWidth=i,this.minWidthFrom=c,this.minWidthTo=h)}}}c=h+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?qe.RTL:qe.LTR}measureTextSize(){for(let i of this.children)if(i instanceof st){let a=i.measureTextSize();if(a)return a}let e=document.createElement("div"),t,n,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let i=gr(e.firstChild)[0];t=e.getBoundingClientRect().height,n=i?i.width/27:7,r=i?i.height:t,e.remove()}),{lineHeight:t,charWidth:n,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new vb(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let i=r==t.viewports.length?null:t.viewports[r],a=i?i.from-1:this.length;if(a>n){let o=(t.lineBlockAt(a).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(me.replace({widget:new gu(o),block:!0,inclusive:!0,isBlockGap:!0}).range(n,a))}if(!i)break;n=i.to+1}return me.set(e)}updateDeco(){let e=1,t=this.view.state.facet(ki).map(i=>(this.dynamicDecorationMap[e++]=typeof i=="function")?i(this.view):i),n=!1,r=this.view.state.facet(Vb).map((i,a)=>{let o=typeof i=="function";return o&&(n=!0),o?i(this.view):i});for(r.length&&(this.dynamicDecorationMap[e++]=n,t.push(Ne.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet($b))try{if(c(this.view,e.range,e))return!0}catch(u){Tt(this.view.state,u,"scroll handler")}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!n)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,r.left),top:Math.min(n.top,r.top),right:Math.max(n.right,r.right),bottom:Math.max(n.bottom,r.bottom)});let i=Od(this.view),a={left:n.left-i.left,top:n.top-i.top,right:n.right+i.right,bottom:n.bottom+i.bottom},{offsetWidth:o,offsetHeight:l}=this.view.scrollDOM;oD(this.view.scrollDOM,a,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==qe.LTR)}}function TD(s){return s.node.nodeType==1&&s.node.firstChild&&(s.offset==0||s.node.childNodes[s.offset-1].contentEditable=="false")&&(s.offset==s.node.childNodes.length||s.node.childNodes[s.offset].contentEditable=="false")}function Wb(s,e){let t=s.observer.selectionRange;if(!t.focusNode)return null;let n=mb(t.focusNode,t.focusOffset),r=gb(t.focusNode,t.focusOffset),i=n||r;if(r&&n&&r.node!=n.node){let o=$e.get(r.node);if(!o||o instanceof ls&&o.text!=r.node.nodeValue)i=r;else if(s.docView.lastCompositionAfterCursor){let l=$e.get(n.node);!l||l instanceof ls&&l.text!=n.node.nodeValue||(i=r)}}if(s.docView.lastCompositionAfterCursor=i!=n,!i)return null;let a=e-i.offset;return{from:a,to:a+i.node.nodeValue.length,node:i.node}}function ED(s,e,t){let n=Wb(s,t);if(!n)return null;let{node:r,from:i,to:a}=n,o=r.nodeValue;if(/[\n\r]/.test(o)||s.state.doc.sliceString(n.from,n.to)!=o)return null;let l=e.invertedDesc,c=new ss(l.mapPos(i),l.mapPos(a),i,a),u=[];for(let d=r.parentNode;;d=d.parentNode){let h=$e.get(d);if(h instanceof Fs)u.push({node:d,deco:h.mark});else{if(h instanceof st||d.nodeName=="DIV"&&d.parentNode==s.contentDOM)return{range:c,text:r,marks:u,line:d};if(d!=s.contentDOM)u.push({node:d,deco:new Vi({inclusive:!0,attributes:mD(d),tagName:d.tagName.toLowerCase()})});else return null}}}function MD(s,e){return s.nodeType!=1?0:(e&&s.childNodes[e-1].contentEditable=="false"?1:0)|(e<s.childNodes.length&&s.childNodes[e].contentEditable=="false"?2:0)}let ND=class{constructor(){this.changes=[]}compareRange(e,t){mu(e,t,this.changes)}comparePoint(e,t){mu(e,t,this.changes)}};function RD(s,e,t){let n=new ND;return Ne.compare(s,e,t,n),n.changes}function DD(s,e){for(let t=s;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function OD(s,e){let t=!1;return e&&s.iterChangedRanges((n,r)=>{n<e.to&&r>e.from&&(t=!0)}),t}function zD(s,e,t=1){let n=s.charCategorizer(e),r=s.doc.lineAt(e),i=e-r.from;if(r.length==0)return _.cursor(e);i==0?t=1:i==r.length&&(t=-1);let a=i,o=i;t<0?a=vt(r.text,i,!1):o=vt(r.text,i);let l=n(r.text.slice(a,o));for(;a>0;){let c=vt(r.text,a,!1);if(n(r.text.slice(c,a))!=l)break;a=c}for(;o<r.length;){let c=vt(r.text,o);if(n(r.text.slice(o,c))!=l)break;o=c}return _.range(a+r.from,o+r.from)}function LD(s,e){return e.left>s?e.left-s:Math.max(0,s-e.right)}function BD(s,e){return e.top>s?e.top-s:Math.max(0,s-e.bottom)}function sc(s,e){return s.top<e.bottom-1&&s.bottom>e.top+1}function jf(s,e){return e<s.top?{top:e,left:s.left,right:s.right,bottom:s.bottom}:s}function If(s,e){return e>s.bottom?{top:s.top,left:s.left,right:s.right,bottom:e}:s}function xu(s,e,t){let n,r,i,a,o=!1,l,c,u,d;for(let m=s.firstChild;m;m=m.nextSibling){let g=gr(m);for(let v=0;v<g.length;v++){let b=g[v];r&&sc(r,b)&&(b=jf(If(b,r.bottom),r.top));let C=LD(e,b),A=BD(t,b);if(C==0&&A==0)return m.nodeType==3?$f(m,e,t):xu(m,e,t);if(!n||a>A||a==A&&i>C){n=m,r=b,i=C,a=A;let E=A?t<b.top?-1:1:C?e<b.left?-1:1:0;o=!E||(E>0?v<g.length-1:v>0)}C==0?t>b.bottom&&(!u||u.bottom<b.bottom)?(l=m,u=b):t<b.top&&(!d||d.top>b.top)&&(c=m,d=b):u&&sc(u,b)?u=If(u,b.bottom):d&&sc(d,b)&&(d=jf(d,b.top))}}if(u&&u.bottom>=t?(n=l,r=u):d&&d.top<=t&&(n=c,r=d),!n)return{node:s,offset:0};let h=Math.max(r.left,Math.min(r.right,e));if(n.nodeType==3)return $f(n,h,t);if(o&&n.contentEditable!="false")return xu(n,h,t);let f=Array.prototype.indexOf.call(s.childNodes,n)+(e>=(r.left+r.right)/2?1:0);return{node:s,offset:f}}function $f(s,e,t){let n=s.nodeValue.length,r=-1,i=1e9,a=0;for(let o=0;o<n;o++){let l=Bn(s,o,o+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;a||(a=e-u.left);let d=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&d<i){let h=e>=(u.left+u.right)/2,f=h;if((se.chrome||se.gecko)&&Bn(s,o).getBoundingClientRect().left==u.right&&(f=!h),d<=0)return{node:s,offset:o+(f?1:0)};r=o+(f?1:0),i=d}}}return{node:s,offset:r>-1?r:a>0?s.nodeValue.length:0}}function qb(s,e,t,n=-1){var r,i;let a=s.contentDOM.getBoundingClientRect(),o=a.top+s.viewState.paddingTop,l,{docHeight:c}=s.viewState,{x:u,y:d}=e,h=d-o;if(h<0)return 0;if(h>c)return s.state.doc.length;for(let E=s.viewState.heightOracle.textHeight/2,x=!1;l=s.elementAtHeight(h),l.type!=Et.Text;)for(;h=n>0?l.bottom+E:l.top-E,!(h>=0&&h<=c);){if(x)return t?null:0;x=!0,n=-n}d=o+h;let f=l.from;if(f<s.viewport.from)return s.viewport.from==0?0:t?null:_f(s,a,l,u,d);if(f>s.viewport.to)return s.viewport.to==s.state.doc.length?s.state.doc.length:t?null:_f(s,a,l,u,d);let m=s.dom.ownerDocument,g=s.root.elementFromPoint?s.root:m,v=g.elementFromPoint(u,d);v&&!s.contentDOM.contains(v)&&(v=null),v||(u=Math.max(a.left+1,Math.min(a.right-1,u)),v=g.elementFromPoint(u,d),v&&!s.contentDOM.contains(v)&&(v=null));let b,C=-1;if(v&&((r=s.docView.nearest(v))===null||r===void 0?void 0:r.isEditable)!=!1){if(m.caretPositionFromPoint){let E=m.caretPositionFromPoint(u,d);E&&({offsetNode:b,offset:C}=E)}else if(m.caretRangeFromPoint){let E=m.caretRangeFromPoint(u,d);E&&({startContainer:b,startOffset:C}=E,(!s.contentDOM.contains(b)||se.safari&&jD(b,C,u)||se.chrome&&ID(b,C,u))&&(b=void 0))}b&&(C=Math.min(Rs(b),C))}if(!b||!s.docView.dom.contains(b)){let E=st.find(s.docView,f);if(!E)return h>l.top+l.height/2?l.to:l.from;({node:b,offset:C}=xu(E.dom,u,d))}let A=s.docView.nearest(b);if(!A)return null;if(A.isWidget&&((i=A.dom)===null||i===void 0?void 0:i.nodeType)==1){let E=A.dom.getBoundingClientRect();return e.y<E.top||e.y<=E.bottom&&e.x<=(E.left+E.right)/2?A.posAtStart:A.posAtEnd}else return A.localPosFromDOM(b,C)+A.posAtStart}function _f(s,e,t,n,r){let i=Math.round((n-e.left)*s.defaultCharacterWidth);if(s.lineWrapping&&t.height>s.defaultLineHeight*1.5){let o=s.viewState.heightOracle.textHeight,l=Math.floor((r-t.top-(s.defaultLineHeight-o)*.5)/o);i+=l*s.viewState.heightOracle.lineLength}let a=s.state.sliceDoc(t.from,t.to);return t.from+au(a,i,s.state.tabSize)}function jD(s,e,t){let n;if(s.nodeType!=3||e!=(n=s.nodeValue.length))return!1;for(let r=s.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return Bn(s,n-1,n).getBoundingClientRect().left>t}function ID(s,e,t){if(e!=0)return!1;for(let r=s;;){let i=r.parentNode;if(!i||i.nodeType!=1||i.firstChild!=r)return!1;if(i.classList.contains("cm-line"))break;r=i}let n=s.nodeType==1?s.getBoundingClientRect():Bn(s,0,Math.max(s.nodeValue.length,1)).getBoundingClientRect();return t-n.left>5}function Su(s,e){let t=s.lineBlockAt(e);if(Array.isArray(t.type)){for(let n of t.type)if(n.to>e||n.to==e&&(n.to==t.to||n.type==Et.Text))return n}return t}function $D(s,e,t,n){let r=Su(s,e.head),i=!n||r.type!=Et.Text||!(s.lineWrapping||r.widgetLineBreaks)?null:s.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(i){let a=s.dom.getBoundingClientRect(),o=s.textDirectionAt(r.from),l=s.posAtCoords({x:t==(o==qe.LTR)?a.right-1:a.left+1,y:(i.top+i.bottom)/2});if(l!=null)return _.cursor(l,t?-1:1)}return _.cursor(t?r.to:r.from,t?-1:1)}function Ff(s,e,t,n){let r=s.state.doc.lineAt(e.head),i=s.bidiSpans(r),a=s.textDirectionAt(r.from);for(let o=e,l=null;;){let c=CD(r,i,a,o,t),u=Nb;if(!c){if(r.number==(t?s.state.doc.lines:1))return o;u=`
`,r=s.state.doc.line(r.number+(t?1:-1)),i=s.bidiSpans(r),c=s.visualLineSide(r,!t)}if(l){if(!l(u))return o}else{if(!n)return c;l=n(u)}o=c}}function _D(s,e,t){let n=s.state.charCategorizer(e),r=n(t);return i=>{let a=n(i);return r==Qe.Space&&(r=a),r==a}}function FD(s,e,t,n){let r=e.head,i=t?1:-1;if(r==(t?s.state.doc.length:0))return _.cursor(r,e.assoc);let a=e.goalColumn,o,l=s.contentDOM.getBoundingClientRect(),c=s.coordsAtPos(r,e.assoc||-1),u=s.documentTop;if(c)a==null&&(a=c.left-l.left),o=i<0?c.top:c.bottom;else{let f=s.viewState.lineBlockAt(r);a==null&&(a=Math.min(l.right-l.left,s.defaultCharacterWidth*(r-f.from))),o=(i<0?f.top:f.bottom)+u}let d=l.left+a,h=n??s.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let m=o+(h+f)*i,g=qb(s,{x:d,y:m},!1,i);if(m<l.top||m>l.bottom||(i<0?g<r:g>r)){let v=s.docView.coordsForChar(g),b=!v||m<v.top?-1:1;return _.cursor(g,b,void 0,a)}}}function Ja(s,e,t){for(;;){let n=0;for(let r of s)r.between(e-1,e+1,(i,a,o)=>{if(e>i&&e<a){let l=n||t||(e-i<a-e?-1:1);e=l<0?i:a,n=l}});if(!n)return e}}function nc(s,e,t){let n=Ja(s.state.facet(Dd).map(r=>r(s)),t.from,e.head>t.from?-1:1);return n==t.from?t:_.cursor(n,n<t.from?1:-1)}const Jr="￿";class VD{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Me.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Jr}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r);let i=this.text.length;this.readNode(r);let a=r.nextSibling;if(a==t)break;let o=$e.get(r),l=$e.get(a);(o&&l?o.breakAfter:(o?o.breakAfter:yo(r))||yo(a)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>i)&&this.lineBreak(),r=a}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let i=-1,a=1,o;if(this.lineSeparator?(i=t.indexOf(this.lineSeparator,n),a=this.lineSeparator.length):(o=r.exec(t))&&(i=o.index,a=o[0].length),this.append(t.slice(n,i<0?t.length:i)),i<0)break;if(this.lineBreak(),a>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=a-1);n=i+a}}readNode(e){if(e.cmIgnore)return;let t=$e.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let r=n.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(UD(e,n.node,n.offset)?t:0))}}function UD(s,e,t){for(;;){if(!e||t<Rs(e))return!1;if(e==s)return!0;t=Ln(e)+1,e=e.parentNode}}class Vf{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class HD{constructor(e,t,n,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:i,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let o=i||a?[]:GD(e),l=new VD(o,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=KD(o,this.bounds.from)}else{let o=e.observer.selectionRange,l=i&&i.node==o.focusNode&&i.offset==o.focusOffset||!cu(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),c=a&&a.node==o.anchorNode&&a.offset==o.anchorOffset||!cu(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),u=e.viewport;if((se.ios||se.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let d=Math.min(l,c),h=Math.max(l,c),f=u.from-d,m=u.to-h;(f==0||f==1||d==0)&&(m==0||m==-1||h==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=_.single(c,l)}}}function Gb(s,e){let t,{newSel:n}=e,r=s.state.selection.main,i=s.inputState.lastKeyTime>Date.now()-100?s.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:o}=e.bounds,l=r.from,c=null;(i===8||se.android&&e.text.length<o-a)&&(l=r.to,c="end");let u=qD(s.state.doc.sliceString(a,o,Jr),e.text,l-a,c);u&&(se.chrome&&i==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Jr+Jr&&u.toB--,t={from:a+u.from,to:a+u.toA,insert:De.of(e.text.slice(u.from,u.toB).split(Jr))})}else n&&(!s.hasFocus&&s.state.facet(en)||n.main.eq(r))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!r.empty&&n&&n.main.empty?t={from:r.from,to:r.to,insert:s.state.doc.slice(r.from,r.to)}:t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:s.state.doc.slice(r.from,t.from).append(t.insert).append(s.state.doc.slice(t.to,r.to))}:(se.mac||se.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&s.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=_.single(n.main.anchor-1,n.main.head-1)),t={from:r.from,to:r.to,insert:De.of([" "])}):se.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&s.lineWrapping&&(n&&(n=_.single(n.main.anchor-1,n.main.head-1)),t={from:r.from,to:r.to,insert:De.of([" "])}),t)return zd(s,t,n,i);if(n&&!n.main.eq(r)){let a=!1,o="select";return s.inputState.lastSelectionTime>Date.now()-50&&(s.inputState.lastSelectionOrigin=="select"&&(a=!0),o=s.inputState.lastSelectionOrigin),s.dispatch({selection:n,scrollIntoView:a,userEvent:o}),!0}else return!1}function zd(s,e,t,n=-1){if(se.ios&&s.inputState.flushIOSKey(e))return!0;let r=s.state.selection.main;if(se.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&s.state.sliceDoc(e.from,r.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&ur(s.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>r.head)&&ur(s.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&e.insert.length==0&&ur(s.contentDOM,"Delete",46)))return!0;let i=e.insert.toString();s.inputState.composing>=0&&s.inputState.composing++;let a,o=()=>a||(a=WD(s,e,t));return s.state.facet(Lb).some(l=>l(s,e.from,e.to,i,o))||s.dispatch(o()),!0}function WD(s,e,t){let n,r=s.state,i=r.selection.main;if(e.from>=i.from&&e.to<=i.to&&e.to-e.from>=(i.to-i.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&s.inputState.composing<0){let o=i.from<e.from?r.sliceDoc(i.from,e.from):"",l=i.to>e.to?r.sliceDoc(e.to,i.to):"";n=r.replaceSelection(s.state.toText(o+e.insert.sliceString(0,void 0,s.state.lineBreak)+l))}else{let o=r.changes(e),l=t&&t.main.to<=o.newLength?t.main:void 0;if(r.selection.ranges.length>1&&s.inputState.composing>=0&&e.to<=i.to&&e.to>=i.to-10){let c=s.state.sliceDoc(e.from,e.to),u,d=t&&Wb(s,t.main.head);if(d){let m=e.insert.length-(e.to-e.from);u={from:d.from,to:d.to-m}}else u=s.state.doc.lineAt(i.head);let h=i.to-e.to,f=i.to-i.from;n=r.changeByRange(m=>{if(m.from==i.from&&m.to==i.to)return{changes:o,range:l||m.map(o)};let g=m.to-h,v=g-c.length;if(m.to-m.from!=f||s.state.sliceDoc(v,g)!=c||m.to>=u.from&&m.from<=u.to)return{range:m};let b=r.changes({from:v,to:g,insert:e.insert}),C=m.to-i.to;return{changes:b,range:l?_.range(Math.max(0,l.anchor+C),Math.max(0,l.head+C)):m.map(b)}})}else n={changes:o,selection:l&&r.selection.replaceRange(l)}}let a="input.type";return(s.composing||s.inputState.compositionPendingChange&&s.inputState.compositionEndedAt>Date.now()-50)&&(s.inputState.compositionPendingChange=!1,a+=".compose",s.inputState.compositionFirstChange&&(a+=".start",s.inputState.compositionFirstChange=!1)),r.update(n,{userEvent:a,scrollIntoView:!0})}function qD(s,e,t,n){let r=Math.min(s.length,e.length),i=0;for(;i<r&&s.charCodeAt(i)==e.charCodeAt(i);)i++;if(i==r&&s.length==e.length)return null;let a=s.length,o=e.length;for(;a>0&&o>0&&s.charCodeAt(a-1)==e.charCodeAt(o-1);)a--,o--;if(n=="end"){let l=Math.max(0,i-Math.min(a,o));t-=a+l-i}if(a<i&&s.length<e.length){let l=t<=i&&t>=a?i-t:0;i-=l,o=i+(o-a),a=i}else if(o<i){let l=t<=i&&t>=o?i-t:0;i-=l,a=i+(a-o),o=i}return{from:i,toA:a,toB:o}}function GD(s){let e=[];if(s.root.activeElement!=s.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:r,focusOffset:i}=s.observer.selectionRange;return t&&(e.push(new Vf(t,n)),(r!=t||i!=n)&&e.push(new Vf(r,i))),e}function KD(s,e){if(s.length==0)return null;let t=s[0].pos,n=s.length==2?s[1].pos:t;return t>-1&&n>-1?_.single(t+e,n+e):null}class YD{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,se.safari&&e.contentDOM.addEventListener("input",()=>null),se.gecko&&dO(e.contentDOM.ownerDocument)}handleEvent(e){!nO(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let n=this.handlers[e];if(n){for(let r of n.observers)r(this.view,t);for(let r of n.handlers){if(t.defaultPrevented)break;if(r(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=QD(e),n=this.handlers,r=this.view.contentDOM;for(let i in t)if(i!="scroll"){let a=!t[i].handlers.length,o=n[i];o&&a!=!o.handlers.length&&(r.removeEventListener(i,this.handleEvent),o=null),o||r.addEventListener(i,this.handleEvent,{passive:a})}for(let i in n)i!="scroll"&&!t[i]&&r.removeEventListener(i,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&Yb.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),se.android&&se.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return se.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=Kb.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||JD.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,ur(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:se.safari&&!se.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Uf(s,e){return(t,n)=>{try{return e.call(s,n,t)}catch(r){Tt(t.state,r)}}}function QD(s){let e=Object.create(null);function t(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of s){let r=n.spec;if(r&&r.domEventHandlers)for(let i in r.domEventHandlers){let a=r.domEventHandlers[i];a&&t(i).handlers.push(Uf(n.value,a))}if(r&&r.domEventObservers)for(let i in r.domEventObservers){let a=r.domEventObservers[i];a&&t(i).observers.push(Uf(n.value,a))}}for(let n in cs)t(n).handlers.push(cs[n]);for(let n in ns)t(n).observers.push(ns[n]);return e}const Kb=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],JD="dthko",Yb=[16,17,18,20,91,92,224,225],Sa=6;function ka(s){return Math.max(0,s)*.7+8}function ZD(s,e){return Math.max(Math.abs(s.clientX-e.clientX),Math.abs(s.clientY-e.clientY))}class XD{constructor(e,t,n,r){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=lD(e.contentDOM),this.atoms=e.state.facet(Dd).map(a=>a(e));let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Me.allowMultipleSelections)&&eO(e,t),this.dragging=sO(e,t)&&Zb(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&ZD(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,n=0,r=0,i=0,a=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:i,bottom:o}=this.scrollParents.y.getBoundingClientRect());let l=Od(this.view);e.clientX-l.left<=r+Sa?t=-ka(r-e.clientX):e.clientX+l.right>=a-Sa&&(t=ka(e.clientX-a)),e.clientY-l.top<=i+Sa?n=-ka(i-e.clientY):e.clientY+l.bottom>=o-Sa&&(n=ka(e.clientY-o)),this.setScrollSpeed(t,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let r=e.ranges[n],i=null;if(r.empty){let a=Ja(this.atoms,r.from,0);a!=r.from&&(i=_.cursor(a,-1))}else{let a=Ja(this.atoms,r.from,-1),o=Ja(this.atoms,r.to,1);(a!=r.from||o!=r.to)&&(i=_.range(r.from==r.anchor?a:o,r.from==r.head?a:o))}i&&(t||(t=e.ranges.slice()),t[n]=i)}return t?_.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function eO(s,e){let t=s.state.facet(Rb);return t.length?t[0](e):se.mac?e.metaKey:e.ctrlKey}function tO(s,e){let t=s.state.facet(Db);return t.length?t[0](e):se.mac?!e.altKey:!e.ctrlKey}function sO(s,e){let{main:t}=s.state.selection;if(t.empty)return!1;let n=Si(s.root);if(!n||n.rangeCount==0)return!0;let r=n.getRangeAt(0).getClientRects();for(let i=0;i<r.length;i++){let a=r[i];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function nO(s,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=s.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=$e.get(t))&&n.ignoreEvent(e))return!1;return!0}const cs=Object.create(null),ns=Object.create(null),Qb=se.ie&&se.ie_version<15||se.ios&&se.webkit_version<604;function rO(s){let e=s.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{s.focus(),t.remove(),Jb(s,t.value)},50)}function pl(s,e,t){for(let n of s.facet(e))t=n(t,s);return t}function Jb(s,e){e=pl(s.state,Md,e);let{state:t}=s,n,r=1,i=t.toText(e),a=i.lines==t.selection.ranges.length;if(ku!=null&&t.selection.ranges.every(l=>l.empty)&&ku==i.toString()){let l=-1;n=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let d=t.toText((a?i.line(r++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:d},range:_.cursor(c.from+d.length)}})}else a?n=t.changeByRange(l=>{let c=i.line(r++);return{changes:{from:l.from,to:l.to,insert:c.text},range:_.cursor(l.from+c.length)}}):n=t.replaceSelection(i);s.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}ns.scroll=s=>{s.inputState.lastScrollTop=s.scrollDOM.scrollTop,s.inputState.lastScrollLeft=s.scrollDOM.scrollLeft};cs.keydown=(s,e)=>(s.inputState.setSelectionOrigin("select"),e.keyCode==27&&s.inputState.tabFocusMode!=0&&(s.inputState.tabFocusMode=Date.now()+2e3),!1);ns.touchstart=(s,e)=>{s.inputState.lastTouchTime=Date.now(),s.inputState.setSelectionOrigin("select.pointer")};ns.touchmove=s=>{s.inputState.setSelectionOrigin("select.pointer")};cs.mousedown=(s,e)=>{if(s.observer.flush(),s.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let n of s.state.facet(Ob))if(t=n(s,e),t)break;if(!t&&e.button==0&&(t=oO(s,e)),t){let n=!s.hasFocus;s.inputState.startMouseSelection(new XD(s,e,t,n)),n&&s.observer.ignore(()=>{hb(s.contentDOM);let i=s.root.activeElement;i&&!i.contains(s.contentDOM)&&i.blur()});let r=s.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function Hf(s,e,t,n){if(n==1)return _.cursor(e,t);if(n==2)return zD(s.state,e,t);{let r=st.find(s.docView,e),i=s.state.doc.lineAt(r?r.posAtEnd:e),a=r?r.posAtStart:i.from,o=r?r.posAtEnd:i.to;return o<s.state.doc.length&&o==i.to&&o++,_.range(a,o)}}let Wf=(s,e,t)=>e>=t.top&&e<=t.bottom&&s>=t.left&&s<=t.right;function iO(s,e,t,n){let r=st.find(s.docView,e);if(!r)return 1;let i=e-r.posAtStart;if(i==0)return 1;if(i==r.length)return-1;let a=r.coordsAt(i,-1);if(a&&Wf(t,n,a))return-1;let o=r.coordsAt(i,1);return o&&Wf(t,n,o)?1:a&&a.bottom>=n?-1:1}function qf(s,e){let t=s.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:iO(s,t,e.clientX,e.clientY)}}const aO=se.ie&&se.ie_version<=11;let Gf=null,Kf=0,Yf=0;function Zb(s){if(!aO)return s.detail;let e=Gf,t=Yf;return Gf=s,Yf=Date.now(),Kf=!e||t>Date.now()-400&&Math.abs(e.clientX-s.clientX)<2&&Math.abs(e.clientY-s.clientY)<2?(Kf+1)%3:1}function oO(s,e){let t=qf(s,e),n=Zb(e),r=s.state.selection;return{update(i){i.docChanged&&(t.pos=i.changes.mapPos(t.pos),r=r.map(i.changes))},get(i,a,o){let l=qf(s,i),c,u=Hf(s,l.pos,l.bias,n);if(t.pos!=l.pos&&!a){let d=Hf(s,t.pos,t.bias,n),h=Math.min(d.from,u.from),f=Math.max(d.to,u.to);u=h<u.from?_.range(h,f):_.range(f,h)}return a?r.replaceRange(r.main.extend(u.from,u.to)):o&&n==1&&r.ranges.length>1&&(c=lO(r,l.pos))?c:o?r.addRange(u):_.create([u])}}}function lO(s,e){for(let t=0;t<s.ranges.length;t++){let{from:n,to:r}=s.ranges[t];if(n<=e&&r>=e)return _.create(s.ranges.slice(0,t).concat(s.ranges.slice(t+1)),s.mainIndex==t?0:s.mainIndex-(s.mainIndex>t?1:0))}return null}cs.dragstart=(s,e)=>{let{selection:{main:t}}=s.state;if(e.target.draggable){let r=s.docView.nearest(e.target);if(r&&r.isWidget){let i=r.posAtStart,a=i+r.length;(i>=t.to||a<=t.from)&&(t=_.range(i,a))}}let{inputState:n}=s;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",pl(s.state,Nd,s.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};cs.dragend=s=>(s.inputState.draggedContent=null,!1);function Qf(s,e,t,n){if(t=pl(s.state,Md,t),!t)return;let r=s.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:i}=s.inputState,a=n&&i&&tO(s,e)?{from:i.from,to:i.to}:null,o={from:r,insert:t},l=s.state.changes(a?[a,o]:o);s.focus(),s.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:a?"move.drop":"input.drop"}),s.inputState.draggedContent=null}cs.drop=(s,e)=>{if(!e.dataTransfer)return!1;if(s.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let n=Array(t.length),r=0,i=()=>{++r==t.length&&Qf(s,e,n.filter(a=>a!=null).join(s.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let o=new FileReader;o.onerror=i,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(n[a]=o.result),i()},o.readAsText(t[a])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return Qf(s,e,n,!0),!0}return!1};cs.paste=(s,e)=>{if(s.state.readOnly)return!0;s.observer.flush();let t=Qb?null:e.clipboardData;return t?(Jb(s,t.getData("text/plain")||t.getData("text/uri-list")),!0):(rO(s),!1)};function cO(s,e){let t=s.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),s.focus()},50)}function uO(s){let e=[],t=[],n=!1;for(let r of s.selection.ranges)r.empty||(e.push(s.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:i}of s.selection.ranges){let a=s.doc.lineAt(i);a.number>r&&(e.push(a.text),t.push({from:a.from,to:Math.min(s.doc.length,a.to+1)})),r=a.number}n=!0}return{text:pl(s,Nd,e.join(s.lineBreak)),ranges:t,linewise:n}}let ku=null;cs.copy=cs.cut=(s,e)=>{let{text:t,ranges:n,linewise:r}=uO(s.state);if(!t&&!r)return!1;ku=r?t:null,e.type=="cut"&&!s.state.readOnly&&s.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let i=Qb?null:e.clipboardData;return i?(i.clearData(),i.setData("text/plain",t),!0):(cO(s,t),!1)};const Xb=Os.define();function ey(s,e){let t=[];for(let n of s.facet(Bb)){let r=n(s,e);r&&t.push(r)}return t?s.update({effects:t,annotations:Xb.of(!0)}):null}function ty(s){setTimeout(()=>{let e=s.hasFocus;if(e!=s.inputState.notifiedFocused){let t=ey(s.state,e);t?s.dispatch(t):s.update([])}},10)}ns.focus=s=>{s.inputState.lastFocusTime=Date.now(),!s.scrollDOM.scrollTop&&(s.inputState.lastScrollTop||s.inputState.lastScrollLeft)&&(s.scrollDOM.scrollTop=s.inputState.lastScrollTop,s.scrollDOM.scrollLeft=s.inputState.lastScrollLeft),ty(s)};ns.blur=s=>{s.observer.clearSelectionRange(),ty(s)};ns.compositionstart=ns.compositionupdate=s=>{s.observer.editContext||(s.inputState.compositionFirstChange==null&&(s.inputState.compositionFirstChange=!0),s.inputState.composing<0&&(s.inputState.composing=0))};ns.compositionend=s=>{s.observer.editContext||(s.inputState.composing=-1,s.inputState.compositionEndedAt=Date.now(),s.inputState.compositionPendingKey=!0,s.inputState.compositionPendingChange=s.observer.pendingRecords().length>0,s.inputState.compositionFirstChange=null,se.chrome&&se.android?s.observer.flushSoon():s.inputState.compositionPendingChange?Promise.resolve().then(()=>s.observer.flush()):setTimeout(()=>{s.inputState.composing<0&&s.docView.hasComposition&&s.update([])},50))};ns.contextmenu=s=>{s.inputState.lastContextMenu=Date.now()};cs.beforeinput=(s,e)=>{var t,n;if(e.inputType=="insertReplacementText"&&s.observer.editContext){let i=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),a=e.getTargetRanges();if(i&&a.length){let o=a[0],l=s.posAtDOM(o.startContainer,o.startOffset),c=s.posAtDOM(o.endContainer,o.endOffset);return zd(s,{from:l,to:c,insert:s.state.toText(i)},null),!0}}let r;if(se.chrome&&se.android&&(r=Kb.find(i=>i.inputType==e.inputType))&&(s.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>i+10&&s.hasFocus&&(s.contentDOM.blur(),s.focus())},100)}return se.ios&&e.inputType=="deleteContentForward"&&s.observer.flushSoon(),se.safari&&e.inputType=="insertText"&&s.inputState.composing>=0&&setTimeout(()=>ns.compositionend(s,e),20),!1};const Jf=new Set;function dO(s){Jf.has(s)||(Jf.add(s),s.addEventListener("copy",()=>{}),s.addEventListener("cut",()=>{}))}const Zf=["pre-wrap","normal","pre-line","break-spaces"];let yr=!1;function Xf(){yr=!1}class hO{constructor(e){this.lineWrapping=e,this.doc=De.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Zf.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,n,r,i,a){let o=Zf.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=i,l){this.heightSamples={};for(let c=0;c<a.length;c++){let u=a[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class fO{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Cs{constructor(e,t,n,r,i){this.from=e,this.length=t,this.top=n,this.height=r,this._content=i}get type(){return typeof this._content=="number"?Et.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof mn?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Cs(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var We=function(s){return s[s.ByPos=0]="ByPos",s[s.ByHeight=1]="ByHeight",s[s.ByPosNoHeight=2]="ByPosNoHeight",s}(We||(We={}));const Za=.001;class Mt{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Za&&(yr=!0),this.height=e)}replace(e,t,n){return Mt.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let i=this,a=n.doc;for(let o=r.length-1;o>=0;o--){let{fromA:l,toA:c,fromB:u,toB:d}=r[o],h=i.lineAt(l,We.ByPosNoHeight,n.setDoc(t),0,0),f=h.to>=c?h:i.lineAt(c,We.ByPosNoHeight,n,0,0);for(d+=f.to-c,c=f.to;o>0&&h.from<=r[o-1].toA;)l=r[o-1].fromA,u=r[o-1].fromB,o--,l<h.from&&(h=i.lineAt(l,We.ByPosNoHeight,n,0,0));u+=h.from-l,l=h.from;let m=Ld.build(n.setDoc(a),e,u,d);i=So(i,i.replace(l,c,m))}return i.updateHeight(n,0)}static empty(){return new Ut(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,r=0,i=0;for(;;)if(t==n)if(r>i*2){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),n+=1+o.break,r-=o.size}else if(i>r*2){let o=e[n];o.break?e.splice(n,1,o.left,null,o.right):e.splice(n,1,o.left,o.right),n+=2+o.break,i-=o.size}else break;else if(r<i){let o=e[t++];o&&(r+=o.size)}else{let o=e[--n];o&&(i+=o.size)}let a=0;return e[t-1]==null?(a=1,t--):e[t]==null&&(a=1,n++),new pO(Mt.of(e.slice(0,t)),a,Mt.of(e.slice(n)))}}function So(s,e){return s==e?s:(s.constructor!=e.constructor&&(yr=!0),e)}Mt.prototype.size=1;class sy extends Mt{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,r){return new Cs(r,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(e,t,n,r,i,a){e<=i+this.length&&t>=i&&a(this.blockAt(0,n,r,i))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ut extends sy{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,r){return new Cs(r,this.length,n,this.height,this.breaks)}replace(e,t,n){let r=n[0];return n.length==1&&(r instanceof Ut||r instanceof ft&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof ft?r=new Ut(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Mt.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(r.heights[r.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ft extends Mt{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,i=r-n+1,a,o=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*i);a=l/i,this.length>i+1&&(o=(this.height-l)/(this.length-i-1))}else a=this.height/i;return{firstLine:n,lastLine:r,perLine:a,perChar:o}}blockAt(e,t,n,r){let{firstLine:i,lastLine:a,perLine:o,perChar:l}=this.heightMetrics(t,r);if(t.lineWrapping){let c=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),u=t.doc.lineAt(c),d=o+u.length*l,h=Math.max(n,e-d/2);return new Cs(u.from,u.length,h,d,0)}else{let c=Math.max(0,Math.min(a-i,Math.floor((e-n)/o))),{from:u,length:d}=t.doc.line(i+c);return new Cs(u,d,n+o*c,o,0)}}lineAt(e,t,n,r,i){if(t==We.ByHeight)return this.blockAt(e,n,r,i);if(t==We.ByPosNoHeight){let{from:f,to:m}=n.doc.lineAt(e);return new Cs(f,m-f,0,0,0)}let{firstLine:a,perLine:o,perChar:l}=this.heightMetrics(n,i),c=n.doc.lineAt(e),u=o+c.length*l,d=c.number-a,h=r+o*d+l*(c.from-i-d);return new Cs(c.from,c.length,Math.max(r,Math.min(h,r+this.height-u)),u,0)}forEachLine(e,t,n,r,i,a){e=Math.max(e,i),t=Math.min(t,i+this.length);let{firstLine:o,perLine:l,perChar:c}=this.heightMetrics(n,i);for(let u=e,d=r;u<=t;){let h=n.doc.lineAt(u);if(u==e){let m=h.number-o;d+=l*m+c*(e-i-m)}let f=l+c*h.length;a(new Cs(h.from,h.length,d,f,0)),d+=f,u=h.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let i=n[n.length-1];i instanceof ft?n[n.length-1]=new ft(i.length+r):n.push(null,new ft(r-1))}if(e>0){let i=n[0];i instanceof ft?n[0]=new ft(e+i.length):n.unshift(new ft(e-1),null)}return Mt.of(n)}decomposeLeft(e,t){t.push(new ft(e-1),null)}decomposeRight(e,t){t.push(null,new ft(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let i=t+this.length;if(r&&r.from<=t+this.length&&r.more){let a=[],o=Math.max(t,r.from),l=-1;for(r.from>t&&a.push(new ft(r.from-t-1).updateHeight(e,t));o<=i&&r.more;){let u=e.doc.lineAt(o).length;a.length&&a.push(null);let d=r.heights[r.index++];l==-1?l=d:Math.abs(d-l)>=Za&&(l=-2);let h=new Ut(u,d);h.outdated=!1,a.push(h),o+=u+1}o<=i&&a.push(null,new ft(i-o).updateHeight(e,o));let c=Mt.of(a);return(l<0||Math.abs(c.height-this.height)>=Za||Math.abs(l-this.heightMetrics(e,t).perLine)>=Za)&&(yr=!0),So(this,c)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class pO extends Mt{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,r){let i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,i,r+this.left.length+this.break)}lineAt(e,t,n,r,i){let a=r+this.left.height,o=i+this.left.length+this.break,l=t==We.ByHeight?e<a:e<o,c=l?this.left.lineAt(e,t,n,r,i):this.right.lineAt(e,t,n,a,o);if(this.break||(l?c.to<o:c.from>o))return c;let u=t==We.ByPosNoHeight?We.ByPosNoHeight:We.ByPos;return l?c.join(this.right.lineAt(o,u,n,a,o)):this.left.lineAt(o,u,n,r,i).join(c)}forEachLine(e,t,n,r,i,a){let o=r+this.left.height,l=i+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,n,r,i,a),t>=l&&this.right.forEachLine(e,t,n,o,l,a);else{let c=this.lineAt(l,We.ByPos,n,r,i);e<c.from&&this.left.forEachLine(e,c.from-1,n,r,i,a),c.to>=e&&c.from<=t&&a(c),t>c.to&&this.right.forEachLine(c.to+1,t,n,o,l,a)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let i=[];e>0&&this.decomposeLeft(e,i);let a=i.length;for(let o of n)i.push(o);if(e>0&&ep(i,a-1),t<this.length){let o=i.length;this.decomposeRight(t,i),ep(i,o)}return Mt.of(i)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Mt.of(this.break?[e,null,t]:[e,t]):(this.left=So(this.left,e),this.right=So(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:i,right:a}=this,o=t+i.length+this.break,l=null;return r&&r.from<=t+i.length&&r.more?l=i=i.updateHeight(e,t,n,r):i.updateHeight(e,t,n),r&&r.from<=o+a.length&&r.more?l=a=a.updateHeight(e,o,n,r):a.updateHeight(e,o,n),l?this.balanced(i,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ep(s,e){let t,n;s[e]==null&&(t=s[e-1])instanceof ft&&(n=s[e+1])instanceof ft&&s.splice(e-1,3,new ft(t.length+1+n.length))}const mO=5;class Ld{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Ut?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Ut(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let a=t-e;n.block?this.addBlock(new sy(a,r,n)):(a||i||r>=mO)&&this.addLineDeco(r,i,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ut(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new ft(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ut)return e;let t=new Ut(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Ut)&&!this.isCovered?this.nodes.push(new Ut(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let r of this.nodes)r instanceof Ut&&r.updateHeight(this.oracle,n),n+=r?r.length:1;return this.nodes}static build(e,t,n,r){let i=new Ld(n,e);return Ne.spans(t,n,r,i,0),i.finish(n)}}function gO(s,e,t){let n=new vO;return Ne.compare(s,e,t,n,0),n.changes}class vO{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&mu(e,t,this.changes,5)}}function bO(s,e){let t=s.getBoundingClientRect(),n=s.ownerDocument,r=n.defaultView||window,i=Math.max(0,t.left),a=Math.min(r.innerWidth,t.right),o=Math.max(0,t.top),l=Math.min(r.innerHeight,t.bottom);for(let c=s.parentNode;c&&c!=n.body;)if(c.nodeType==1){let u=c,d=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&d.overflow!="visible"){let h=u.getBoundingClientRect();i=Math.max(i,h.left),a=Math.min(a,h.right),o=Math.max(o,h.top),l=Math.min(c==s.parentNode?r.innerHeight:l,h.bottom)}c=d.position=="absolute"||d.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:i-t.left,right:Math.max(i,a)-t.left,top:o-(t.top+e),bottom:Math.max(o,l)-(t.top+e)}}function yO(s,e){let t=s.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class rc{constructor(e,t,n,r){this.from=e,this.to=t,this.size=n,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(e,t){return me.replace({widget:new wO(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class wO extends Hs{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class tp{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=sp,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=qe.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Rd).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new hO(t),this.stateDeco=e.facet(ki).filter(n=>typeof n!="function"),this.heightMap=Mt.empty().applyChanges(this.stateDeco,De.empty,this.heightOracle.setDoc(e.doc),[new ss(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=me.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some(({from:i,to:a})=>r>=i&&r<=a)){let{from:i,to:a}=this.lineBlockAt(r);e.push(new Ca(i,a))}}return this.viewports=e.sort((n,r)=>n.from-r.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?sp:new Bd(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Zr(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(ki).filter(u=>typeof u!="function");let r=e.changedRanges,i=ss.extendWithRanges(r,gO(n,this.stateDeco,e?e.changes:it.empty(this.state.doc.length))),a=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Xf(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),(this.heightMap.height!=a||yr)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Ib)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?qe.RTL:qe.LTR;let a=this.heightOracle.mustRefreshForWrapping(i),o=t.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let c=0,u=0;if(o.width&&o.height){let{scaleX:E,scaleY:x}=db(t,o);(E>.005&&Math.abs(this.scaleX-E)>.005||x>.005&&Math.abs(this.scaleY-x)>.005)&&(this.scaleX=E,this.scaleY=x,c|=8,a=l=!0)}let d=(parseInt(n.paddingTop)||0)*this.scaleY,h=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=h)&&(this.paddingTop=d,this.paddingBottom=h,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=pb(e.scrollDOM);let m=(this.printing?yO:bO)(t,this.paddingTop),g=m.top-this.pixelViewport.top,v=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let C=o.width;if((this.contentDOMWidth!=C||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let E=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(E)&&(a=!0),a||r.lineWrapping&&Math.abs(C-this.contentDOMWidth)>r.charWidth){let{lineHeight:x,charWidth:R,textHeight:O}=e.docView.measureTextSize();a=x>0&&r.refresh(i,x,R,O,C/R,E),a&&(e.docView.minWidth=0,c|=8)}g>0&&v>0?u=Math.max(g,v):g<0&&v<0&&(u=Math.min(g,v)),Xf();for(let x of this.viewports){let R=x.from==this.viewport.from?E:e.docView.measureVisibleLineHeights(x);this.heightMap=(a?Mt.empty().applyChanges(this.stateDeco,De.empty,this.heightOracle,[new ss(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,a,new fO(x.from,R))}yr&&(c|=2)}let A=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return A&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||A)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,i=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,l=new Ca(r.lineAt(a-n*1e3,We.ByHeight,i,0,0).from,r.lineAt(o+(1-n)*1e3,We.ByHeight,i,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=r.lineAt(c,We.ByPos,i,0,0),h;t.y=="center"?h=(d.top+d.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<l.from?h=d.top:h=d.bottom-u,l=new Ca(r.lineAt(h-1e3/2,We.ByHeight,i,0,0).from,r.lineAt(h+u+1e3/2,We.ByHeight,i,0,0).to)}}return l}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Ca(this.heightMap.lineAt(n,We.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,We.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,We.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(t,We.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(e==0||r<=a-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||i>=o+Math.max(10,Math.min(n,250)))&&r>a-2*1e3&&i<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new rc(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,i=r>>1,a=r<<1;if(this.defaultTextDirection!=qe.LTR&&!n)return[];let o=[],l=(u,d,h,f)=>{if(d-u<i)return;let m=this.state.selection.main,g=[m.from];m.empty||g.push(m.to);for(let b of g)if(b>u&&b<d){l(u,b-10,h,f),l(b+10,d,h,f);return}let v=SO(e,b=>b.from>=h.from&&b.to<=h.to&&Math.abs(b.from-u)<i&&Math.abs(b.to-d)<i&&!g.some(C=>b.from<C&&b.to>C));if(!v){if(d<h.to&&t&&n&&t.visibleRanges.some(A=>A.from<=d&&A.to>=d)){let A=t.moveToLineBoundary(_.cursor(d),!1,!0).head;A>u&&(d=A)}let b=this.gapSize(h,u,d,f),C=n||b<2e6?b:2e6;v=new rc(u,d,b,C)}o.push(v)},c=u=>{if(u.length<a||u.type!=Et.Text)return;let d=xO(u.from,u.to,this.stateDeco);if(d.total<a)return;let h=this.scrollTarget?this.scrollTarget.range.head:null,f,m;if(n){let g=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,b;if(h!=null){let C=Aa(d,h),A=((this.visibleBottom-this.visibleTop)/2+g)/u.height;v=C-A,b=C+A}else v=(this.visibleTop-u.top-g)/u.height,b=(this.visibleBottom-u.top+g)/u.height;f=Pa(d,v),m=Pa(d,b)}else{let g=d.total*this.heightOracle.charWidth,v=r*this.heightOracle.charWidth,b=0;if(g>2e6)for(let R of e)R.from>=u.from&&R.from<u.to&&R.size!=R.displaySize&&R.from*this.heightOracle.charWidth+b<this.pixelViewport.left&&(b=R.size-R.displaySize);let C=this.pixelViewport.left+b,A=this.pixelViewport.right+b,E,x;if(h!=null){let R=Aa(d,h),O=((A-C)/2+v)/g;E=R-O,x=R+O}else E=(C-v)/g,x=(A+v)/g;f=Pa(d,E),m=Pa(d,x)}f>u.from&&l(u.from,f,u,d),m<u.to&&l(m,u.to,u,d)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return o}gapSize(e,t,n,r){let i=Aa(r,n)-Aa(r,t);return this.heightOracle.lineWrapping?e.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(e){rc.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=me.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Ne.spans(e,this.viewport.from,this.viewport.to,{span(r,i){t.push({from:r,to:i})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,i)=>r.from!=t[i].from||r.to!=t[i].to);return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Zr(this.heightMap.lineAt(e,We.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Zr(this.heightMap.lineAt(this.scaler.fromDOM(e),We.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Zr(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ca{constructor(e,t){this.from=e,this.to=t}}function xO(s,e,t){let n=[],r=s,i=0;return Ne.spans(t,s,e,{span(){},point(a,o){a>r&&(n.push({from:r,to:a}),i+=a-r),r=o}},20),r<e&&(n.push({from:r,to:e}),i+=e-r),{total:i,ranges:n}}function Pa({total:s,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(s*t);for(let r=0;;r++){let{from:i,to:a}=e[r],o=a-i;if(n<=o)return i+n;n-=o}}function Aa(s,e){let t=0;for(let{from:n,to:r}of s.ranges){if(e<=r){t+=e-n;break}t+=r-n}return t/s.total}function SO(s,e){for(let t of s)if(e(t))return t}const sp={toDOM(s){return s},fromDOM(s){return s},scale:1,eq(s){return s==this}};class Bd{constructor(e,t,n){let r=0,i=0,a=0;this.viewports=n.map(({from:o,to:l})=>{let c=t.lineAt(o,We.ByPos,e,0,0).top,u=t.lineAt(l,We.ByPos,e,0,0).bottom;return r+=u-c,{from:o,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let o of this.viewports)o.domTop=a+(o.top-i)*this.scale,a=o.domBottom=o.domTop+(o.bottom-o.top),i=o.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return r+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,r=i.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-r)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,r=i.domBottom}}eq(e){return e instanceof Bd?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to):!1}}function Zr(s,e){if(e.scale==1)return s;let t=e.toDOM(s.top),n=e.toDOM(s.bottom);return new Cs(s.from,s.length,t,n-t,Array.isArray(s._content)?s._content.map(r=>Zr(r,e)):s._content)}const Ta=te.define({combine:s=>s.join(" ")}),Cu=te.define({combine:s=>s.indexOf(!0)>-1}),Pu=fn.newName(),ny=fn.newName(),ry=fn.newName(),iy={"&light":"."+ny,"&dark":"."+ry};function Au(s,e,t){return new fn(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,r=>{if(r=="&")return s;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):s+" "+n}})}const kO=Au("."+Pu,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},iy),CO={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ic=se.ie&&se.ie_version<=11;class PO{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new cD,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(se.ie&&se.ie_version<=11||se.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(se.chrome&&se.chrome_version<126)&&(this.editContext=new TO(e),e.state.facet(en)&&(e.contentDOM.editContext=this.editContext.editContext)),ic&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(en)?n.root.activeElement!=this.dom:!Qa(this.dom,r))return;let i=r.anchorNode&&n.docView.nearest(r.anchorNode);if(i&&i.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(se.ie&&se.ie_version<=11||se.android&&se.chrome)&&!n.state.selection.main.empty&&r.focusNode&&ui(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Si(e.root);if(!t)return!1;let n=se.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&AO(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let r=Qa(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&dD(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,CO),ic&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ic&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let r=()=>{let i=this.delayedAndroidKey;i&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=i.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&i.force&&ur(this.dom,i.key,i.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let i of e){let a=this.readMutation(i);a&&(a.typeOver&&(r=!0),t==-1?{from:t,to:n}=a:(t=Math.min(a.from,t),n=Math.max(a.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&Qa(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new HD(this.view,e,t,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,r=Gb(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let n=np(t,e.previousSibling||e.target.previousSibling,-1),r=np(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(en)!=e.state.facet(en)&&(e.view.contentDOM.editContext=e.state.facet(en)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function np(s,e,t){for(;e;){let n=$e.get(e);if(n&&n.parent==s)return n;let r=e.parentNode;e=r!=s.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function rp(s,e){let t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset,a=s.docView.domAtPos(s.state.selection.main.anchor);return ui(a.node,a.offset,r,i)&&([t,n,r,i]=[r,i,t,n]),{anchorNode:t,anchorOffset:n,focusNode:r,focusOffset:i}}function AO(s,e){if(e.getComposedRanges){let r=e.getComposedRanges(s.root)[0];if(r)return rp(s,r)}let t=null;function n(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return s.contentDOM.addEventListener("beforeinput",n,!0),s.dom.ownerDocument.execCommand("indent"),s.contentDOM.removeEventListener("beforeinput",n,!0),t?rp(s,t):null}class TO{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let{anchor:r}=e.state.selection.main,i=this.toEditorPos(n.updateRangeStart),a=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:i,drifted:!1});let o={from:i,to:a,insert:De.of(n.text.split(`
`))};o.from==this.from&&r<this.from?o.from=r:o.to==this.to&&r>this.to&&(o.to=r),!(o.from==o.to&&!o.insert.length)&&(this.pendingContextChange=o,e.state.readOnly||zd(e,o,_.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=n=>{let r=[],i=null;for(let a=this.toEditorPos(n.rangeStart),o=this.toEditorPos(n.rangeEnd);a<o;a++){let l=e.coordsForChar(a);i=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||i||new DOMRect,r.push(i)}t.updateCharacterBounds(n.rangeStart,r)},this.handlers.textformatupdate=n=>{let r=[];for(let i of n.getTextFormats()){let a=i.underlineStyle,o=i.underlineThickness;if(a!="None"&&o!="None"){let l=`text-decoration: underline ${a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${o=="Thin"?1:2}px`;r.push(me.mark({attributes:{style:l}}).range(this.toEditorPos(i.rangeStart),this.toEditorPos(i.rangeEnd)))}}e.dispatch({effects:_b.of(me.set(r))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)t.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let r=Si(n.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,r=this.pendingContextChange;return e.changes.iterChanges((i,a,o,l,c)=>{if(n)return;let u=c.length-(a-i);if(r&&a>=r.to)if(r.from==i&&r.to==a&&r.insert.eq(c)){r=this.pendingContextChange=null,t+=u,this.to+=u;return}else r=null,this.revertPending(e.state);if(i+=t,a+=t,a<=this.from)this.from+=u,this.to+=u;else if(i<this.to){if(i<this.from||a>this.to||this.to-this.from+c.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(i),this.toContextPos(a),c.toString()),this.to+=u}t+=u}),r&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange;this.composing&&(this.composing.drifted||e.transactions.some(n=>!n.isUserEvent("input.type")&&n.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(n,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e){let t=this.composing;return t&&t.drifted?t.editorBase+(e-t.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class J{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(r=>r.forEach(i=>n(i,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||uD(e.parent)||document,this.viewState=new tp(e.state||Me.create(e)),e.scrollTo&&e.scrollTo.is(xa)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Yr).map(r=>new tc(r));for(let r of this.plugins)r.update(this);this.observer=new PO(this),this.inputState=new YD(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Bf(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof at?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,r,i=this.state;for(let h of e){if(h.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=h.state}if(this.destroyed){this.viewState.state=i;return}let a=this.hasFocus,o=0,l=null;e.some(h=>h.annotation(Xb))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,l=ey(i,a),l||(o=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(u=null)):this.observer.clear(),i.facet(Me.phrases)!=this.state.facet(Me.phrases))return this.setState(i);r=xo.create(this,i,e),r.flags|=o;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(d&&(d=d.map(h.changes)),h.scrollIntoView){let{main:f}=h.state.selection;d=new dr(f.empty?f:_.cursor(f.head,f.head>f.anchor?-1:1))}for(let f of h.effects)f.is(xa)&&(d=f.value.clip(this.state))}this.viewState.update(r,d),this.bidiCache=ko.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(Qr)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Ta)!=r.state.facet(Ta)&&(this.viewState.mustMeasureContent=!0),(t||n||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!r.empty)for(let h of this.state.facet(wu))try{h(r)}catch(f){Tt(this.state,f,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!Gb(this,u)&&c.force&&ur(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new tp(e),this.plugins=e.facet(Yr).map(n=>new tc(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new Bf(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Yr),n=e.state.facet(Yr);if(t!=n){let r=[];for(let i of n){let a=t.indexOf(i);if(a<0)r.push(new tc(i));else{let o=this.plugins[a];o.mustUpdate=e,r.push(o)}}for(let i of this.plugins)i.mustUpdate!=e&&i.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(n){Tt(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:a}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(a<0)if(pb(n))i=-1,a=this.viewState.heightMap.height;else{let f=this.viewState.scrollAnchorAt(r);i=f.from,a=f.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(f=>{try{return f.read(this)}catch(m){return Tt(this.state,m),ip}}),d=xo.create(this,this.state,[]),h=!1;d.flags|=l,t?t.flags|=l:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),h=this.docView.update(d),h&&this.docViewUpdate());for(let f=0;f<c.length;f++)if(u[f]!=ip)try{let m=c[f];m.write&&m.write(u[f],this)}catch(m){Tt(this.state,m)}if(h&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let m=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-a;if(m>1||m<-1){r=r+m,n.scrollTop=r/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let o of this.state.facet(wu))o(t)}get themeClasses(){return Pu+" "+(this.state.facet(Cu)?ry:ny)+" "+this.state.facet(Ta)}updateAttrs(){let e=ap(this,Fb,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(en)?"true":"false",class:"cm-content",style:`${se.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),ap(this,Rd,t);let n=this.observer.ignore(()=>{let r=pu(this.contentDOM,this.contentAttrs,t),i=pu(this.dom,this.editorAttrs,e);return r||i});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let r of n.effects)if(r.is(J.announce)){t&&(this.announceDOM.textContent=""),t=!1;let i=this.announceDOM.appendChild(document.createElement("div"));i.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Qr);let e=this.state.facet(J.cspNonce);fn.mount(this.root,this.styleModules.concat(kO).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return nc(this,e,Ff(this,e,t,n))}moveByGroup(e,t){return nc(this,e,Ff(this,e,t,n=>_D(this,e.head,n)))}visualLineSide(e,t){let n=this.bidiSpans(e),r=this.textDirectionAt(e.from),i=n[t?n.length-1:0];return _.cursor(i.side(t,r)+e.from,i.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,n=!0){return $D(this,e,t,n)}moveVertically(e,t,n){return nc(this,e,FD(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),qb(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),i=this.bidiSpans(r),a=i[on.find(i,e-r.from,-1,t)];return Fi(n,a.dir==qe.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(jb)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>EO)return Mb(e.length);let t=this.textDirectionAt(e.from),n;for(let i of this.bidiCache)if(i.from==e.from&&i.dir==t&&(i.fresh||Eb(i.isolates,n=Lf(this,e))))return i.order;n||(n=Lf(this,e));let r=kD(e.text,t,n);return this.bidiCache.push(new ko(e.from,e.to,t,n,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||se.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{hb(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return xa.of(new dr(typeof e=="number"?_.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return xa.of(new dr(_.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Xe.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Xe.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=fn.newName(),r=[Ta.of(n),Qr.of(Au(`.${n}`,e))];return t&&t.dark&&r.push(Cu.of(!0)),r}static baseTheme(e){return Un.lowest(Qr.of(Au("."+Pu,e,iy)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&$e.get(n)||$e.get(e);return((t=r==null?void 0:r.rootView)===null||t===void 0?void 0:t.view)||null}}J.styleModule=Qr;J.inputHandler=Lb;J.clipboardInputFilter=Md;J.clipboardOutputFilter=Nd;J.scrollHandler=$b;J.focusChangeEffect=Bb;J.perLineTextDirection=jb;J.exceptionSink=zb;J.updateListener=wu;J.editable=en;J.mouseSelectionStyle=Ob;J.dragMovesSelection=Db;J.clickAddsSelectionRange=Rb;J.decorations=ki;J.outerDecorations=Vb;J.atomicRanges=Dd;J.bidiIsolatedRanges=Ub;J.scrollMargins=Hb;J.darkTheme=Cu;J.cspNonce=te.define({combine:s=>s.length?s[0]:""});J.contentAttributes=Rd;J.editorAttributes=Fb;J.lineWrapping=J.contentAttributes.of({class:"cm-lineWrapping"});J.announce=we.define();const EO=4096,ip={};class ko{constructor(e,t,n,r,i,a){this.from=e,this.to=t,this.dir=n,this.isolates=r,this.fresh=i,this.order=a}static update(e,t){if(t.empty&&!e.some(i=>i.fresh))return e;let n=[],r=e.length?e[e.length-1].dir:qe.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let a=e[i];a.dir==r&&!t.touchesRange(a.from,a.to)&&n.push(new ko(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return n}}function ap(s,e,t){for(let n=s.state.facet(e),r=n.length-1;r>=0;r--){let i=n[r],a=typeof i=="function"?i(s):i;a&&fu(a,t)}return t}const MO=se.mac?"mac":se.windows?"win":se.linux?"linux":"key";function NO(s,e){const t=s.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let r,i,a,o;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))e=="mac"?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function Ea(s,e,t){return e.altKey&&(s="Alt-"+s),e.ctrlKey&&(s="Ctrl-"+s),e.metaKey&&(s="Meta-"+s),t!==!1&&e.shiftKey&&(s="Shift-"+s),s}const RO=Un.default(J.domEventHandlers({keydown(s,e){return oy(ay(e.state),s,e,"editor")}})),ml=te.define({enables:RO}),op=new WeakMap;function ay(s){let e=s.facet(ml),t=op.get(e);return t||op.set(e,t=zO(e.reduce((n,r)=>n.concat(r),[]))),t}function DO(s,e,t){return oy(ay(s.state),e,s,t)}let tn=null;const OO=4e3;function zO(s,e=MO){let t=Object.create(null),n=Object.create(null),r=(a,o)=>{let l=n[a];if(l==null)n[a]=o;else if(l!=o)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},i=(a,o,l,c,u)=>{var d,h;let f=t[a]||(t[a]=Object.create(null)),m=o.split(/ (?!$)/).map(b=>NO(b,e));for(let b=1;b<m.length;b++){let C=m.slice(0,b).join(" ");r(C,!0),f[C]||(f[C]={preventDefault:!0,stopPropagation:!1,run:[A=>{let E=tn={view:A,prefix:C,scope:a};return setTimeout(()=>{tn==E&&(tn=null)},OO),!0}]})}let g=m.join(" ");r(g,!1);let v=f[g]||(f[g]={preventDefault:!1,stopPropagation:!1,run:((h=(d=f._any)===null||d===void 0?void 0:d.run)===null||h===void 0?void 0:h.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),u&&(v.stopPropagation=!0)};for(let a of s){let o=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let c of o){let u=t[c]||(t[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=a;for(let h in u)u[h].run.push(f=>d(f,Tu))}let l=a[e]||a.key;if(l)for(let c of o)i(c,l,a.run,a.preventDefault,a.stopPropagation),a.shift&&i(c,"Shift-"+l,a.shift,a.preventDefault,a.stopPropagation)}return t}let Tu=null;function oy(s,e,t,n){Tu=e;let r=iD(e),i=mt(r,0),a=Jt(i)==r.length&&r!=" ",o="",l=!1,c=!1,u=!1;tn&&tn.view==t&&tn.scope==n&&(o=tn.prefix+" ",Yb.indexOf(e.keyCode)<0&&(c=!0,tn=null));let d=new Set,h=v=>{if(v){for(let b of v.run)if(!d.has(b)&&(d.add(b),b(t)))return v.stopPropagation&&(u=!0),!0;v.preventDefault&&(v.stopPropagation&&(u=!0),c=!0)}return!1},f=s[n],m,g;return f&&(h(f[o+Ea(r,e,!a)])?l=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(se.windows&&e.ctrlKey&&e.altKey)&&(m=pn[e.keyCode])&&m!=r?(h(f[o+Ea(m,e,!0)])||e.shiftKey&&(g=xi[e.keyCode])!=r&&g!=m&&h(f[o+Ea(g,e,!1)]))&&(l=!0):a&&e.shiftKey&&h(f[o+Ea(r,e,!0)])&&(l=!0),!l&&h(f._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),Tu=null,l}class Hi{constructor(e,t,n,r,i){this.className=e,this.left=t,this.top=n,this.width=r,this.height=i}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let r=e.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let i=ly(e);return[new Hi(t,r.left-i.left,r.top-i.top,null,r.bottom-r.top)]}else return LO(e,t,n)}}function ly(s){let e=s.scrollDOM.getBoundingClientRect();return{left:(s.textDirection==qe.LTR?e.left:e.right-s.scrollDOM.clientWidth*s.scaleX)-s.scrollDOM.scrollLeft*s.scaleX,top:e.top-s.scrollDOM.scrollTop*s.scaleY}}function lp(s,e,t,n){let r=s.coordsAtPos(e,t*2);if(!r)return n;let i=s.dom.getBoundingClientRect(),a=(r.top+r.bottom)/2,o=s.posAtCoords({x:i.left+1,y:a}),l=s.posAtCoords({x:i.right-1,y:a});return o==null||l==null?n:{from:Math.max(n.from,Math.min(o,l)),to:Math.min(n.to,Math.max(o,l))}}function LO(s,e,t){if(t.to<=s.viewport.from||t.from>=s.viewport.to)return[];let n=Math.max(t.from,s.viewport.from),r=Math.min(t.to,s.viewport.to),i=s.textDirection==qe.LTR,a=s.contentDOM,o=a.getBoundingClientRect(),l=ly(s),c=a.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=o.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=o.right-(u?parseInt(u.paddingRight):0),f=Su(s,n),m=Su(s,r),g=f.type==Et.Text?f:null,v=m.type==Et.Text?m:null;if(g&&(s.lineWrapping||f.widgetLineBreaks)&&(g=lp(s,n,1,g)),v&&(s.lineWrapping||m.widgetLineBreaks)&&(v=lp(s,r,-1,v)),g&&v&&g.from==v.from&&g.to==v.to)return C(A(t.from,t.to,g));{let x=g?A(t.from,null,g):E(f,!1),R=v?A(null,t.to,v):E(m,!0),O=[];return(g||f).to<(v||m).from-(g&&v?1:0)||f.widgetLineBreaks>1&&x.bottom+s.defaultLineHeight/2<R.top?O.push(b(d,x.bottom,h,R.top)):x.bottom<R.top&&s.elementAtHeight((x.bottom+R.top)/2).type==Et.Text&&(x.bottom=R.top=(x.bottom+R.top)/2),C(x).concat(O).concat(C(R))}function b(x,R,O,z){return new Hi(e,x-l.left,R-l.top-.01,O-x,z-R+.01)}function C({top:x,bottom:R,horizontal:O}){let z=[];for(let M=0;M<O.length;M+=2)z.push(b(O[M],x,O[M+1],R));return z}function A(x,R,O){let z=1e9,M=-1e9,$=[];function W(q,Q,re,de,ge){let G=s.coordsAtPos(q,q==O.to?-2:2),ue=s.coordsAtPos(re,re==O.from?2:-2);!G||!ue||(z=Math.min(G.top,ue.top,z),M=Math.max(G.bottom,ue.bottom,M),ge==qe.LTR?$.push(i&&Q?d:G.left,i&&de?h:ue.right):$.push(!i&&de?d:ue.left,!i&&Q?h:G.right))}let V=x??O.from,Z=R??O.to;for(let q of s.visibleRanges)if(q.to>V&&q.from<Z)for(let Q=Math.max(q.from,V),re=Math.min(q.to,Z);;){let de=s.state.doc.lineAt(Q);for(let ge of s.bidiSpans(de)){let G=ge.from+de.from,ue=ge.to+de.from;if(G>=re)break;ue>Q&&W(Math.max(G,Q),x==null&&G<=V,Math.min(ue,re),R==null&&ue>=Z,ge.dir)}if(Q=de.to+1,Q>=re)break}return $.length==0&&W(V,x==null,Z,R==null,s.textDirection),{top:z,bottom:M,horizontal:$}}function E(x,R){let O=o.top+(R?x.top:x.bottom);return{top:O,bottom:O,horizontal:[]}}}function BO(s,e){return s.constructor==e.constructor&&s.eq(e)}class jO{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Xa)!=e.state.facet(Xa)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(Xa);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,n)=>!BO(t,this.drawn[n]))){let t=this.dom.firstChild,n=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[n].constructor&&r.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(r.draw(),t);for(;t;){let r=t.nextSibling;t.remove(),t=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Xa=te.define();function cy(s){return[Xe.define(e=>new jO(e,s)),Xa.of(s)]}const uy=!se.ios,Ci=te.define({combine(s){return hs(s,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function IO(s={}){return[Ci.of(s),$O,_O,FO,Ib.of(!0)]}function dy(s){return s.startState.facet(Ci)!=s.state.facet(Ci)}const $O=cy({above:!0,markers(s){let{state:e}=s,t=e.facet(Ci),n=[];for(let r of e.selection.ranges){let i=r==e.selection.main;if(r.empty?!i||uy:t.drawRangeCursor){let a=i?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=r.empty?r:_.cursor(r.head,r.head>r.anchor?-1:1);for(let l of Hi.forRange(s,a,o))n.push(l)}}return n},update(s,e){s.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=dy(s);return t&&cp(s.state,e),s.docChanged||s.selectionSet||t},mount(s,e){cp(e.state,s)},class:"cm-cursorLayer"});function cp(s,e){e.style.animationDuration=s.facet(Ci).cursorBlinkRate+"ms"}const _O=cy({above:!1,markers(s){return s.state.selection.ranges.map(e=>e.empty?[]:Hi.forRange(s,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(s,e){return s.docChanged||s.selectionSet||s.viewportChanged||dy(s)},class:"cm-selectionLayer"}),Eu={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};uy&&(Eu[".cm-line"].caretColor=Eu[".cm-content"].caretColor="transparent !important");const FO=Un.highest(J.theme(Eu)),hy=we.define({map(s,e){return s==null?null:e.mapPos(s)}}),Xr=lt.define({create(){return null},update(s,e){return s!=null&&(s=e.changes.mapPos(s)),e.effects.reduce((t,n)=>n.is(hy)?n.value:t,s)}}),VO=Xe.fromClass(class{constructor(s){this.view=s,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(s){var e;let t=s.state.field(Xr);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(s.startState.field(Xr)!=t||s.docChanged||s.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:s}=this,e=s.state.field(Xr),t=e!=null&&s.coordsAtPos(e);if(!t)return null;let n=s.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+s.scrollDOM.scrollLeft*s.scaleX,top:t.top-n.top+s.scrollDOM.scrollTop*s.scaleY,height:t.bottom-t.top}}drawCursor(s){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;s?(this.cursor.style.left=s.left/e+"px",this.cursor.style.top=s.top/t+"px",this.cursor.style.height=s.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(s){this.view.state.field(Xr)!=s&&this.view.dispatch({effects:hy.of(s)})}},{eventObservers:{dragover(s){this.setDropPos(this.view.posAtCoords({x:s.clientX,y:s.clientY}))},dragleave(s){(s.target==this.view.contentDOM||!this.view.contentDOM.contains(s.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function UO(){return[Xr,VO]}function up(s,e,t,n,r){e.lastIndex=0;for(let i=s.iterRange(t,n),a=t,o;!i.next().done;a+=i.value.length)if(!i.lineBreak)for(;o=e.exec(i.value);)r(a+o.index,o)}function HO(s,e){let t=s.visibleRanges;if(t.length==1&&t[0].from==s.viewport.from&&t[0].to==s.viewport.to)return t;let n=[];for(let{from:r,to:i}of t)r=Math.max(s.state.doc.lineAt(r).from,r-e),i=Math.min(s.state.doc.lineAt(i).to,i+e),n.length&&n[n.length-1].to>=r?n[n.length-1].to=i:n.push({from:r,to:i});return n}class WO{constructor(e){const{regexp:t,decoration:n,decorate:r,boundary:i,maxLength:a=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(o,l,c,u)=>r(u,c,c+o[0].length,o,l);else if(typeof n=="function")this.addMatch=(o,l,c,u)=>{let d=n(o,l,c);d&&u(c,c+o[0].length,d)};else if(n)this.addMatch=(o,l,c,u)=>u(c,c+o[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=i,this.maxLength=a}createDeco(e){let t=new _s,n=t.add.bind(t);for(let{from:r,to:i}of HO(e,this.maxLength))up(e.state.doc,this.regexp,r,i,(a,o)=>this.addMatch(o,e,a,n));return t.finish()}updateDeco(e,t){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((i,a,o,l)=>{l>e.view.viewport.from&&o<e.view.viewport.to&&(n=Math.min(o,n),r=Math.max(l,r))}),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}updateRange(e,t,n,r){for(let i of e.visibleRanges){let a=Math.max(i.from,n),o=Math.min(i.to,r);if(o>a){let l=e.state.doc.lineAt(a),c=l.to<o?e.state.doc.lineAt(o):l,u=Math.max(i.from,l.from),d=Math.min(i.to,c.to);if(this.boundary){for(;a>l.from;a--)if(this.boundary.test(l.text[a-1-l.from])){u=a;break}for(;o<c.to;o++)if(this.boundary.test(c.text[o-c.from])){d=o;break}}let h=[],f,m=(g,v,b)=>h.push(b.range(g,v));if(l==c)for(this.regexp.lastIndex=u-l.from;(f=this.regexp.exec(l.text))&&f.index<d-l.from;)this.addMatch(f,e,f.index+l.from,m);else up(e.state.doc,this.regexp,u,d,(g,v)=>this.addMatch(v,e,g,m));t=t.update({filterFrom:u,filterTo:d,filter:(g,v)=>g<u||v>d,add:h})}}return t}}const Mu=/x/.unicode!=null?"gu":"g",qO=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Mu),GO={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ac=null;function KO(){var s;if(ac==null&&typeof document<"u"&&document.body){let e=document.body.style;ac=((s=e.tabSize)!==null&&s!==void 0?s:e.MozTabSize)!=null}return ac||!1}const eo=te.define({combine(s){let e=hs(s,{render:null,specialChars:qO,addSpecialChars:null});return(e.replaceTabs=!KO())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Mu)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Mu)),e}});function YO(s={}){return[eo.of(s),QO()]}let dp=null;function QO(){return dp||(dp=Xe.fromClass(class{constructor(s){this.view=s,this.decorations=me.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(s.state.facet(eo)),this.decorations=this.decorator.createDeco(s)}makeDecorator(s){return new WO({regexp:s.specialChars,decoration:(e,t,n)=>{let{doc:r}=t.state,i=mt(e[0],0);if(i==9){let a=r.lineAt(n),o=t.state.tabSize,l=Nr(a.text,o,n-a.from);return me.replace({widget:new e3((o-l%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[i]||(this.decorationCache[i]=me.replace({widget:new XO(s,i)}))},boundary:s.replaceTabs?void 0:/[^]/})}update(s){let e=s.state.facet(eo);s.startState.facet(eo)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(s.view)):this.decorations=this.decorator.updateDeco(s,this.decorations)}},{decorations:s=>s.decorations}))}const JO="•";function ZO(s){return s>=32?JO:s==10?"␤":String.fromCharCode(9216+s)}class XO extends Hs{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=ZO(this.code),n=e.state.phrase("Control character")+" "+(GO[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;let i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class e3 extends Hs{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function t3(){return n3}const s3=me.line({class:"cm-activeLine"}),n3=Xe.fromClass(class{constructor(s){this.decorations=this.getDeco(s)}update(s){(s.docChanged||s.selectionSet)&&(this.decorations=this.getDeco(s.view))}getDeco(s){let e=-1,t=[];for(let n of s.state.selection.ranges){let r=s.lineBlockAt(n.head);r.from>e&&(t.push(s3.range(r.from)),e=r.from)}return me.set(t)}},{decorations:s=>s.decorations});class r3 extends Hs{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),typeof this.content=="string"?t.setAttribute("aria-label","placeholder "+this.content):t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?gr(e.firstChild):[];if(!t.length)return null;let n=window.getComputedStyle(e.parentNode),r=Fi(t[0],n.direction!="rtl"),i=parseInt(n.lineHeight);return r.bottom-r.top>i*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+i}:r}ignoreEvent(){return!1}}function i3(s){return Xe.fromClass(class{constructor(e){this.view=e,this.placeholder=s?me.set([me.widget({widget:new r3(s),side:1}).range(0)]):me.none}get decorations(){return this.view.state.doc.length?me.none:this.placeholder}},{decorations:e=>e.decorations})}const Nu=2e3;function a3(s,e,t){let n=Math.min(e.line,t.line),r=Math.max(e.line,t.line),i=[];if(e.off>Nu||t.off>Nu||e.col<0||t.col<0){let a=Math.min(e.off,t.off),o=Math.max(e.off,t.off);for(let l=n;l<=r;l++){let c=s.doc.line(l);c.length<=o&&i.push(_.range(c.from+a,c.to+o))}}else{let a=Math.min(e.col,t.col),o=Math.max(e.col,t.col);for(let l=n;l<=r;l++){let c=s.doc.line(l),u=au(c.text,a,s.tabSize,!0);if(u<0)i.push(_.cursor(c.to));else{let d=au(c.text,o,s.tabSize);i.push(_.range(c.from+u,c.from+d))}}}return i}function o3(s,e){let t=s.coordsAtPos(s.viewport.from);return t?Math.round(Math.abs((t.left-e)/s.defaultCharacterWidth)):-1}function hp(s,e){let t=s.posAtCoords({x:e.clientX,y:e.clientY},!1),n=s.state.doc.lineAt(t),r=t-n.from,i=r>Nu?-1:r==n.length?o3(s,e.clientX):Nr(n.text,s.state.tabSize,t-n.from);return{line:n.number,col:i,off:r}}function l3(s,e){let t=hp(s,e),n=s.state.selection;return t?{update(r){if(r.docChanged){let i=r.changes.mapPos(r.startState.doc.line(t.line).from),a=r.state.doc.lineAt(i);t={line:a.number,col:t.col,off:Math.min(t.off,a.length)},n=n.map(r.changes)}},get(r,i,a){let o=hp(s,r);if(!o)return n;let l=a3(s.state,t,o);return l.length?a?_.create(l.concat(n.ranges)):_.create(l):n}}:null}function c3(s){let e=t=>t.altKey&&t.button==0;return J.mouseSelectionStyle.of((t,n)=>e(n)?l3(t,n):null)}const u3={Alt:[18,s=>!!s.altKey],Control:[17,s=>!!s.ctrlKey],Shift:[16,s=>!!s.shiftKey],Meta:[91,s=>!!s.metaKey]},d3={style:"cursor: crosshair"};function h3(s={}){let[e,t]=u3[s.key||"Alt"],n=Xe.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)},mousemove(r){this.set(t(r))}}});return[n,J.contentAttributes.of(r=>{var i;return!((i=r.plugin(n))===null||i===void 0)&&i.isDown?d3:null})]}const Hr="-10000px";class fy{constructor(e,t,n,r){this.facet=t,this.createTooltipView=n,this.removeTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(a=>a);let i=null;this.tooltipViews=this.tooltips.map(a=>i=n(a,i))}update(e,t){var n;let r=e.state.facet(this.facet),i=r.filter(l=>l);if(r===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let a=[],o=t?[]:null;for(let l=0;l<i.length;l++){let c=i[l],u=-1;if(c){for(let d=0;d<this.tooltips.length;d++){let h=this.tooltips[d];h&&h.create==c.create&&(u=d)}if(u<0)a[l]=this.createTooltipView(c,l?a[l-1]:null),o&&(o[l]=!!c.above);else{let d=a[l]=this.tooltipViews[u];o&&(o[l]=t[u]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)a.indexOf(l)<0&&(this.removeTooltipView(l),(n=l.destroy)===null||n===void 0||n.call(l));return t&&(o.forEach((l,c)=>t[c]=l),t.length=o.length),this.input=r,this.tooltips=i,this.tooltipViews=a,!0}}function f3(s){let{win:e}=s;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const oc=te.define({combine:s=>{var e,t,n;return{position:se.ios?"absolute":((e=s.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=s.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=s.find(r=>r.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||f3}}}),fp=new WeakMap,jd=Xe.fromClass(class{constructor(s){this.view=s,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=s.state.facet(oc);this.position=e.position,this.parent=e.parent,this.classes=s.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new fy(s,gl,(t,n)=>this.createTooltip(t,n),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),s.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let s of this.manager.tooltipViews)this.intersectionObserver.observe(s.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(s){s.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(s,this.above);e&&this.observeIntersection();let t=e||s.geometryChanged,n=s.state.facet(oc);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(s,e){let t=s.create(this.view),n=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),s.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",t.dom.appendChild(r)}return t.dom.style.position=this.position,t.dom.style.top=Hr,t.dom.style.left="0px",this.container.insertBefore(t.dom,n),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var s,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(s=n.destroy)===null||s===void 0||s.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let s=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(se.gecko)t=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==Hr&&i.style.left=="0px"){let a=i.getBoundingClientRect();t=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(t||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(s=i.width/this.parent.offsetWidth,e=i.height/this.parent.offsetHeight)}else({scaleX:s,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),r=Od(this.view);return{visible:{left:n.left+r.left,top:n.top+r.top,right:n.right-r.right,bottom:n.bottom-r.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((i,a)=>{let o=this.manager.tooltipViews[a];return o.getCoords?o.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(oc).tooltipSpace(this.view),scaleX:s,scaleY:e,makeAbsolute:t}}writeMeasure(s){var e;if(s.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:t,space:n,scaleX:r,scaleY:i}=s,a=[];for(let o=0;o<this.manager.tooltips.length;o++){let l=this.manager.tooltips[o],c=this.manager.tooltipViews[o],{dom:u}=c,d=s.pos[o],h=s.size[o];if(!d||l.clip!==!1&&(d.bottom<=Math.max(t.top,n.top)||d.top>=Math.min(t.bottom,n.bottom)||d.right<Math.max(t.left,n.left)-.1||d.left>Math.min(t.right,n.right)+.1)){u.style.top=Hr;continue}let f=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,m=f?7:0,g=h.right-h.left,v=(e=fp.get(c))!==null&&e!==void 0?e:h.bottom-h.top,b=c.offset||m3,C=this.view.textDirection==qe.LTR,A=h.width>n.right-n.left?C?n.left:n.right-h.width:C?Math.max(n.left,Math.min(d.left-(f?14:0)+b.x,n.right-g)):Math.min(Math.max(n.left,d.left-g+(f?14:0)-b.x),n.right-g),E=this.above[o];!l.strictSide&&(E?d.top-v-m-b.y<n.top:d.bottom+v+m+b.y>n.bottom)&&E==n.bottom-d.bottom>d.top-n.top&&(E=this.above[o]=!E);let x=(E?d.top-n.top:n.bottom-d.bottom)-m;if(x<v&&c.resize!==!1){if(x<this.view.defaultLineHeight){u.style.top=Hr;continue}fp.set(c,v),u.style.height=(v=x)/i+"px"}else u.style.height&&(u.style.height="");let R=E?d.top-v-m-b.y:d.bottom+m+b.y,O=A+g;if(c.overlap!==!0)for(let z of a)z.left<O&&z.right>A&&z.top<R+v&&z.bottom>R&&(R=E?z.top-v-2-m:z.bottom+m+2);if(this.position=="absolute"?(u.style.top=(R-s.parent.top)/i+"px",u.style.left=(A-s.parent.left)/r+"px"):(u.style.top=R/i+"px",u.style.left=A/r+"px"),f){let z=d.left+(C?b.x:-b.x)-(A+14-7);f.style.left=z/r+"px"}c.overlap!==!0&&a.push({left:A,top:R,right:O,bottom:R+v}),u.classList.toggle("cm-tooltip-above",E),u.classList.toggle("cm-tooltip-below",!E),c.positioned&&c.positioned(s.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let s of this.manager.tooltipViews)s.dom.style.top=Hr}},{eventObservers:{scroll(){this.maybeMeasure()}}}),p3=J.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),m3={x:0,y:0},gl=te.define({enables:[jd,p3]}),Co=te.define({combine:s=>s.reduce((e,t)=>e.concat(t),[])});class vl{static create(e){return new vl(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new fy(e,Co,(t,n)=>this.createHostedView(t,n),t=>t.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let r=n[e];if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const g3=gl.compute([Co],s=>{let e=s.facet(Co);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var n;return(n=t.end)!==null&&n!==void 0?n:t.pos})),create:vl.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class v3{constructor(e,t,n,r,i){this.view=e,this.source=t,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let r,i=1;if(n instanceof an)r=n.posAtStart;else{if(r=e.posAtCoords(t),r==null)return;let o=e.coordsAtPos(r);if(!o||t.y<o.top||t.y>o.bottom||t.x<o.left-e.defaultCharacterWidth||t.x>o.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(r)).find(u=>u.from<=r&&u.to>=r),c=l&&l.dir==qe.RTL?-1:1;i=t.x<o.left?-c:c}let a=this.source(e,r,i);if(a!=null&&a.then){let o=this.pending={pos:r};a.then(l=>{this.pending==o&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>Tt(e.state,l,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let e=this.view.plugin(jd),t=e?e.manager.tooltips.findIndex(n=>n.create==vl.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:i}=this;if(r.length&&i&&!b3(i.dom,e)||this.pending){let{pos:a}=r[0]||this.pending,o=(n=(t=r[0])===null||t===void 0?void 0:t.end)!==null&&n!==void 0?n:a;(a==o?this.view.posAtCoords(this.lastMove)!=a:!y3(this.view,a,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ma=4;function b3(s,e){let{left:t,right:n,top:r,bottom:i}=s.getBoundingClientRect(),a;if(a=s.querySelector(".cm-tooltip-arrow")){let o=a.getBoundingClientRect();r=Math.min(o.top,r),i=Math.max(o.bottom,i)}return e.clientX>=t-Ma&&e.clientX<=n+Ma&&e.clientY>=r-Ma&&e.clientY<=i+Ma}function y3(s,e,t,n,r,i){let a=s.scrollDOM.getBoundingClientRect(),o=s.documentTop+s.documentPadding.top+s.contentHeight;if(a.left>n||a.right<n||a.top>r||Math.min(a.bottom,o)<r)return!1;let l=s.posAtCoords({x:n,y:r},!1);return l>=e&&l<=t}function w3(s,e={}){let t=we.define(),n=lt.define({create(){return[]},update(r,i){if(r.length&&(e.hideOnChange&&(i.docChanged||i.selection)?r=[]:e.hideOn&&(r=r.filter(a=>!e.hideOn(i,a))),i.docChanged)){let a=[];for(let o of r){let l=i.changes.mapPos(o.pos,-1,At.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),o);c.pos=l,c.end!=null&&(c.end=i.changes.mapPos(c.end)),a.push(c)}}r=a}for(let a of i.effects)a.is(t)&&(r=a.value),a.is(x3)&&(r=[]);return r},provide:r=>Co.from(r)});return{active:n,extension:[n,Xe.define(r=>new v3(r,s,n,t,e.hoverTime||300)),g3]}}function py(s,e){let t=s.plugin(jd);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const x3=we.define(),pp=te.define({combine(s){let e,t;for(let n of s)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Pi(s,e){let t=s.plugin(my),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const my=Xe.fromClass(class{constructor(s){this.input=s.state.facet(Ai),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(s));let e=s.state.facet(pp);this.top=new Na(s,!0,e.topContainer),this.bottom=new Na(s,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(s){let e=s.state.facet(pp);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Na(s.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Na(s.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=s.state.facet(Ai);if(t!=this.input){let n=t.filter(l=>l),r=[],i=[],a=[],o=[];for(let l of n){let c=this.specs.indexOf(l),u;c<0?(u=l(s.view),o.push(u)):(u=this.panels[c],u.update&&u.update(s)),r.push(u),(u.top?i:a).push(u)}this.specs=n,this.panels=r,this.top.sync(i),this.bottom.sync(a);for(let l of o)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let n of this.panels)n.update&&n.update(s)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:s=>J.scrollMargins.of(e=>{let t=e.plugin(s);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Na{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=mp(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=mp(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function mp(s){let e=s.nextSibling;return s.remove(),e}const Ai=te.define({enables:my});class Ds extends zn{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ds.prototype.elementClass="";Ds.prototype.toDOM=void 0;Ds.prototype.mapMode=At.TrackBefore;Ds.prototype.startSide=Ds.prototype.endSide=-1;Ds.prototype.point=!0;const to=te.define(),S3=te.define(),k3={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ne.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},hi=te.define();function gy(s){return[vy(),hi.of(Object.assign(Object.assign({},k3),s))]}const gp=te.define({combine:s=>s.some(e=>e)});function vy(s){return[C3]}const C3=Xe.fromClass(class{constructor(s){this.view=s,this.prevViewport=s.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=s.state.facet(hi).map(e=>new bp(s,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!s.state.facet(gp),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),s.scrollDOM.insertBefore(this.dom,s.contentDOM)}update(s){if(this.updateGutters(s)){let e=this.prevViewport,t=s.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}s.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(gp)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=s.view.viewport}syncGutters(s){let e=this.dom.nextSibling;s&&this.dom.remove();let t=Ne.iter(this.view.state.facet(to),this.view.viewport.from),n=[],r=this.gutters.map(i=>new P3(i,this.view.viewport,-this.view.documentPadding.top));for(let i of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(i.type)){let a=!0;for(let o of i.type)if(o.type==Et.Text&&a){Ru(t,n,o.from);for(let l of r)l.line(this.view,o,n);a=!1}else if(o.widget)for(let l of r)l.widget(this.view,o)}else if(i.type==Et.Text){Ru(t,n,i.from);for(let a of r)a.line(this.view,i,n)}else if(i.widget)for(let a of r)a.widget(this.view,i);for(let i of r)i.finish();s&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(s){let e=s.startState.facet(hi),t=s.state.facet(hi),n=s.docChanged||s.heightChanged||s.viewportChanged||!Ne.eq(s.startState.facet(to),s.state.facet(to),s.view.viewport.from,s.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(s)&&(n=!0);else{n=!0;let r=[];for(let i of t){let a=e.indexOf(i);a<0?r.push(new bp(this.view,i)):(this.gutters[a].update(s),r.push(this.gutters[a]))}for(let i of this.gutters)i.dom.remove(),r.indexOf(i)<0&&i.destroy();for(let i of r)this.dom.appendChild(i.dom);this.gutters=r}return n}destroy(){for(let s of this.gutters)s.destroy();this.dom.remove()}},{provide:s=>J.scrollMargins.of(e=>{let t=e.plugin(s);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==qe.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function vp(s){return Array.isArray(s)?s:[s]}function Ru(s,e,t){for(;s.value&&s.from<=t;)s.from==t&&e.push(s.value),s.next()}class P3{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Ne.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:r}=this,i=(t.top-this.height)/e.scaleY,a=t.height/e.scaleY;if(this.i==r.elements.length){let o=new by(e,a,i,n);r.elements.push(o),r.dom.appendChild(o.dom)}else r.elements[this.i].update(e,a,i,n);this.height=t.bottom,this.i++}line(e,t,n){let r=[];Ru(this.cursor,r,t.from),n.length&&(r=r.concat(n));let i=this.gutter.config.lineMarker(e,t,r);i&&r.unshift(i);let a=this.gutter;r.length==0&&!a.config.renderEmptyElements||this.addElement(e,t,r)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),r=n?[n]:null;for(let i of e.state.facet(S3)){let a=i(e,t.widget,t);a&&(r||(r=[])).push(a)}r&&this.addElement(e,t,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class bp{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,r=>{let i=r.target,a;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let l=i.getBoundingClientRect();a=(l.top+l.bottom)/2}else a=r.clientY;let o=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[n](e,o,r)&&r.preventDefault()});this.markers=vp(t.markers(e)),t.initialSpacer&&(this.spacer=new by(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=vp(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let n=e.view.viewport;return!Ne.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class by{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),A3(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let i=0,a=0;;){let o=a,l=i<t.length?t[i++]:null,c=!1;if(l){let u=l.elementClass;u&&(n+=" "+u);for(let d=a;d<this.markers.length;d++)if(this.markers[d].compare(l)){o=d,c=!0;break}}else o=this.markers.length;for(;a<o;){let u=this.markers[a++];if(u.toDOM){u.destroy(r);let d=r.nextSibling;r.remove(),r=d}}if(!l)break;l.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(l.toDOM(e),r)),c&&a++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function A3(s,e){if(s.length!=e.length)return!1;for(let t=0;t<s.length;t++)if(!s[t].compare(e[t]))return!1;return!0}const T3=te.define(),E3=te.define(),nr=te.define({combine(s){return hs(s,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let r in t){let i=n[r],a=t[r];n[r]=i?(o,l,c)=>i(o,l,c)||a(o,l,c):a}return n}})}});class lc extends Ds{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function cc(s,e){return s.state.facet(nr).formatNumber(e,s.state)}const M3=hi.compute([nr],s=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(T3)},lineMarker(e,t,n){return n.some(r=>r.toDOM)?null:new lc(cc(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,n)=>{for(let r of e.state.facet(E3)){let i=r(e,t,n);if(i)return i}return null},lineMarkerChange:e=>e.startState.facet(nr)!=e.state.facet(nr),initialSpacer(e){return new lc(cc(e,yp(e.state.doc.lines)))},updateSpacer(e,t){let n=cc(t.view,yp(t.view.state.doc.lines));return n==e.number?e:new lc(n)},domEventHandlers:s.facet(nr).domEventHandlers}));function N3(s={}){return[nr.of(s),vy(),M3]}function yp(s){let e=9;for(;e<s;)e=e*10+9;return e}const R3=new class extends Ds{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},D3=to.compute(["selection"],s=>{let e=[],t=-1;for(let n of s.selection.ranges){let r=s.doc.lineAt(n.head).from;r>t&&(t=r,e.push(R3.range(r)))}return Ne.of(e)});function O3(){return D3}var uc;const rr=new Pe;function z3(s){return te.define({combine:s?e=>e.concat(s):void 0})}const L3=new Pe;class os{constructor(e,t,n=[],r=""){this.data=e,this.name=r,Me.prototype.hasOwnProperty("tree")||Object.defineProperty(Me.prototype,"tree",{get(){return kt(this)}}),this.parser=t,this.extension=[gn.of(this),Me.languageData.of((i,a,o)=>{let l=wp(i,a,o),c=l.type.prop(rr);if(!c)return[];let u=i.facet(c),d=l.type.prop(L3);if(d){let h=l.resolve(a-l.from,o);for(let f of d)if(f.test(h,i)){let m=i.facet(f.facet);return f.type=="replace"?m:m.concat(u)}}return u})].concat(n)}isActiveAt(e,t,n=-1){return wp(e,t,n).type.prop(rr)==this.data}findRegions(e){let t=e.facet(gn);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(i,a)=>{if(i.prop(rr)==this.data){n.push({from:a,to:a+i.length});return}let o=i.prop(Pe.mounted);if(o){if(o.tree.prop(rr)==this.data){if(o.overlay)for(let l of o.overlay)n.push({from:l.from+a,to:l.to+a});else n.push({from:a,to:a+i.length});return}else if(o.overlay){let l=n.length;if(r(o.tree,o.overlay[0].from+a),n.length>l)return}}for(let l=0;l<i.children.length;l++){let c=i.children[l];c instanceof nt&&r(c,i.positions[l]+a)}};return r(kt(e),0),n}get allowsNesting(){return!0}}os.setState=we.define();function wp(s,e,t){let n=s.facet(gn),r=kt(s).topNode;if(!n||n.allowsNesting)for(let i=r;i;i=i.enter(e,t,ut.ExcludeBuffers))i.type.isTop&&(r=i);return r}class Po extends os{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=z3(e.languageData);return new Po(t,e.parser.configure({props:[rr.add(n=>n.isTop?t:void 0)]}),e.name)}configure(e,t){return new Po(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function kt(s){let e=s.field(os.state,!1);return e?e.tree:nt.empty}class B3{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Wr=null;class Ao{constructor(e,t,n=[],r,i,a,o,l){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=a,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Ao(e,t,[],nt.empty,0,n,[],null)}startParse(){return this.parser.startParse(new B3(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=nt.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(Rn.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Rn.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Wr;Wr=this;try{return e()}finally{Wr=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=xp(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:i,viewport:a,skipped:o}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,h)=>l.push({fromA:c,toA:u,fromB:d,toB:h})),n=Rn.applyChanges(n,l),r=nt.empty,i=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){o=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&o.push({from:u,to:d})}}}return new Ao(this.parser,t,n,r,i,a,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:r,to:i}=this.skipped[n];r<e.to&&i>e.from&&(this.fragments=xp(this.fragments,r,i),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Hv{createParse(t,n,r){let i=r[0].from,a=r[r.length-1].to;return{parsedPos:i,advance(){let l=Wr;if(l){for(let c of r)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=a,new nt(It.none,[],[],a-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Wr}}function xp(s,e,t){return Rn.applyChanges(s,[{fromA:e,toA:t,fromB:e,toB:t}])}class wr{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new wr(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Ao.create(e.facet(gn).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new wr(n)}}os.state=lt.define({create:wr.init,update(s,e){for(let t of e.effects)if(t.is(os.setState))return t.value;return e.startState.facet(gn)!=e.state.facet(gn)?wr.init(e.state):s.apply(e)}});let yy=s=>{let e=setTimeout(()=>s(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(yy=s=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(s,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const dc=typeof navigator<"u"&&(!((uc=navigator.scheduling)===null||uc===void 0)&&uc.isInputPending)?()=>navigator.scheduling.isInputPending():null,j3=Xe.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(os.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(os.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=yy(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(os.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!dc?Math.max(25,e.timeRemaining()-5):1e9),o=i.context.treeLen<r&&n.doc.length>r+1e3,l=i.context.work(()=>dc&&dc()||Date.now()>a,r+(o?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:os.setState.of(new wr(i.context))})),this.chunkBudget>0&&!(l&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Tt(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),gn=te.define({combine(s){return s.length?s[0]:null},enables:s=>[os.state,j3,J.contentAttributes.compute([s],e=>{let t=e.facet(s);return t&&t.name?{"data-language":t.name}:{}})]});class I3{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const $3=te.define(),bl=te.define({combine:s=>{if(!s.length)return"  ";let e=s[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(s[0]));return e}});function To(s){let e=s.facet(bl);return e.charCodeAt(0)==9?s.tabSize*e.length:e.length}function Ti(s,e){let t="",n=s.tabSize,r=s.facet(bl)[0];if(r=="	"){for(;e>=n;)t+="	",e-=n;r=" "}for(let i=0;i<e;i++)t+=r;return t}function Id(s,e){s instanceof Me&&(s=new yl(s));for(let n of s.state.facet($3)){let r=n(s,e);if(r!==void 0)return r}let t=kt(s.state);return t.length>=e?_3(s,t,e):null}class yl{constructor(e,t={}){this.state=e,this.options=t,this.unit=To(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:i}=this.options;return r!=null&&r>=n.from&&r<=n.to?i&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),i=this.countColumn(n,e-r),a=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return a>-1&&(i+=a-this.countColumn(n,n.search(/\S|$/))),i}countColumn(e,t=e.length){return Nr(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),i=this.options.overrideIndentation;if(i){let a=i(r);if(a>-1)return a}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const wy=new Pe;function _3(s,e,t){let n=e.resolveStack(t),r=n.node.enterUnfinishedNodesBefore(t);if(r!=n.node){let i=[];for(let a=r;a!=n.node;a=a.parent)i.push(a);for(let a=i.length-1;a>=0;a--)n={node:i[a],next:n}}return xy(n,s,t)}function xy(s,e,t){for(let n=s;n;n=n.next){let r=V3(n.node);if(r)return r($d.create(e,t,n))}return 0}function F3(s){return s.pos==s.options.simulateBreak&&s.options.simulateDoubleBreak}function V3(s){let e=s.type.prop(wy);if(e)return e;let t=s.firstChild,n;if(t&&(n=t.type.prop(Pe.closedBy))){let r=s.lastChild,i=r&&n.indexOf(r.name)>-1;return a=>q3(a,!0,1,void 0,i&&!F3(a)?r.from:void 0)}return s.parent==null?U3:null}function U3(){return 0}class $d extends yl{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new $d(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(H3(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return xy(this.context.next,this.base,this.pos)}}function H3(s,e){for(let t=e;t;t=t.parent)if(s==t)return!0;return!1}function W3(s){let e=s.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let r=s.options.simulateBreak,i=s.state.doc.lineAt(t.from),a=r==null||r<=i.from?i.to:Math.min(i.to,r);for(let o=t.to;;){let l=e.childAfter(o);if(!l||l==n)return null;if(!l.type.isSkipped){if(l.from>=a)return null;let c=/^ */.exec(i.text.slice(t.to-i.from))[0].length;return{from:t.from,to:t.to+c}}o=l.to}}function q3(s,e,t,n,r){let i=s.textAfter,a=i.match(/^\s*/)[0].length,o=r==s.pos+a,l=W3(s);return l?o?s.column(l.from):s.column(l.to):s.baseIndent+(o?0:s.unit*t)}function Sp({except:s,units:e=1}={}){return t=>{let n=s&&s.test(t.textAfter);return t.baseIndent+(n?0:e*t.unit)}}const G3=200;function K3(){return Me.transactionFilter.of(s=>{if(!s.docChanged||!s.isUserEvent("input.type")&&!s.isUserEvent("input.complete"))return s;let e=s.startState.languageDataAt("indentOnInput",s.startState.selection.main.head);if(!e.length)return s;let t=s.newDoc,{head:n}=s.newSelection.main,r=t.lineAt(n);if(n>r.from+G3)return s;let i=t.sliceString(r.from,n);if(!e.some(c=>c.test(i)))return s;let{state:a}=s,o=-1,l=[];for(let{head:c}of a.selection.ranges){let u=a.doc.lineAt(c);if(u.from==o)continue;o=u.from;let d=Id(a,u.from);if(d==null)continue;let h=/^\s*/.exec(u.text)[0],f=Ti(a,d);h!=f&&l.push({from:u.from,to:u.from+h.length,insert:f})}return l.length?[s,{changes:l,sequential:!0}]:s})}const Y3=te.define(),Sy=new Pe;function Q3(s){let e=s.firstChild,t=s.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?s.to:t.from}:null}function J3(s,e,t){let n=kt(s);if(n.length<t)return null;let r=n.resolveStack(t,1),i=null;for(let a=r;a;a=a.next){let o=a.node;if(o.to<=t||o.from>t)continue;if(i&&o.from<e)break;let l=o.type.prop(Sy);if(l&&(o.to<n.length-50||n.length==s.doc.length||!Z3(o))){let c=l(o,s);c&&c.from<=t&&c.from>=e&&c.to>t&&(i=c)}}return i}function Z3(s){let e=s.lastChild;return e&&e.to==s.to&&e.type.isError}function Eo(s,e,t){for(let n of s.facet(Y3)){let r=n(s,e,t);if(r)return r}return J3(s,e,t)}function ky(s,e){let t=e.mapPos(s.from,1),n=e.mapPos(s.to,-1);return t>=n?void 0:{from:t,to:n}}const wl=we.define({map:ky}),Wi=we.define({map:ky});function Cy(s){let e=[];for(let{head:t}of s.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(s.lineBlockAt(t));return e}const In=lt.define({create(){return me.none},update(s,e){s=s.map(e.changes);for(let t of e.effects)if(t.is(wl)&&!X3(s,t.value.from,t.value.to)){let{preparePlaceholder:n}=e.state.facet(Ty),r=n?me.replace({widget:new az(n(e.state,t.value))}):kp;s=s.update({add:[r.range(t.value.from,t.value.to)]})}else t.is(Wi)&&(s=s.update({filter:(n,r)=>t.value.from!=n||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:n}=e.selection.main;s.between(n,n,(r,i)=>{r<n&&i>n&&(t=!0)}),t&&(s=s.update({filterFrom:n,filterTo:n,filter:(r,i)=>i<=n||r>=n}))}return s},provide:s=>J.decorations.from(s),toJSON(s,e){let t=[];return s.between(0,e.doc.length,(n,r)=>{t.push(n,r)}),t},fromJSON(s){if(!Array.isArray(s)||s.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<s.length;){let n=s[t++],r=s[t++];if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(kp.range(n,r))}return me.set(e,!0)}});function Mo(s,e,t){var n;let r=null;return(n=s.field(In,!1))===null||n===void 0||n.between(e,t,(i,a)=>{(!r||r.from>i)&&(r={from:i,to:a})}),r}function X3(s,e,t){let n=!1;return s.between(e,e,(r,i)=>{r==e&&i==t&&(n=!0)}),n}function Py(s,e){return s.field(In,!1)?e:e.concat(we.appendConfig.of(Ey()))}const ez=s=>{for(let e of Cy(s)){let t=Eo(s.state,e.from,e.to);if(t)return s.dispatch({effects:Py(s.state,[wl.of(t),Ay(s,t)])}),!0}return!1},tz=s=>{if(!s.state.field(In,!1))return!1;let e=[];for(let t of Cy(s)){let n=Mo(s.state,t.from,t.to);n&&e.push(Wi.of(n),Ay(s,n,!1))}return e.length&&s.dispatch({effects:e}),e.length>0};function Ay(s,e,t=!0){let n=s.state.doc.lineAt(e.from).number,r=s.state.doc.lineAt(e.to).number;return J.announce.of(`${s.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${s.state.phrase("to")} ${r}.`)}const sz=s=>{let{state:e}=s,t=[];for(let n=0;n<e.doc.length;){let r=s.lineBlockAt(n),i=Eo(e,r.from,r.to);i&&t.push(wl.of(i)),n=(i?s.lineBlockAt(i.to):r).to+1}return t.length&&s.dispatch({effects:Py(s.state,t)}),!!t.length},nz=s=>{let e=s.state.field(In,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,s.state.doc.length,(n,r)=>{t.push(Wi.of({from:n,to:r}))}),s.dispatch({effects:t}),!0},rz=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:ez},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:tz},{key:"Ctrl-Alt-[",run:sz},{key:"Ctrl-Alt-]",run:nz}],iz={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Ty=te.define({combine(s){return hs(s,iz)}});function Ey(s){return[In,cz]}function My(s,e){let{state:t}=s,n=t.facet(Ty),r=a=>{let o=s.lineBlockAt(s.posAtDOM(a.target)),l=Mo(s.state,o.from,o.to);l&&s.dispatch({effects:Wi.of(l)}),a.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(s,r,e);let i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",t.phrase("folded code")),i.title=t.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}const kp=me.replace({widget:new class extends Hs{toDOM(s){return My(s,null)}}});class az extends Hs{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return My(e,this.value)}}const oz={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class hc extends Ds{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function lz(s={}){let e=Object.assign(Object.assign({},oz),s),t=new hc(e,!0),n=new hc(e,!1),r=Xe.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(gn)!=a.state.facet(gn)||a.startState.field(In,!1)!=a.state.field(In,!1)||kt(a.startState)!=kt(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let o=new _s;for(let l of a.viewportLineBlocks){let c=Mo(a.state,l.from,l.to)?n:Eo(a.state,l.from,l.to)?t:null;c&&o.add(l.from,l.from,c)}return o.finish()}}),{domEventHandlers:i}=e;return[r,gy({class:"cm-foldGutter",markers(a){var o;return((o=a.plugin(r))===null||o===void 0?void 0:o.markers)||Ne.empty},initialSpacer(){return new hc(e,!1)},domEventHandlers:Object.assign(Object.assign({},i),{click:(a,o,l)=>{if(i.click&&i.click(a,o,l))return!0;let c=Mo(a.state,o.from,o.to);if(c)return a.dispatch({effects:Wi.of(c)}),!0;let u=Eo(a.state,o.from,o.to);return u?(a.dispatch({effects:wl.of(u)}),!0):!1}})}),Ey()]}const cz=J.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class qi{constructor(e,t){this.specs=e;let n;function r(o){let l=fn.newName();return(n||(n=Object.create(null)))["."+l]=o,l}const i=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,a=t.scope;this.scope=a instanceof os?o=>o.prop(rr)==a.data:a?o=>o==a:void 0,this.style=Gv(e.map(o=>({tag:o.tag,class:o.class||r(Object.assign({},o,{tag:null}))})),{all:i}).style,this.module=n?new fn(n):null,this.themeType=t.themeType}static define(e,t){return new qi(e,t||{})}}const Du=te.define(),Ny=te.define({combine(s){return s.length?[s[0]]:null}});function fc(s){let e=s.facet(Du);return e.length?e:s.facet(Ny)}function Ry(s,e){let t=[dz],n;return s instanceof qi&&(s.module&&t.push(J.styleModule.of(s.module)),n=s.themeType),e!=null&&e.fallback?t.push(Ny.of(s)):n?t.push(Du.computeN([J.darkTheme],r=>r.facet(J.darkTheme)==(n=="dark")?[s]:[])):t.push(Du.of(s)),t}class uz{constructor(e){this.markCache=Object.create(null),this.tree=kt(e.state),this.decorations=this.buildDeco(e,fc(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=kt(e.state),n=fc(e.state),r=n!=fc(e.startState),{viewport:i}=e.view,a=e.changes.mapPos(this.decoratedTo,1);t.length<i.to&&!r&&t.type==this.tree.type&&a>=i.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=i.to)}buildDeco(e,t){if(!t||!this.tree.length)return me.none;let n=new _s;for(let{from:r,to:i}of e.visibleRanges)LR(this.tree,t,(a,o,l)=>{n.add(a,o,this.markCache[l]||(this.markCache[l]=me.mark({class:l})))},r,i);return n.finish()}}const dz=Un.high(Xe.fromClass(uz,{decorations:s=>s.decorations})),hz=qi.define([{tag:B.meta,color:"#404740"},{tag:B.link,textDecoration:"underline"},{tag:B.heading,textDecoration:"underline",fontWeight:"bold"},{tag:B.emphasis,fontStyle:"italic"},{tag:B.strong,fontWeight:"bold"},{tag:B.strikethrough,textDecoration:"line-through"},{tag:B.keyword,color:"#708"},{tag:[B.atom,B.bool,B.url,B.contentSeparator,B.labelName],color:"#219"},{tag:[B.literal,B.inserted],color:"#164"},{tag:[B.string,B.deleted],color:"#a11"},{tag:[B.regexp,B.escape,B.special(B.string)],color:"#e40"},{tag:B.definition(B.variableName),color:"#00f"},{tag:B.local(B.variableName),color:"#30a"},{tag:[B.typeName,B.namespace],color:"#085"},{tag:B.className,color:"#167"},{tag:[B.special(B.variableName),B.macroName],color:"#256"},{tag:B.definition(B.propertyName),color:"#00c"},{tag:B.comment,color:"#940"},{tag:B.invalid,color:"#f00"}]),fz=J.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Dy=1e4,Oy="()[]{}",zy=te.define({combine(s){return hs(s,{afterCursor:!0,brackets:Oy,maxScanDistance:Dy,renderMatch:gz})}}),pz=me.mark({class:"cm-matchingBracket"}),mz=me.mark({class:"cm-nonmatchingBracket"});function gz(s){let e=[],t=s.matched?pz:mz;return e.push(t.range(s.start.from,s.start.to)),s.end&&e.push(t.range(s.end.from,s.end.to)),e}const vz=lt.define({create(){return me.none},update(s,e){if(!e.docChanged&&!e.selection)return s;let t=[],n=e.state.facet(zy);for(let r of e.state.selection.ranges){if(!r.empty)continue;let i=Ps(e.state,r.head,-1,n)||r.head>0&&Ps(e.state,r.head-1,1,n)||n.afterCursor&&(Ps(e.state,r.head,1,n)||r.head<e.state.doc.length&&Ps(e.state,r.head+1,-1,n));i&&(t=t.concat(n.renderMatch(i,e.state)))}return me.set(t,!0)},provide:s=>J.decorations.from(s)}),bz=[vz,fz];function yz(s={}){return[zy.of(s),bz]}const wz=new Pe;function Ou(s,e,t){let n=s.prop(e<0?Pe.openedBy:Pe.closedBy);if(n)return n;if(s.name.length==1){let r=t.indexOf(s.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function zu(s){let e=s.type.prop(wz);return e?e(s.node):s}function Ps(s,e,t,n={}){let r=n.maxScanDistance||Dy,i=n.brackets||Oy,a=kt(s),o=a.resolveInner(e,t);for(let l=o;l;l=l.parent){let c=Ou(l.type,t,i);if(c&&l.from<l.to){let u=zu(l);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return xz(s,e,t,l,u,c,i)}}return Sz(s,e,t,a,o.type,r,i)}function xz(s,e,t,n,r,i,a){let o=n.parent,l={from:r.from,to:r.to},c=0,u=o==null?void 0:o.cursor();if(u&&(t<0?u.childBefore(n.from):u.childAfter(n.to)))do if(t<0?u.to<=n.from:u.from>=n.to){if(c==0&&i.indexOf(u.type.name)>-1&&u.from<u.to){let d=zu(u);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(Ou(u.type,t,a))c++;else if(Ou(u.type,-t,a)){if(c==0){let d=zu(u);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}c--}}while(t<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function Sz(s,e,t,n,r,i,a){let o=t<0?s.sliceDoc(e-1,e):s.sliceDoc(e,e+1),l=a.indexOf(o);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=s.doc.iterRange(e,t>0?s.doc.length:0),d=0;for(let h=0;!u.next().done&&h<=i;){let f=u.value;t<0&&(h+=f.length);let m=e+h*t;for(let g=t>0?0:f.length-1,v=t>0?f.length:-1;g!=v;g+=t){let b=a.indexOf(f[g]);if(!(b<0||n.resolveInner(m+g,1).type!=r))if(b%2==0==t>0)d++;else{if(d==1)return{start:c,end:{from:m+g,to:m+g+1},matched:b>>1==l>>1};d--}}t>0&&(h+=f.length)}return u.done?{start:c,matched:!1}:null}const kz=Object.create(null),Cp=[It.none],Pp=[],Ap=Object.create(null),Cz=Object.create(null);for(let[s,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Cz[s]=Pz(kz,e);function pc(s,e){Pp.indexOf(s)>-1||(Pp.push(s),console.warn(e))}function Pz(s,e){let t=[];for(let o of e.split(" ")){let l=[];for(let c of o.split(".")){let u=s[c]||B[c];u?typeof u=="function"?l.length?l=l.map(u):pc(c,`Modifier ${c} used at start of tag`):l.length?pc(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:pc(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let n=e.replace(/ /g,"_"),r=n+" "+t.map(o=>o.id),i=Ap[r];if(i)return i.id;let a=Ap[r]=It.define({id:Cp.length,name:n,props:[Wv({[n]:t})]});return Cp.push(a),a.id}qe.RTL,qe.LTR;const Az=()=>s=>{try{JSON.parse(s.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const t=Tz(e,s.state.doc);return[{from:t,message:e.message,severity:"error",to:t}]}return[]};function Tz(s,e){let t;return(t=s.message.match(/at position (\d+)/))?Math.min(+t[1],e.length):(t=s.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+t[1]).from+ +t[2]-1,e.length):0}const Ez=Po.define({name:"json",parser:$R.configure({props:[wy.add({Object:Sp({except:/^\s*\}/}),Array:Sp({except:/^\s*\]/})}),Sy.add({"Object Array":Q3})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function Mz(){return new I3(Ez)}function Ve(){var s=arguments[0];typeof s=="string"&&(s=document.createElement(s));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];typeof r=="string"?s.setAttribute(n,r):r!=null&&(s[n]=r)}e++}for(;e<arguments.length;e++)Ly(s,arguments[e]);return s}function Ly(s,e){if(typeof e=="string")s.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)s.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)Ly(s,e[t]);else throw new RangeError("Unsupported child node: "+e)}class Tp{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class Pn{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let r=e,i=n.facet(As).markerFilter;i&&(r=i(r,n));let a=e.slice().sort((d,h)=>d.from-h.from||d.to-h.to),o=new _s,l=[],c=0;for(let d=0;;){let h=d==a.length?null:a[d];if(!h&&!l.length)break;let f,m;for(l.length?(f=c,m=l.reduce((v,b)=>Math.min(v,b.to),h&&h.from>f?h.from:1e8)):(f=h.from,m=h.to,l.push(h),d++);d<a.length;){let v=a[d];if(v.from==f&&(v.to>v.from||v.to==f))l.push(v),d++,m=Math.min(v.to,m);else{m=Math.min(v.from,m);break}}let g=Vy(l);if(l.some(v=>v.from==v.to||v.from==v.to-1&&n.doc.lineAt(v.from).to==v.from))o.add(f,f,me.widget({widget:new $z(g),diagnostics:l.slice()}));else{let v=l.reduce((b,C)=>C.markClass?b+" "+C.markClass:b,"");o.add(f,m,me.mark({class:"cm-lintRange cm-lintRange-"+g+v,diagnostics:l.slice(),inclusiveEnd:l.some(b=>b.to>m)}))}c=m;for(let v=0;v<l.length;v++)l[v].to<=c&&l.splice(v--,1)}let u=o.finish();return new Pn(u,t,xr(u))}}function xr(s,e=null,t=0){let n=null;return s.between(t,1e9,(r,i,{spec:a})=>{if(!(e&&a.diagnostics.indexOf(e)<0))if(!n)n=new Tp(r,i,e||a.diagnostics[0]);else{if(a.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new Tp(n.from,i,n.diagnostic)}}),n}function By(s,e){let t=e.pos,n=e.end||t,r=s.state.facet(As).hideOn(s,t,n);if(r!=null)return r;let i=s.startState.doc.lineAt(e.pos);return!!(s.effects.some(a=>a.is(xl))||s.changes.touchesRange(i.from,Math.max(i.to,n)))}function jy(s,e){return s.field(Wt,!1)?e:e.concat(we.appendConfig.of(Wy))}function Nz(s,e){return{effects:jy(s,[xl.of(e)])}}const xl=we.define(),_d=we.define(),Iy=we.define(),Wt=lt.define({create(){return new Pn(me.none,null,null)},update(s,e){if(e.docChanged&&s.diagnostics.size){let t=s.diagnostics.map(e.changes),n=null,r=s.panel;if(s.selected){let i=e.changes.mapPos(s.selected.from,1);n=xr(t,s.selected.diagnostic,i)||xr(t,null,i)}!t.size&&r&&e.state.facet(As).autoPanel&&(r=null),s=new Pn(t,r,n)}for(let t of e.effects)if(t.is(xl)){let n=e.state.facet(As).autoPanel?t.value.length?Ei.open:null:s.panel;s=Pn.init(t.value,n,e.state)}else t.is(_d)?s=new Pn(s.diagnostics,t.value?Ei.open:null,s.selected):t.is(Iy)&&(s=new Pn(s.diagnostics,s.panel,t.value));return s},provide:s=>[Ai.from(s,e=>e.panel),J.decorations.from(s,e=>e.diagnostics)]}),Rz=me.mark({class:"cm-lintRange cm-lintRange-active"});function Dz(s,e,t){let{diagnostics:n}=s.state.field(Wt),r,i=-1,a=-1;n.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0)))return r=u.diagnostics,i=l,a=c,!1});let o=s.state.facet(As).tooltipFilter;return r&&o&&(r=o(r,s.state)),r?{pos:i,end:a,above:s.state.doc.lineAt(i).to<a,create(){return{dom:$y(s,r)}}}:null}function $y(s,e){return Ve("ul",{class:"cm-tooltip-lint"},e.map(t=>Fy(s,t,!1)))}const Oz=s=>{let e=s.state.field(Wt,!1);(!e||!e.panel)&&s.dispatch({effects:jy(s.state,[_d.of(!0)])});let t=Pi(s,Ei.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},Ep=s=>{let e=s.state.field(Wt,!1);return!e||!e.panel?!1:(s.dispatch({effects:_d.of(!1)}),!0)},zz=s=>{let e=s.state.field(Wt,!1);if(!e)return!1;let t=s.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(s.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},Lz=[{key:"Mod-Shift-m",run:Oz,preventDefault:!0},{key:"F8",run:zz}],Bz=Xe.fromClass(class{constructor(s){this.view=s,this.timeout=-1,this.set=!0;let{delay:e}=s.state.facet(As);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let s=Date.now();if(s<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-s);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(As);t.length&&jz(t.map(n=>Promise.resolve(n(this.view))),n=>{this.view.state.doc==e.doc&&this.view.dispatch(Nz(this.view.state,n.reduce((r,i)=>r.concat(i))))},n=>{Tt(this.view.state,n)})}}update(s){let e=s.state.facet(As);(s.docChanged||e!=s.startState.facet(As)||e.needsRefresh&&e.needsRefresh(s))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function jz(s,e,t){let n=[],r=-1;for(let i of s)i.then(a=>{n.push(a),clearTimeout(r),n.length==s.length?e(n):r=setTimeout(()=>e(n),200)},t)}const As=te.define({combine(s){return Object.assign({sources:s.map(e=>e.source).filter(e=>e!=null)},hs(s.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t}))}});function Iz(s,e={}){return[As.of({source:s,config:e}),Bz,Wy]}function _y(s){let e=[];if(s)e:for(let{name:t}of s){for(let n=0;n<t.length;n++){let r=t[n];if(/[a-zA-Z]/.test(r)&&!e.some(i=>i.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function Fy(s,e,t){var n;let r=t?_y(e.actions):[];return Ve("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ve("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(s):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((i,a)=>{let o=!1,l=h=>{if(h.preventDefault(),o)return;o=!0;let f=xr(s.state.field(Wt).diagnostics,e);f&&i.apply(s,f.from,f.to)},{name:c}=i,u=r[a]?c.indexOf(r[a]):-1,d=u<0?c:[c.slice(0,u),Ve("u",c.slice(u,u+1)),c.slice(u+1)];return Ve("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${r[a]})"`}.`},d)}),e.source&&Ve("div",{class:"cm-diagnosticSource"},e.source))}class $z extends Hs{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Ve("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Mp{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Fy(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ei{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)Ep(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:i}=this.items[this.selectedIndex],a=_y(i.actions);for(let o=0;o<a.length;o++)if(a[o].toUpperCase().charCodeAt(0)==r.keyCode){let l=xr(this.view.state.field(Wt).diagnostics,i);l&&i.actions[o].apply(e,l.from,l.to)}}else return;r.preventDefault()},n=r=>{for(let i=0;i<this.items.length;i++)this.items[i].dom.contains(r.target)&&this.moveSelection(i)};this.list=Ve("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=Ve("div",{class:"cm-panel-lint"},this.list,Ve("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Ep(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Wt).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Wt),n=0,r=!1,i=null,a=new Set;for(e.between(0,this.view.state.doc.length,(o,l,{spec:c})=>{for(let u of c.diagnostics){if(a.has(u))continue;a.add(u);let d=-1,h;for(let f=n;f<this.items.length;f++)if(this.items[f].diagnostic==u){d=f;break}d<0?(h=new Mp(this.view,u),this.items.splice(n,0,h),r=!0):(h=this.items[d],d>n&&(this.items.splice(n,d-n),r=!0)),t&&h.diagnostic==t.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),i=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new Mp(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:l})=>{let c=l.height/this.list.offsetHeight;o.top<l.top?this.list.scrollTop-=(l.top-o.top)/c:o.bottom>l.bottom&&(this.list.scrollTop+=(o.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Wt),n=xr(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:Iy.of(n)})}static open(e){return new Ei(e)}}function so(s,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(s)}</svg>')`}function Ra(s){return so(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${s}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const _z=J.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ra("#d11")},".cm-lintRange-warning":{backgroundImage:Ra("orange")},".cm-lintRange-info":{backgroundImage:Ra("#999")},".cm-lintRange-hint":{backgroundImage:Ra("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Fz(s){return s=="error"?4:s=="warning"?3:s=="info"?2:1}function Vy(s){let e="hint",t=1;for(let n of s){let r=Fz(n.severity);r>t&&(t=r,e=n.severity)}return e}class Uy extends Ds{constructor(e){super(),this.diagnostics=e,this.severity=Vy(e)}toDOM(e){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let n=this.diagnostics,r=e.state.facet(Sl).tooltipFilter;return r&&(n=r(n,e.state)),n.length&&(t.onmouseover=()=>Uz(e,t,n)),t}}function Vz(s,e){let t=n=>{let r=e.getBoundingClientRect();if(!(n.clientX>r.left-10&&n.clientX<r.right+10&&n.clientY>r.top-10&&n.clientY<r.bottom+10)){for(let i=n.target;i;i=i.parentNode)if(i.nodeType==1&&i.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",t),s.state.field(Hy)&&s.dispatch({effects:Fd.of(null)})}};window.addEventListener("mousemove",t)}function Uz(s,e,t){function n(){let a=s.elementAtHeight(e.getBoundingClientRect().top+5-s.documentTop);s.coordsAtPos(a.from)&&s.dispatch({effects:Fd.of({pos:a.from,above:!1,clip:!1,create(){return{dom:$y(s,t),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,Vz(s,e)}let{hoverTime:r}=s.state.facet(Sl),i=setTimeout(n,r);e.onmouseout=()=>{clearTimeout(i),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(i),i=setTimeout(n,r)}}function Hz(s,e){let t=Object.create(null);for(let r of e){let i=s.lineAt(r.from);(t[i.from]||(t[i.from]=[])).push(r)}let n=[];for(let r in t)n.push(new Uy(t[r]).range(+r));return Ne.of(n,!0)}const Wz=gy({class:"cm-gutter-lint",markers:s=>s.state.field(Lu),widgetMarker:(s,e,t)=>{let n=[];return s.state.field(Lu).between(t.from,t.to,(r,i,a)=>{r>t.from&&r<t.to&&n.push(...a.diagnostics)}),n.length?new Uy(n):null}}),Lu=lt.define({create(){return Ne.empty},update(s,e){s=s.map(e.changes);let t=e.state.facet(Sl).markerFilter;for(let n of e.effects)if(n.is(xl)){let r=n.value;t&&(r=t(r||[],e.state)),s=Hz(e.state.doc,r.slice(0))}return s}}),Fd=we.define(),Hy=lt.define({create(){return null},update(s,e){return s&&e.docChanged&&(s=By(e,s)?null:Object.assign(Object.assign({},s),{pos:e.changes.mapPos(s.pos)})),e.effects.reduce((t,n)=>n.is(Fd)?n.value:t,s)},provide:s=>gl.from(s)}),qz=J.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:so('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:so('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:so('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),Wy=[Wt,J.decorations.compute([Wt],s=>{let{selected:e,panel:t}=s.field(Wt);return!e||!t||e.from==e.to?me.none:me.set([Rz.range(e.from,e.to)])}),w3(Dz,{hideOn:By}),_z],Sl=te.define({combine(s){return hs(s,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function Gz(s={}){return[Sl.of(s),Lu,Wz,qz,Hy]}const Np=typeof String.prototype.normalize=="function"?s=>s.normalize("NFKD"):s=>s;class Sr{constructor(e,t,n=0,r=e.length,i,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=i?o=>i(Np(o)):Np,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return mt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=kd(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Jt(e);let r=this.normalize(t);if(r.length)for(let i=0,a=n;;i++){let o=r.charCodeAt(i),l=this.match(o,a,this.bufferPos+this.bufferStart);if(i==r.length-1){if(l)return this.value=l,this;break}a==n&&i<t.length&&t.charCodeAt(i)==o&&a++}}}match(e,t,n){let r=null;for(let i=0;i<this.matches.length;i+=2){let a=this.matches[i],o=!1;this.query.charCodeAt(a)==e&&(a==this.query.length-1?r={from:this.matches[i+1],to:n}:(this.matches[i]++,o=!0)),o||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:t,to:n}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(Sr.prototype[Symbol.iterator]=function(){return this});const qy={from:-1,to:-1,match:/.*/.exec("")},Vd="gm"+(/x/.unicode==null?"":"u");class Gy{constructor(e,t,n,r=0,i=e.length){if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=qy,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Ky(e,t,n,r,i);this.re=new RegExp(t,Vd+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.iter=e.iter();let a=e.lineAt(r);this.curLineStart=a.from,this.matchPos=No(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=No(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const mc=new WeakMap;class hr{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let r=mc.get(e);if(!r||r.from>=n||r.to<=t){let o=new hr(t,e.sliceString(t,n));return mc.set(e,o),o}if(r.from==t&&r.to==n)return r;let{text:i,from:a}=r;return a>t&&(i=e.sliceString(t,a)+i,a=t),r.to<n&&(i+=e.sliceString(r.to,n)),mc.set(e,new hr(a,i)),new hr(t,i.slice(t-a,n-a))}}class Ky{constructor(e,t,n,r,i){this.text=e,this.to=i,this.done=!1,this.value=qy,this.matchPos=No(e,r),this.re=new RegExp(t,Vd+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.flat=hr.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,r=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this.matchPos=No(this.text,r+(n==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=hr.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Gy.prototype[Symbol.iterator]=Ky.prototype[Symbol.iterator]=function(){return this});function Kz(s){try{return new RegExp(s,Vd),!0}catch{return!1}}function No(s,e){if(e>=s.length)return e;let t=s.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}function Bu(s){let e=String(s.state.doc.lineAt(s.state.selection.main.head).number),t=Ve("input",{class:"cm-textfield",name:"line",value:e}),n=Ve("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),s.dispatch({effects:Ro.of(!1)}),s.focus()):i.keyCode==13&&(i.preventDefault(),r())},onsubmit:i=>{i.preventDefault(),r()}},Ve("label",s.state.phrase("Go to line"),": ",t)," ",Ve("button",{class:"cm-button",type:"submit"},s.state.phrase("go")));function r(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!i)return;let{state:a}=s,o=a.doc.lineAt(a.selection.main.head),[,l,c,u,d]=i,h=u?+u.slice(1):0,f=c?+c:o.number;if(c&&d){let v=f/100;l&&(v=v*(l=="-"?-1:1)+o.number/a.doc.lines),f=Math.round(a.doc.lines*v)}else c&&l&&(f=f*(l=="-"?-1:1)+o.number);let m=a.doc.line(Math.max(1,Math.min(a.doc.lines,f))),g=_.cursor(m.from+Math.max(0,Math.min(h,m.length)));s.dispatch({effects:[Ro.of(!1),J.scrollIntoView(g.from,{y:"center"})],selection:g}),s.focus()}return{dom:n}}const Ro=we.define(),Rp=lt.define({create(){return!0},update(s,e){for(let t of e.effects)t.is(Ro)&&(s=t.value);return s},provide:s=>Ai.from(s,e=>e?Bu:null)}),Yz=s=>{let e=Pi(s,Bu);if(!e){let t=[Ro.of(!0)];s.state.field(Rp,!1)==null&&t.push(we.appendConfig.of([Rp,Qz])),s.dispatch({effects:t}),e=Pi(s,Bu)}return e&&e.dom.querySelector("input").select(),!0},Qz=J.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Jz={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Zz=te.define({combine(s){return hs(s,Jz,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function Xz(s){return[r5,n5]}const e5=me.mark({class:"cm-selectionMatch"}),t5=me.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Dp(s,e,t,n){return(t==0||s(e.sliceDoc(t-1,t))!=Qe.Word)&&(n==e.doc.length||s(e.sliceDoc(n,n+1))!=Qe.Word)}function s5(s,e,t,n){return s(e.sliceDoc(t,t+1))==Qe.Word&&s(e.sliceDoc(n-1,n))==Qe.Word}const n5=Xe.fromClass(class{constructor(s){this.decorations=this.getDeco(s)}update(s){(s.selectionSet||s.docChanged||s.viewportChanged)&&(this.decorations=this.getDeco(s.view))}getDeco(s){let e=s.state.facet(Zz),{state:t}=s,n=t.selection;if(n.ranges.length>1)return me.none;let r=n.main,i,a=null;if(r.empty){if(!e.highlightWordAroundCursor)return me.none;let l=t.wordAt(r.head);if(!l)return me.none;a=t.charCategorizer(r.head),i=t.sliceDoc(l.from,l.to)}else{let l=r.to-r.from;if(l<e.minSelectionLength||l>200)return me.none;if(e.wholeWords){if(i=t.sliceDoc(r.from,r.to),a=t.charCategorizer(r.head),!(Dp(a,t,r.from,r.to)&&s5(a,t,r.from,r.to)))return me.none}else if(i=t.sliceDoc(r.from,r.to),!i)return me.none}let o=[];for(let l of s.visibleRanges){let c=new Sr(t.doc,i,l.from,l.to);for(;!c.next().done;){let{from:u,to:d}=c.value;if((!a||Dp(a,t,u,d))&&(r.empty&&u<=r.from&&d>=r.to?o.push(t5.range(u,d)):(u>=r.to||d<=r.from)&&o.push(e5.range(u,d)),o.length>e.maxMatches))return me.none}}return me.set(o)}},{decorations:s=>s.decorations}),r5=J.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),i5=({state:s,dispatch:e})=>{let{selection:t}=s,n=_.create(t.ranges.map(r=>s.wordAt(r.head)||_.cursor(r.head)),t.mainIndex);return n.eq(t)?!1:(e(s.update({selection:n})),!0)};function a5(s,e){let{main:t,ranges:n}=s.selection,r=s.wordAt(t.head),i=r&&r.from==t.from&&r.to==t.to;for(let a=!1,o=new Sr(s.doc,e,n[n.length-1].to);;)if(o.next(),o.done){if(a)return null;o=new Sr(s.doc,e,0,Math.max(0,n[n.length-1].from-1)),a=!0}else{if(a&&n.some(l=>l.from==o.value.from))continue;if(i){let l=s.wordAt(o.value.from);if(!l||l.from!=o.value.from||l.to!=o.value.to)continue}return o.value}}const o5=({state:s,dispatch:e})=>{let{ranges:t}=s.selection;if(t.some(i=>i.from===i.to))return i5({state:s,dispatch:e});let n=s.sliceDoc(t[0].from,t[0].to);if(s.selection.ranges.some(i=>s.sliceDoc(i.from,i.to)!=n))return!1;let r=a5(s,n);return r?(e(s.update({selection:s.selection.addRange(_.range(r.from,r.to),!1),effects:J.scrollIntoView(r.to)})),!0):!1},Hn=te.define({combine(s){return hs(s,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new w5(e),scrollToMatch:e=>J.scrollIntoView(e)})}});function l5(s){return s?[Hn.of(s),Iu]:Iu}class Yy{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Kz(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new h5(this):new u5(this)}getCursor(e,t=0,n){let r=e.doc?e:Me.create({doc:e});return n==null&&(n=r.doc.length),this.regexp?tr(this,r,t,n):er(this,r,t,n)}}class Qy{constructor(e){this.spec=e}}function er(s,e,t,n){return new Sr(e.doc,s.unquoted,t,n,s.caseSensitive?void 0:r=>r.toLowerCase(),s.wholeWord?c5(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function c5(s,e){return(t,n,r,i)=>((i>t||i+r.length<n)&&(i=Math.max(0,t-2),r=s.sliceString(i,Math.min(s.length,n+2))),(e(Do(r,t-i))!=Qe.Word||e(Oo(r,t-i))!=Qe.Word)&&(e(Oo(r,n-i))!=Qe.Word||e(Do(r,n-i))!=Qe.Word))}class u5 extends Qy{constructor(e){super(e)}nextMatch(e,t,n){let r=er(this.spec,e,n,e.doc.length).nextOverlapping();if(r.done){let i=Math.min(e.doc.length,t+this.spec.unquoted.length);r=er(this.spec,e,0,i).nextOverlapping()}return r.done||r.value.from==t&&r.value.to==n?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let i=Math.max(t,r-1e4-this.spec.unquoted.length),a=er(this.spec,e,i,r),o=null;for(;!a.nextOverlapping().done;)o=a.value;if(o)return o;if(i==t)return null;r-=1e4}}prevMatch(e,t,n){let r=this.prevMatchInRange(e,0,t);return r||(r=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),r&&(r.from!=t||r.to!=n)?r:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=er(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let i=er(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}function tr(s,e,t,n){return new Gy(e.doc,s.search,{ignoreCase:!s.caseSensitive,test:s.wholeWord?d5(e.charCategorizer(e.selection.main.head)):void 0},t,n)}function Do(s,e){return s.slice(vt(s,e,!1),e)}function Oo(s,e){return s.slice(e,vt(s,e))}function d5(s){return(e,t,n)=>!n[0].length||(s(Do(n.input,n.index))!=Qe.Word||s(Oo(n.input,n.index))!=Qe.Word)&&(s(Oo(n.input,n.index+n[0].length))!=Qe.Word||s(Do(n.input,n.index+n[0].length))!=Qe.Word)}class h5 extends Qy{nextMatch(e,t,n){let r=tr(this.spec,e,n,e.doc.length).next();return r.done&&(r=tr(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let i=Math.max(t,n-r*1e4),a=tr(this.spec,e,i,n),o=null;for(;!a.next().done;)o=a.value;if(o&&(i==t||o.from>i+10))return o;if(i==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(t,n)=>n=="$"?"$":n=="&"?e.match[0]:n!="0"&&+n<e.match.length?e.match[n]:t)}matchAll(e,t){let n=tr(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let i=tr(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}const Mi=we.define(),Ud=we.define(),ln=lt.define({create(s){return new gc(ju(s).create(),null)},update(s,e){for(let t of e.effects)t.is(Mi)?s=new gc(t.value.create(),s.panel):t.is(Ud)&&(s=new gc(s.query,t.value?Hd:null));return s},provide:s=>Ai.from(s,e=>e.panel)});class gc{constructor(e,t){this.query=e,this.panel=t}}const f5=me.mark({class:"cm-searchMatch"}),p5=me.mark({class:"cm-searchMatch cm-searchMatch-selected"}),m5=Xe.fromClass(class{constructor(s){this.view=s,this.decorations=this.highlight(s.state.field(ln))}update(s){let e=s.state.field(ln);(e!=s.startState.field(ln)||s.docChanged||s.selectionSet||s.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:s,panel:e}){if(!e||!s.spec.valid)return me.none;let{view:t}=this,n=new _s;for(let r=0,i=t.visibleRanges,a=i.length;r<a;r++){let{from:o,to:l}=i[r];for(;r<a-1&&l>i[r+1].from-2*250;)l=i[++r].to;s.highlight(t.state,o,l,(c,u)=>{let d=t.state.selection.ranges.some(h=>h.from==c&&h.to==u);n.add(c,u,d?p5:f5)})}return n.finish()}},{decorations:s=>s.decorations});function Gi(s){return e=>{let t=e.state.field(ln,!1);return t&&t.query.spec.valid?s(e,t):Xy(e)}}const zo=Gi((s,{query:e})=>{let{to:t}=s.state.selection.main,n=e.nextMatch(s.state,t,t);if(!n)return!1;let r=_.single(n.from,n.to),i=s.state.facet(Hn);return s.dispatch({selection:r,effects:[Wd(s,n),i.scrollToMatch(r.main,s)],userEvent:"select.search"}),Zy(s),!0}),Lo=Gi((s,{query:e})=>{let{state:t}=s,{from:n}=t.selection.main,r=e.prevMatch(t,n,n);if(!r)return!1;let i=_.single(r.from,r.to),a=s.state.facet(Hn);return s.dispatch({selection:i,effects:[Wd(s,r),a.scrollToMatch(i.main,s)],userEvent:"select.search"}),Zy(s),!0}),g5=Gi((s,{query:e})=>{let t=e.matchAll(s.state,1e3);return!t||!t.length?!1:(s.dispatch({selection:_.create(t.map(n=>_.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),v5=({state:s,dispatch:e})=>{let t=s.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:r}=t.main,i=[],a=0;for(let o=new Sr(s.doc,s.sliceDoc(n,r));!o.next().done;){if(i.length>1e3)return!1;o.value.from==n&&(a=i.length),i.push(_.range(o.value.from,o.value.to))}return e(s.update({selection:_.create(i,a),userEvent:"select.search.matches"})),!0},Op=Gi((s,{query:e})=>{let{state:t}=s,{from:n,to:r}=t.selection.main;if(t.readOnly)return!1;let i=e.nextMatch(t,n,n);if(!i)return!1;let a=i,o=[],l,c,u=[];if(a.from==n&&a.to==r&&(c=t.toText(e.getReplacement(a)),o.push({from:a.from,to:a.to,insert:c}),a=e.nextMatch(t,a.from,a.to),u.push(J.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+"."))),a){let d=o.length==0||o[0].from>=i.to?0:i.to-i.from-c.length;l=_.single(a.from-d,a.to-d),u.push(Wd(s,a)),u.push(t.facet(Hn).scrollToMatch(l.main,s))}return s.dispatch({changes:o,selection:l,effects:u,userEvent:"input.replace"}),!0}),b5=Gi((s,{query:e})=>{if(s.state.readOnly)return!1;let t=e.matchAll(s.state,1e9).map(r=>{let{from:i,to:a}=r;return{from:i,to:a,insert:e.getReplacement(r)}});if(!t.length)return!1;let n=s.state.phrase("replaced $ matches",t.length)+".";return s.dispatch({changes:t,effects:J.announce.of(n),userEvent:"input.replace.all"}),!0});function Hd(s){return s.state.facet(Hn).createPanel(s)}function ju(s,e){var t,n,r,i,a;let o=s.selection.main,l=o.empty||o.to>o.from+100?"":s.sliceDoc(o.from,o.to);if(e&&!l)return e;let c=s.facet(Hn);return new Yy({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(n=e==null?void 0:e.caseSensitive)!==null&&n!==void 0?n:c.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:c.literal,regexp:(i=e==null?void 0:e.regexp)!==null&&i!==void 0?i:c.regexp,wholeWord:(a=e==null?void 0:e.wholeWord)!==null&&a!==void 0?a:c.wholeWord})}function Jy(s){let e=Pi(s,Hd);return e&&e.dom.querySelector("[main-field]")}function Zy(s){let e=Jy(s);e&&e==s.root.activeElement&&e.select()}const Xy=s=>{let e=s.state.field(ln,!1);if(e&&e.panel){let t=Jy(s);if(t&&t!=s.root.activeElement){let n=ju(s.state,e.query.spec);n.valid&&s.dispatch({effects:Mi.of(n)}),t.focus(),t.select()}}else s.dispatch({effects:[Ud.of(!0),e?Mi.of(ju(s.state,e.query.spec)):we.appendConfig.of(Iu)]});return!0},e0=s=>{let e=s.state.field(ln,!1);if(!e||!e.panel)return!1;let t=Pi(s,Hd);return t&&t.dom.contains(s.root.activeElement)&&s.focus(),s.dispatch({effects:Ud.of(!1)}),!0},y5=[{key:"Mod-f",run:Xy,scope:"editor search-panel"},{key:"F3",run:zo,shift:Lo,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:zo,shift:Lo,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:e0,scope:"editor search-panel"},{key:"Mod-Shift-l",run:v5},{key:"Mod-Alt-g",run:Yz},{key:"Mod-d",run:o5,preventDefault:!0}];class w5{constructor(e){this.view=e;let t=this.query=e.state.field(ln).query.spec;this.commit=this.commit.bind(this),this.searchField=Ve("input",{value:t.search,placeholder:Vt(e,"Find"),"aria-label":Vt(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ve("input",{value:t.replace,placeholder:Vt(e,"Replace"),"aria-label":Vt(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ve("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Ve("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Ve("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(r,i,a){return Ve("button",{class:"cm-button",name:r,onclick:i,type:"button"},a)}this.dom=Ve("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,n("next",()=>zo(e),[Vt(e,"next")]),n("prev",()=>Lo(e),[Vt(e,"previous")]),n("select",()=>g5(e),[Vt(e,"all")]),Ve("label",null,[this.caseField,Vt(e,"match case")]),Ve("label",null,[this.reField,Vt(e,"regexp")]),Ve("label",null,[this.wordField,Vt(e,"by word")]),...e.state.readOnly?[]:[Ve("br"),this.replaceField,n("replace",()=>Op(e),[Vt(e,"replace")]),n("replaceAll",()=>b5(e),[Vt(e,"replace all")])],Ve("button",{name:"close",onclick:()=>e0(e),"aria-label":Vt(e,"close"),type:"button"},["×"])])}commit(){let e=new Yy({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Mi.of(e)}))}keydown(e){DO(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Lo:zo)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Op(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(Mi)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Hn).top}}function Vt(s,e){return s.state.phrase(e)}const Da=30,Oa=/[\s\.,:;?!]/;function Wd(s,{from:e,to:t}){let n=s.state.doc.lineAt(e),r=s.state.doc.lineAt(t).to,i=Math.max(n.from,e-Da),a=Math.min(r,t+Da),o=s.state.sliceDoc(i,a);if(i!=n.from){for(let l=0;l<Da;l++)if(!Oa.test(o[l+1])&&Oa.test(o[l])){o=o.slice(l);break}}if(a!=r){for(let l=o.length-1;l>o.length-Da;l--)if(!Oa.test(o[l-1])&&Oa.test(o[l])){o=o.slice(0,l);break}}return J.announce.of(`${s.state.phrase("current match")}. ${o} ${s.state.phrase("on line")} ${n.number}.`)}const x5=J.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Iu=[ln,Un.low(m5),x5],S5=s=>{let{state:e}=s,t=e.doc.lineAt(e.selection.main.from),n=Gd(s.state,t.from);return n.line?k5(s):n.block?P5(s):!1};function qd(s,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=s(e,t);return r?(n(t.update(r)),!0):!1}}const k5=qd(E5,0),C5=qd(t0,0),P5=qd((s,e)=>t0(s,e,T5(e)),0);function Gd(s,e){let t=s.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const qr=50;function A5(s,{open:e,close:t},n,r){let i=s.sliceDoc(n-qr,n),a=s.sliceDoc(r,r+qr),o=/\s*$/.exec(i)[0].length,l=/^\s*/.exec(a)[0].length,c=i.length-o;if(i.slice(c-e.length,c)==e&&a.slice(l,l+t.length)==t)return{open:{pos:n-o,margin:o&&1},close:{pos:r+l,margin:l&&1}};let u,d;r-n<=2*qr?u=d=s.sliceDoc(n,r):(u=s.sliceDoc(n,n+qr),d=s.sliceDoc(r-qr,r));let h=/^\s*/.exec(u)[0].length,f=/\s*$/.exec(d)[0].length,m=d.length-f-t.length;return u.slice(h,h+e.length)==e&&d.slice(m,m+t.length)==t?{open:{pos:n+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:r-f-t.length,margin:/\s/.test(d.charAt(m-1))?1:0}}:null}function T5(s){let e=[];for(let t of s.selection.ranges){let n=s.doc.lineAt(t.from),r=t.to<=n.to?n:s.doc.lineAt(t.to);r.from>n.from&&r.from==t.to&&(r=t.to==n.to+1?n:s.doc.lineAt(t.to-1));let i=e.length-1;i>=0&&e[i].to>n.from?e[i].to=r.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:r.to})}return e}function t0(s,e,t=e.selection.ranges){let n=t.map(i=>Gd(e,i.from).block);if(!n.every(i=>i))return null;let r=t.map((i,a)=>A5(e,n[a],i.from,i.to));if(s!=2&&!r.every(i=>i))return{changes:e.changes(t.map((i,a)=>r[a]?[]:[{from:i.from,insert:n[a].open+" "},{from:i.to,insert:" "+n[a].close}]))};if(s!=1&&r.some(i=>i)){let i=[];for(let a=0,o;a<r.length;a++)if(o=r[a]){let l=n[a],{open:c,close:u}=o;i.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:i}}return null}function E5(s,e,t=e.selection.ranges){let n=[],r=-1;for(let{from:i,to:a}of t){let o=n.length,l=1e9,c=Gd(e,i).line;if(c){for(let u=i;u<=a;){let d=e.doc.lineAt(u);if(d.from>r&&(i==a||a>d.from)){r=d.from;let h=/^\s*/.exec(d.text)[0].length,f=h==d.length,m=d.text.slice(h,h+c.length)==c?h:-1;h<d.text.length&&h<l&&(l=h),n.push({line:d,comment:m,token:c,indent:h,empty:f,single:!1})}u=d.to+1}if(l<1e9)for(let u=o;u<n.length;u++)n[u].indent<n[u].line.text.length&&(n[u].indent=l);n.length==o+1&&(n[o].single=!0)}}if(s!=2&&n.some(i=>i.comment<0&&(!i.empty||i.single))){let i=[];for(let{line:o,token:l,indent:c,empty:u,single:d}of n)(d||!u)&&i.push({from:o.from+c,insert:l+" "});let a=e.changes(i);return{changes:a,selection:e.selection.map(a,1)}}else if(s!=1&&n.some(i=>i.comment>=0)){let i=[];for(let{line:a,comment:o,token:l}of n)if(o>=0){let c=a.from+o,u=c+l.length;a.text[u-a.from]==" "&&u++,i.push({from:c,to:u})}return{changes:i}}return null}const $u=Os.define(),M5=Os.define(),N5=te.define(),s0=te.define({combine(s){return hs(s,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,r)=>e(n,r)||t(n,r)})}}),n0=lt.define({create(){return Ts.empty},update(s,e){let t=e.state.facet(s0),n=e.annotation($u);if(n){let l=Lt.fromTransaction(e,n.selection),c=n.side,u=c==0?s.undone:s.done;return l?u=Bo(u,u.length,t.minDepth,l):u=a0(u,e.startState.selection),new Ts(c==0?n.rest:u,c==0?u:n.rest)}let r=e.annotation(M5);if((r=="full"||r=="before")&&(s=s.isolate()),e.annotation(at.addToHistory)===!1)return e.changes.empty?s:s.addMapping(e.changes.desc);let i=Lt.fromTransaction(e),a=e.annotation(at.time),o=e.annotation(at.userEvent);return i?s=s.addChanges(i,a,o,t,e):e.selection&&(s=s.addSelection(e.startState.selection,a,o,t.newGroupDelay)),(r=="full"||r=="after")&&(s=s.isolate()),s},toJSON(s){return{done:s.done.map(e=>e.toJSON()),undone:s.undone.map(e=>e.toJSON())}},fromJSON(s){return new Ts(s.done.map(Lt.fromJSON),s.undone.map(Lt.fromJSON))}});function R5(s={}){return[n0,s0.of(s),J.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?r0:e.inputType=="historyRedo"?_u:null;return n?(e.preventDefault(),n(t)):!1}})]}function kl(s,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let r=t.field(n0,!1);if(!r)return!1;let i=r.pop(s,t,e);return i?(n(i),!0):!1}}const r0=kl(0,!1),_u=kl(1,!1),D5=kl(0,!0),O5=kl(1,!0);class Lt{constructor(e,t,n,r,i){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(e){return new Lt(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new Lt(e.changes&&it.fromJSON(e.changes),[],e.mapped&&Ms.fromJSON(e.mapped),e.startSelection&&_.fromJSON(e.startSelection),e.selectionsAfter.map(_.fromJSON))}static fromTransaction(e,t){let n=Zt;for(let r of e.startState.facet(N5)){let i=r(e);i.length&&(n=n.concat(i))}return!n.length&&e.changes.empty?null:new Lt(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,Zt)}static selection(e){return new Lt(void 0,Zt,void 0,void 0,e)}}function Bo(s,e,t,n){let r=e+1>t+20?e-t-1:0,i=s.slice(r,e);return i.push(n),i}function z5(s,e){let t=[],n=!1;return s.iterChangedRanges((r,i)=>t.push(r,i)),e.iterChangedRanges((r,i,a,o)=>{for(let l=0;l<t.length;){let c=t[l++],u=t[l++];o>=c&&a<=u&&(n=!0)}}),n}function L5(s,e){return s.ranges.length==e.ranges.length&&s.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function i0(s,e){return s.length?e.length?s.concat(e):s:e}const Zt=[],B5=200;function a0(s,e){if(s.length){let t=s[s.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-B5));return n.length&&n[n.length-1].eq(e)?s:(n.push(e),Bo(s,s.length-1,1e9,t.setSelAfter(n)))}else return[Lt.selection([e])]}function j5(s){let e=s[s.length-1],t=s.slice();return t[s.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function vc(s,e){if(!s.length)return s;let t=s.length,n=Zt;for(;t;){let r=I5(s[t-1],e,n);if(r.changes&&!r.changes.empty||r.effects.length){let i=s.slice(0,t);return i[t-1]=r,i}else e=r.mapped,t--,n=r.selectionsAfter}return n.length?[Lt.selection(n)]:Zt}function I5(s,e,t){let n=i0(s.selectionsAfter.length?s.selectionsAfter.map(o=>o.map(e)):Zt,t);if(!s.changes)return Lt.selection(n);let r=s.changes.map(e),i=e.mapDesc(s.changes,!0),a=s.mapped?s.mapped.composeDesc(i):i;return new Lt(r,we.mapEffects(s.effects,e),a,s.startSelection.map(i),n)}const $5=/^(input\.type|delete)($|\.)/;class Ts{constructor(e,t,n=0,r=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new Ts(this.done,this.undone):this}addChanges(e,t,n,r,i){let a=this.done,o=a[a.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!n||$5.test(n))&&(!o.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(i,z5(o.changes,e.changes))||n=="input.type.compose")?a=Bo(a,a.length-1,r.minDepth,new Lt(e.changes.compose(o.changes),i0(we.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,Zt)):a=Bo(a,a.length,r.minDepth,e),new Ts(a,Zt,t,n)}addSelection(e,t,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Zt;return i.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&L5(i[i.length-1],e)?this:new Ts(a0(this.done,e),this.undone,t,n)}addMapping(e){return new Ts(vc(this.done,e),vc(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=e==0?this.done:this.undone;if(r.length==0)return null;let i=r[r.length-1],a=i.selectionsAfter[0]||t.selection;if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:$u.of({side:e,rest:j5(r),selection:a}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let o=r.length==1?Zt:r.slice(0,r.length-1);return i.mapped&&(o=vc(o,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:$u.of({side:e,rest:o,selection:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Ts.empty=new Ts(Zt,Zt);const _5=[{key:"Mod-z",run:r0,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:_u,preventDefault:!0},{linux:"Ctrl-Shift-z",run:_u,preventDefault:!0},{key:"Mod-u",run:D5,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:O5,preventDefault:!0}];function Rr(s,e){return _.create(s.ranges.map(e),s.mainIndex)}function zs(s,e){return s.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function fs({state:s,dispatch:e},t){let n=Rr(s.selection,t);return n.eq(s.selection,!0)?!1:(e(zs(s,n)),!0)}function Cl(s,e){return _.cursor(e?s.to:s.from)}function o0(s,e){return fs(s,t=>t.empty?s.moveByChar(t,e):Cl(t,e))}function Ct(s){return s.textDirectionAt(s.state.selection.main.head)==qe.LTR}const l0=s=>o0(s,!Ct(s)),c0=s=>o0(s,Ct(s));function u0(s,e){return fs(s,t=>t.empty?s.moveByGroup(t,e):Cl(t,e))}const F5=s=>u0(s,!Ct(s)),V5=s=>u0(s,Ct(s));function U5(s,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(s.sliceDoc(e.from,e.to)))||e.firstChild}function Pl(s,e,t){let n=kt(s).resolveInner(e.head),r=t?Pe.closedBy:Pe.openedBy;for(let l=e.head;;){let c=t?n.childAfter(l):n.childBefore(l);if(!c)break;U5(s,c,r)?n=c:l=t?c.to:c.from}let i=n.type.prop(r),a,o;return i&&(a=t?Ps(s,n.from,1):Ps(s,n.to,-1))&&a.matched?o=t?a.end.to:a.end.from:o=t?n.to:n.from,_.cursor(o,t?-1:1)}const H5=s=>fs(s,e=>Pl(s.state,e,!Ct(s))),W5=s=>fs(s,e=>Pl(s.state,e,Ct(s)));function d0(s,e){return fs(s,t=>{if(!t.empty)return Cl(t,e);let n=s.moveVertically(t,e);return n.head!=t.head?n:s.moveToLineBoundary(t,e)})}const h0=s=>d0(s,!1),f0=s=>d0(s,!0);function p0(s){let e=s.scrollDOM.clientHeight<s.scrollDOM.scrollHeight-2,t=0,n=0,r;if(e){for(let i of s.state.facet(J.scrollMargins)){let a=i(s);a!=null&&a.top&&(t=Math.max(a==null?void 0:a.top,t)),a!=null&&a.bottom&&(n=Math.max(a==null?void 0:a.bottom,n))}r=s.scrollDOM.clientHeight-t-n}else r=(s.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(s.defaultLineHeight,r-5)}}function m0(s,e){let t=p0(s),{state:n}=s,r=Rr(n.selection,a=>a.empty?s.moveVertically(a,e,t.height):Cl(a,e));if(r.eq(n.selection))return!1;let i;if(t.selfScroll){let a=s.coordsAtPos(n.selection.main.head),o=s.scrollDOM.getBoundingClientRect(),l=o.top+t.marginTop,c=o.bottom-t.marginBottom;a&&a.top>l&&a.bottom<c&&(i=J.scrollIntoView(r.main.head,{y:"start",yMargin:a.top-l}))}return s.dispatch(zs(n,r),{effects:i}),!0}const zp=s=>m0(s,!1),Fu=s=>m0(s,!0);function yn(s,e,t){let n=s.lineBlockAt(e.head),r=s.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?n.to:n.from)&&(r=s.moveToLineBoundary(e,t,!1)),!t&&r.head==n.from&&n.length){let i=/^\s*/.exec(s.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;i&&e.head!=n.from+i&&(r=_.cursor(n.from+i))}return r}const q5=s=>fs(s,e=>yn(s,e,!0)),G5=s=>fs(s,e=>yn(s,e,!1)),K5=s=>fs(s,e=>yn(s,e,!Ct(s))),Y5=s=>fs(s,e=>yn(s,e,Ct(s))),Q5=s=>fs(s,e=>_.cursor(s.lineBlockAt(e.head).from,1)),J5=s=>fs(s,e=>_.cursor(s.lineBlockAt(e.head).to,-1));function Z5(s,e,t){let n=!1,r=Rr(s.selection,i=>{let a=Ps(s,i.head,-1)||Ps(s,i.head,1)||i.head>0&&Ps(s,i.head-1,1)||i.head<s.doc.length&&Ps(s,i.head+1,-1);if(!a||!a.end)return i;n=!0;let o=a.start.from==i.head?a.end.to:a.end.from;return _.cursor(o)});return n?(e(zs(s,r)),!0):!1}const X5=({state:s,dispatch:e})=>Z5(s,e);function is(s,e){let t=Rr(s.state.selection,n=>{let r=e(n);return _.range(n.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(s.state.selection)?!1:(s.dispatch(zs(s.state,t)),!0)}function g0(s,e){return is(s,t=>s.moveByChar(t,e))}const v0=s=>g0(s,!Ct(s)),b0=s=>g0(s,Ct(s));function y0(s,e){return is(s,t=>s.moveByGroup(t,e))}const eL=s=>y0(s,!Ct(s)),tL=s=>y0(s,Ct(s)),sL=s=>is(s,e=>Pl(s.state,e,!Ct(s))),nL=s=>is(s,e=>Pl(s.state,e,Ct(s)));function w0(s,e){return is(s,t=>s.moveVertically(t,e))}const x0=s=>w0(s,!1),S0=s=>w0(s,!0);function k0(s,e){return is(s,t=>s.moveVertically(t,e,p0(s).height))}const Lp=s=>k0(s,!1),Bp=s=>k0(s,!0),rL=s=>is(s,e=>yn(s,e,!0)),iL=s=>is(s,e=>yn(s,e,!1)),aL=s=>is(s,e=>yn(s,e,!Ct(s))),oL=s=>is(s,e=>yn(s,e,Ct(s))),lL=s=>is(s,e=>_.cursor(s.lineBlockAt(e.head).from)),cL=s=>is(s,e=>_.cursor(s.lineBlockAt(e.head).to)),jp=({state:s,dispatch:e})=>(e(zs(s,{anchor:0})),!0),Ip=({state:s,dispatch:e})=>(e(zs(s,{anchor:s.doc.length})),!0),$p=({state:s,dispatch:e})=>(e(zs(s,{anchor:s.selection.main.anchor,head:0})),!0),_p=({state:s,dispatch:e})=>(e(zs(s,{anchor:s.selection.main.anchor,head:s.doc.length})),!0),uL=({state:s,dispatch:e})=>(e(s.update({selection:{anchor:0,head:s.doc.length},userEvent:"select"})),!0),dL=({state:s,dispatch:e})=>{let t=Al(s).map(({from:n,to:r})=>_.range(n,Math.min(r+1,s.doc.length)));return e(s.update({selection:_.create(t),userEvent:"select"})),!0},hL=({state:s,dispatch:e})=>{let t=Rr(s.selection,n=>{let r=kt(s),i=r.resolveStack(n.from,1);if(n.empty){let a=r.resolveStack(n.from,-1);a.node.from>=i.node.from&&a.node.to<=i.node.to&&(i=a)}for(let a=i;a;a=a.next){let{node:o}=a;if((o.from<n.from&&o.to>=n.to||o.to>n.to&&o.from<=n.from)&&a.next)return _.range(o.to,o.from)}return n});return t.eq(s.selection)?!1:(e(zs(s,t)),!0)},fL=({state:s,dispatch:e})=>{let t=s.selection,n=null;return t.ranges.length>1?n=_.create([t.main]):t.main.empty||(n=_.create([_.cursor(t.main.head)])),n?(e(zs(s,n)),!0):!1};function Ki(s,e){if(s.state.readOnly)return!1;let t="delete.selection",{state:n}=s,r=n.changeByRange(i=>{let{from:a,to:o}=i;if(a==o){let l=e(i);l<a?(t="delete.backward",l=za(s,l,!1)):l>a&&(t="delete.forward",l=za(s,l,!0)),a=Math.min(a,l),o=Math.max(o,l)}else a=za(s,a,!1),o=za(s,o,!0);return a==o?{range:i}:{changes:{from:a,to:o},range:_.cursor(a,a<i.head?-1:1)}});return r.changes.empty?!1:(s.dispatch(n.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?J.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function za(s,e,t){if(s instanceof J)for(let n of s.state.facet(J.atomicRanges).map(r=>r(s)))n.between(e,e,(r,i)=>{r<e&&i>e&&(e=t?i:r)});return e}const C0=(s,e,t)=>Ki(s,n=>{let r=n.from,{state:i}=s,a=i.doc.lineAt(r),o,l;if(t&&!e&&r>a.from&&r<a.from+200&&!/[^ \t]/.test(o=a.text.slice(0,r-a.from))){if(o[o.length-1]=="	")return r-1;let c=Nr(o,i.tabSize),u=c%To(i)||To(i);for(let d=0;d<u&&o[o.length-1-d]==" ";d++)r--;l=r}else l=vt(a.text,r-a.from,e,e)+a.from,l==r&&a.number!=(e?i.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(l-a.from,r-a.from))&&(l=vt(a.text,l-a.from,!1,!1)+a.from);return l}),Vu=s=>C0(s,!1,!0),P0=s=>C0(s,!0,!1),A0=(s,e)=>Ki(s,t=>{let n=t.head,{state:r}=s,i=r.doc.lineAt(n),a=r.charCategorizer(n);for(let o=null;;){if(n==(e?i.to:i.from)){n==t.head&&i.number!=(e?r.doc.lines:1)&&(n+=e?1:-1);break}let l=vt(i.text,n-i.from,e)+i.from,c=i.text.slice(Math.min(n,l)-i.from,Math.max(n,l)-i.from),u=a(c);if(o!=null&&u!=o)break;(c!=" "||n!=t.head)&&(o=u),n=l}return n}),T0=s=>A0(s,!1),pL=s=>A0(s,!0),mL=s=>Ki(s,e=>{let t=s.lineBlockAt(e.head).to;return e.head<t?t:Math.min(s.state.doc.length,e.head+1)}),gL=s=>Ki(s,e=>{let t=s.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),vL=s=>Ki(s,e=>{let t=s.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(s.state.doc.length,e.head+1)}),bL=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let t=s.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:De.of(["",""])},range:_.cursor(n.from)}));return e(s.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},yL=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let t=s.changeByRange(n=>{if(!n.empty||n.from==0||n.from==s.doc.length)return{range:n};let r=n.from,i=s.doc.lineAt(r),a=r==i.from?r-1:vt(i.text,r-i.from,!1)+i.from,o=r==i.to?r+1:vt(i.text,r-i.from,!0)+i.from;return{changes:{from:a,to:o,insert:s.doc.slice(r,o).append(s.doc.slice(a,r))},range:_.cursor(o)}});return t.changes.empty?!1:(e(s.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Al(s){let e=[],t=-1;for(let n of s.selection.ranges){let r=s.doc.lineAt(n.from),i=s.doc.lineAt(n.to);if(!n.empty&&n.to==i.from&&(i=s.doc.lineAt(n.to-1)),t>=r.number){let a=e[e.length-1];a.to=i.to,a.ranges.push(n)}else e.push({from:r.from,to:i.to,ranges:[n]});t=i.number+1}return e}function E0(s,e,t){if(s.readOnly)return!1;let n=[],r=[];for(let i of Al(s)){if(t?i.to==s.doc.length:i.from==0)continue;let a=s.doc.lineAt(t?i.to+1:i.from-1),o=a.length+1;if(t){n.push({from:i.to,to:a.to},{from:i.from,insert:a.text+s.lineBreak});for(let l of i.ranges)r.push(_.range(Math.min(s.doc.length,l.anchor+o),Math.min(s.doc.length,l.head+o)))}else{n.push({from:a.from,to:i.from},{from:i.to,insert:s.lineBreak+a.text});for(let l of i.ranges)r.push(_.range(l.anchor-o,l.head-o))}}return n.length?(e(s.update({changes:n,scrollIntoView:!0,selection:_.create(r,s.selection.mainIndex),userEvent:"move.line"})),!0):!1}const wL=({state:s,dispatch:e})=>E0(s,e,!1),xL=({state:s,dispatch:e})=>E0(s,e,!0);function M0(s,e,t){if(s.readOnly)return!1;let n=[];for(let r of Al(s))t?n.push({from:r.from,insert:s.doc.slice(r.from,r.to)+s.lineBreak}):n.push({from:r.to,insert:s.lineBreak+s.doc.slice(r.from,r.to)});return e(s.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const SL=({state:s,dispatch:e})=>M0(s,e,!1),kL=({state:s,dispatch:e})=>M0(s,e,!0),CL=s=>{if(s.state.readOnly)return!1;let{state:e}=s,t=e.changes(Al(e).map(({from:r,to:i})=>(r>0?r--:i<e.doc.length&&i++,{from:r,to:i}))),n=Rr(e.selection,r=>{let i;if(s.lineWrapping){let a=s.lineBlockAt(r.head),o=s.coordsAtPos(r.head,r.assoc||1);o&&(i=a.bottom+s.documentTop-o.bottom+s.defaultLineHeight/2)}return s.moveVertically(r,!0,i)}).map(t);return s.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function PL(s,e){if(/\(\)|\[\]|\{\}/.test(s.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=kt(s).resolveInner(e),n=t.childBefore(e),r=t.childAfter(e),i;return n&&r&&n.to<=e&&r.from>=e&&(i=n.type.prop(Pe.closedBy))&&i.indexOf(r.name)>-1&&s.doc.lineAt(n.to).from==s.doc.lineAt(r.from).from&&!/\S/.test(s.sliceDoc(n.to,r.from))?{from:n.to,to:r.from}:null}const Fp=N0(!1),AL=N0(!0);function N0(s){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>{let{from:i,to:a}=r,o=e.doc.lineAt(i),l=!s&&i==a&&PL(e,i);s&&(i=a=(a<=o.to?o:e.doc.lineAt(a)).to);let c=new yl(e,{simulateBreak:i,simulateDoubleBreak:!!l}),u=Id(c,i);for(u==null&&(u=Nr(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));a<o.to&&/\s/.test(o.text[a-o.from]);)a++;l?{from:i,to:a}=l:i>o.from&&i<o.from+100&&!/\S/.test(o.text.slice(0,i))&&(i=o.from);let d=["",Ti(e,u)];return l&&d.push(Ti(e,c.lineIndent(o.from,-1))),{changes:{from:i,to:a,insert:De.of(d)},range:_.cursor(i+1+d[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function Kd(s,e){let t=-1;return s.changeByRange(n=>{let r=[];for(let a=n.from;a<=n.to;){let o=s.doc.lineAt(a);o.number>t&&(n.empty||n.to>o.from)&&(e(o,r,n),t=o.number),a=o.to+1}let i=s.changes(r);return{changes:r,range:_.range(i.mapPos(n.anchor,1),i.mapPos(n.head,1))}})}const TL=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let t=Object.create(null),n=new yl(s,{overrideIndentation:i=>{let a=t[i];return a??-1}}),r=Kd(s,(i,a,o)=>{let l=Id(n,i.from);if(l==null)return;/\S/.test(i.text)||(l=0);let c=/^\s*/.exec(i.text)[0],u=Ti(s,l);(c!=u||o.from<i.from+c.length)&&(t[i.from]=l,a.push({from:i.from,to:i.from+c.length,insert:u}))});return r.changes.empty||e(s.update(r,{userEvent:"indent"})),!0},R0=({state:s,dispatch:e})=>s.readOnly?!1:(e(s.update(Kd(s,(t,n)=>{n.push({from:t.from,insert:s.facet(bl)})}),{userEvent:"input.indent"})),!0),D0=({state:s,dispatch:e})=>s.readOnly?!1:(e(s.update(Kd(s,(t,n)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let i=Nr(r,s.tabSize),a=0,o=Ti(s,Math.max(0,i-To(s)));for(;a<r.length&&a<o.length&&r.charCodeAt(a)==o.charCodeAt(a);)a++;n.push({from:t.from+a,to:t.from+r.length,insert:o.slice(a)})}),{userEvent:"delete.dedent"})),!0),EL=s=>(s.setTabFocusMode(),!0),ML=[{key:"Ctrl-b",run:l0,shift:v0,preventDefault:!0},{key:"Ctrl-f",run:c0,shift:b0},{key:"Ctrl-p",run:h0,shift:x0},{key:"Ctrl-n",run:f0,shift:S0},{key:"Ctrl-a",run:Q5,shift:lL},{key:"Ctrl-e",run:J5,shift:cL},{key:"Ctrl-d",run:P0},{key:"Ctrl-h",run:Vu},{key:"Ctrl-k",run:mL},{key:"Ctrl-Alt-h",run:T0},{key:"Ctrl-o",run:bL},{key:"Ctrl-t",run:yL},{key:"Ctrl-v",run:Fu}],NL=[{key:"ArrowLeft",run:l0,shift:v0,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:F5,shift:eL,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:K5,shift:aL,preventDefault:!0},{key:"ArrowRight",run:c0,shift:b0,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:V5,shift:tL,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Y5,shift:oL,preventDefault:!0},{key:"ArrowUp",run:h0,shift:x0,preventDefault:!0},{mac:"Cmd-ArrowUp",run:jp,shift:$p},{mac:"Ctrl-ArrowUp",run:zp,shift:Lp},{key:"ArrowDown",run:f0,shift:S0,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Ip,shift:_p},{mac:"Ctrl-ArrowDown",run:Fu,shift:Bp},{key:"PageUp",run:zp,shift:Lp},{key:"PageDown",run:Fu,shift:Bp},{key:"Home",run:G5,shift:iL,preventDefault:!0},{key:"Mod-Home",run:jp,shift:$p},{key:"End",run:q5,shift:rL,preventDefault:!0},{key:"Mod-End",run:Ip,shift:_p},{key:"Enter",run:Fp,shift:Fp},{key:"Mod-a",run:uL},{key:"Backspace",run:Vu,shift:Vu},{key:"Delete",run:P0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:T0},{key:"Mod-Delete",mac:"Alt-Delete",run:pL},{mac:"Mod-Backspace",run:gL},{mac:"Mod-Delete",run:vL}].concat(ML.map(s=>({mac:s.key,run:s.run,shift:s.shift}))),RL=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:H5,shift:sL},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:W5,shift:nL},{key:"Alt-ArrowUp",run:wL},{key:"Shift-Alt-ArrowUp",run:SL},{key:"Alt-ArrowDown",run:xL},{key:"Shift-Alt-ArrowDown",run:kL},{key:"Escape",run:fL},{key:"Mod-Enter",run:AL},{key:"Alt-l",mac:"Ctrl-l",run:dL},{key:"Mod-i",run:hL,preventDefault:!0},{key:"Mod-[",run:D0},{key:"Mod-]",run:R0},{key:"Mod-Alt-\\",run:TL},{key:"Shift-Mod-k",run:CL},{key:"Shift-Mod-\\",run:X5},{key:"Mod-/",run:S5},{key:"Alt-A",run:C5},{key:"Ctrl-m",mac:"Shift-Alt-m",run:EL}].concat(NL),DL={key:"Tab",run:R0,shift:D0};class O0{constructor(e,t,n,r){this.state=e,this.pos=t,this.explicit=n,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=kt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),i=r.search(z0(e,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function Vp(s){let e=Object.keys(s).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function OL(s){let e=Object.create(null),t=Object.create(null);for(let{label:r}of s){e[r[0]]=!0;for(let i=1;i<r.length;i++)t[r[i]]=!0}let n=Vp(e)+Vp(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function zL(s){let e=s.map(r=>typeof r=="string"?{label:r}:r),[t,n]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:OL(e);return r=>{let i=r.matchBefore(n);return i||r.explicit?{from:i?i.from:r.pos,options:e,validFor:t}:null}}class Up{constructor(e,t,n,r){this.completion=e,this.source=t,this.match=n,this.score=r}}function Dn(s){return s.selection.main.from}function z0(s,e){var t;let{source:n}=s,r=e&&n[0]!="^",i=n[n.length-1]!="$";return!r&&!i?s:new RegExp(`${r?"^":""}(?:${n})${i?"$":""}`,(t=s.flags)!==null&&t!==void 0?t:s.ignoreCase?"i":"")}const L0=Os.define();function LL(s,e,t,n){let{main:r}=s.selection,i=t-r.from,a=n-r.from;return Object.assign(Object.assign({},s.changeByRange(o=>{if(o!=r&&t!=n&&s.sliceDoc(o.from+i,o.from+a)!=s.sliceDoc(t,n))return{range:o};let l=s.toText(e);return{changes:{from:o.from+i,to:n==r.from?o.to:o.from+a,insert:l},range:_.cursor(o.from+i+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const Hp=new WeakMap;function BL(s){if(!Array.isArray(s))return s;let e=Hp.get(s);return e||Hp.set(s,e=zL(s)),e}const jo=we.define(),Ni=we.define();class jL{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=mt(e,t),r=Jt(n);this.chars.push(n);let i=e.slice(t,t+r),a=i.toUpperCase();this.folded.push(mt(a==i?i.toLowerCase():a,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:r,precise:i,byWord:a}=this;if(t.length==1){let C=mt(e,0),A=Jt(C),E=A==e.length?0:-100;if(C!=t[0])if(C==n[0])E+=-200;else return null;return this.ret(E,[0,A])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(o<0){for(let C=0,A=Math.min(e.length,200);C<A&&c<l;){let E=mt(e,C);(E==t[c]||E==n[c])&&(r[c++]=C),C+=Jt(E)}if(c<l)return null}let u=0,d=0,h=!1,f=0,m=-1,g=-1,v=/[a-z]/.test(e),b=!0;for(let C=0,A=Math.min(e.length,200),E=0;C<A&&d<l;){let x=mt(e,C);o<0&&(u<l&&x==t[u]&&(i[u++]=C),f<l&&(x==t[f]||x==n[f]?(f==0&&(m=C),g=C+1,f++):f=0));let R,O=x<255?x>=48&&x<=57||x>=97&&x<=122?2:x>=65&&x<=90?1:0:(R=kd(x))!=R.toLowerCase()?1:R!=R.toUpperCase()?2:0;(!C||O==1&&v||E==0&&O!=0)&&(t[d]==x||n[d]==x&&(h=!0)?a[d++]=C:a.length&&(b=!1)),E=O,C+=Jt(x)}return d==l&&a[0]==0&&b?this.result(-100+(h?-200:0),a,e):f==l&&m==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):f==l?this.ret(-900-e.length,[m,g]):d==l?this.result(-100+(h?-200:0)+-700+(b?0:-1100),a,e):t.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,n){let r=[],i=0;for(let a of t){let o=a+(this.astral?Jt(mt(n,a)):1);i&&r[i-1]==a?r[i-1]=o:(r[i++]=a,r[i++]=o)}return this.ret(e-n.length,r)}}class IL{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const dt=te.define({combine(s){return hs(s,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:$L,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>Wp(e(n),t(n)),optionClass:(e,t)=>n=>Wp(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Wp(s,e){return s?e?s+" "+e:s:e}function $L(s,e,t,n,r,i){let a=s.textDirection==qe.RTL,o=a,l=!1,c="top",u,d,h=e.left-r.left,f=r.right-e.right,m=n.right-n.left,g=n.bottom-n.top;if(o&&h<Math.min(m,f)?o=!1:!o&&f<Math.min(m,h)&&(o=!0),m<=(o?h:f))u=Math.max(r.top,Math.min(t.top,r.bottom-g))-e.top,d=Math.min(400,o?h:f);else{l=!0,d=Math.min(400,(a?e.right:r.right-e.left)-30);let C=r.bottom-e.bottom;C>=g||C>e.top?u=t.bottom-e.top:(c="bottom",u=e.bottom-t.top)}let v=(e.bottom-e.top)/i.offsetHeight,b=(e.right-e.left)/i.offsetWidth;return{style:`${c}: ${u/v}px; max-width: ${d/b}px`,class:"cm-completionInfo-"+(l?a?"left-narrow":"right-narrow":o?"left":"right")}}function _L(s){let e=s.addToOptions.slice();return s.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,r,i){let a=document.createElement("span");a.className="cm-completionLabel";let o=t.displayLabel||t.label,l=0;for(let c=0;c<i.length;){let u=i[c++],d=i[c++];u>l&&a.appendChild(document.createTextNode(o.slice(l,u)));let h=a.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(o.slice(u,d))),h.className="cm-completionMatchedText",l=d}return l<o.length&&a.appendChild(document.createTextNode(o.slice(l))),a},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function bc(s,e,t){if(s<=t)return{from:0,to:s};if(e<0&&(e=0),e<=s>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let n=Math.floor((s-e)/t);return{from:s-(n+1)*t,to:s-n*t}}class FL{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:i,selected:a}=r.open,o=e.state.facet(dt);this.optionContent=_L(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=bc(i.length,a,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(t).open;for(let u=l.target,d;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(d=/-(\d+)$/.exec(u.id))&&+d[1]<c.length){this.applyCompletion(e,c[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(dt).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Ni.of(null)})}),this.showOptions(i,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let n=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=r){let{options:i,selected:a,disabled:o}=n.open;(!r.open||r.open.options!=i)&&(this.range=bc(i.length,a,e.state.facet(dt).maxRenderedOptions),this.showOptions(i,n.id)),this.updateSel(),o!=((t=r.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=bc(t.options.length,t.selected,this.view.state.facet(dt).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:r}=n;if(!r)return;let i=typeof r=="string"?document.createTextNode(r):r(n);if(!i)return;"then"in i?i.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,n)}).catch(a=>Tt(this.view.state,a,"completion info")):this.addInfoPane(i,n)}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:i}=e;n.appendChild(r),this.infoDestroy=i||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)n.nodeName!="LI"||!n.id?r--:r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&UL(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),i=this.space;if(!i){let a=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}}return r.top>Math.min(i.bottom,t.bottom)-10||r.bottom<Math.max(i.top,t.top)+10?null:this.view.state.facet(dt).positionInfo(this.view,t,r,n,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let i=null;for(let a=n.from;a<n.to;a++){let{completion:o,match:l}=e[a],{section:c}=o;if(c){let h=typeof c=="string"?c:c.name;if(h!=i&&(a>n.from||n.from==0))if(i=h,typeof c!="string"&&c.header)r.appendChild(c.header(c));else{let f=r.appendChild(document.createElement("completion-section"));f.textContent=h}}const u=r.appendChild(document.createElement("li"));u.id=t+"-"+a,u.setAttribute("role","option");let d=this.optionClass(o);d&&(u.className=d);for(let h of this.optionContent){let f=h(o,this.view.state,this.view,l);f&&u.appendChild(f)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function VL(s,e){return t=>new FL(t,s,e)}function UL(s,e){let t=s.getBoundingClientRect(),n=e.getBoundingClientRect(),r=t.height/s.offsetHeight;n.top<t.top?s.scrollTop-=(t.top-n.top)/r:n.bottom>t.bottom&&(s.scrollTop+=(n.bottom-t.bottom)/r)}function qp(s){return(s.boost||0)*100+(s.apply?10:0)+(s.info?5:0)+(s.type?1:0)}function HL(s,e){let t=[],n=null,r=c=>{t.push(c);let{section:u}=c.completion;if(u){n||(n=[]);let d=typeof u=="string"?u:u.name;n.some(h=>h.name==d)||n.push(typeof u=="string"?{name:d}:u)}},i=e.facet(dt);for(let c of s)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let d of c.result.options)r(new Up(d,c.source,u?u(d):[],1e9-t.length));else{let d=e.sliceDoc(c.from,c.to),h,f=i.filterStrict?new IL(d):new jL(d);for(let m of c.result.options)if(h=f.match(m.label)){let g=m.displayLabel?u?u(m,h.matched):[]:h.matched;r(new Up(m,c.source,g,h.score+(m.boost||0)))}}}if(n){let c=Object.create(null),u=0,d=(h,f)=>{var m,g;return((m=h.rank)!==null&&m!==void 0?m:1e9)-((g=f.rank)!==null&&g!==void 0?g:1e9)||(h.name<f.name?-1:1)};for(let h of n.sort(d))u-=1e5,c[h.name]=u;for(let h of t){let{section:f}=h.completion;f&&(h.score+=c[typeof f=="string"?f:f.name])}}let a=[],o=null,l=i.compareCompletions;for(let c of t.sort((u,d)=>d.score-u.score||l(u.completion,d.completion))){let u=c.completion;!o||o.label!=u.label||o.detail!=u.detail||o.type!=null&&u.type!=null&&o.type!=u.type||o.apply!=u.apply||o.boost!=u.boost?a.push(c):qp(c.completion)>qp(o)&&(a[a.length-1]=c),o=c.completion}return a}class ir{constructor(e,t,n,r,i,a){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=r,this.selected=i,this.disabled=a}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new ir(this.options,Gp(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,r,i,a){if(r&&!a&&e.some(c=>c.isPending))return r.setDisabled();let o=HL(e,t);if(!o.length)return r&&e.some(c=>c.isPending)?r.setDisabled():null;let l=t.facet(dt).selectOnOpen?0:-1;if(r&&r.selected!=l&&r.selected!=-1){let c=r.options[r.selected].completion;for(let u=0;u<o.length;u++)if(o[u].completion==c){l=u;break}}return new ir(o,Gp(n,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:QL,above:i.aboveCursor},r?r.timestamp:Date.now(),l,!1)}map(e){return new ir(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new ir(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Io{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new Io(KL,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(dt),i=(n.override||t.languageDataAt("autocomplete",Dn(t)).map(BL)).map(l=>(this.active.find(u=>u.source==l)||new Xt(l,this.active.some(u=>u.state!=0)?1:0)).update(e,n));i.length==this.active.length&&i.every((l,c)=>l==this.active[c])&&(i=this.active);let a=this.open,o=e.effects.some(l=>l.is(Yd));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||i.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!WL(i,this.active)||o?a=ir.build(i,t,this.id,a,n,o):a&&a.disabled&&!i.some(l=>l.isPending)&&(a=null),!a&&i.every(l=>!l.isPending)&&i.some(l=>l.hasResult())&&(i=i.map(l=>l.hasResult()?new Xt(l.source,0):l));for(let l of e.effects)l.is(j0)&&(a=a&&a.setSelected(l.value,this.id));return i==this.active&&a==this.open?this:new Io(i,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?qL:GL}}function WL(s,e){if(s==e)return!0;for(let t=0,n=0;;){for(;t<s.length&&!s[t].hasResult();)t++;for(;n<e.length&&!e[n].hasResult();)n++;let r=t==s.length,i=n==e.length;if(r||i)return r==i;if(s[t++].result!=e[n++].result)return!1}}const qL={"aria-autocomplete":"list"},GL={};function Gp(s,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":s};return e>-1&&(t["aria-activedescendant"]=s+"-"+e),t}const KL=[];function B0(s,e){if(s.isUserEvent("input.complete")){let n=s.annotation(L0);if(n&&e.activateOnCompletion(n))return 12}let t=s.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:s.isUserEvent("delete.backward")?2:s.selection?8:s.docChanged?16:0}class Xt{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let n=B0(e,t),r=this;(n&8||n&16&&this.touches(e))&&(r=new Xt(r.source,0)),n&4&&r.state==0&&(r=new Xt(this.source,1)),r=r.updateFor(e,n);for(let i of e.effects)if(i.is(jo))r=new Xt(r.source,1,i.value);else if(i.is(Ni))r=new Xt(r.source,0);else if(i.is(Yd))for(let a of i.value)a.source==r.source&&(r=a);return r}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Dn(e.state))}}class fr extends Xt{constructor(e,t,n,r,i,a){super(e,3,t),this.limit=n,this.result=r,this.from=i,this.to=a}hasResult(){return!0}updateFor(e,t){var n;if(!(t&3))return this.map(e.changes);let r=this.result;r.map&&!e.changes.empty&&(r=r.map(r,e.changes));let i=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),o=Dn(e.state);if(o>a||!r||t&2&&(Dn(e.startState)==this.from||o<this.limit))return new Xt(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return YL(r.validFor,e.state,i,a)?new fr(this.source,this.explicit,l,r,i,a):r.update&&(r=r.update(r,i,a,new O0(e.state,o,!1)))?new fr(this.source,this.explicit,l,r,r.from,(n=r.to)!==null&&n!==void 0?n:Dn(e.state)):new Xt(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new fr(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Xt(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function YL(s,e,t,n){if(!s)return!1;let r=e.sliceDoc(t,n);return typeof s=="function"?s(r,t,n,e):z0(s,!0).test(r)}const Yd=we.define({map(s,e){return s.map(t=>t.map(e))}}),j0=we.define(),zt=lt.define({create(){return Io.start()},update(s,e){return s.update(e)},provide:s=>[gl.from(s,e=>e.tooltip),J.contentAttributes.from(s,e=>e.attrs)]});function Qd(s,e){const t=e.completion.apply||e.completion.label;let n=s.state.field(zt).active.find(r=>r.source==e.source);return n instanceof fr?(typeof t=="string"?s.dispatch(Object.assign(Object.assign({},LL(s.state,t,n.from,n.to)),{annotations:L0.of(e.completion)})):t(s,e.completion,n.from,n.to),!0):!1}const QL=VL(zt,Qd);function La(s,e="option"){return t=>{let n=t.state.field(zt,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(dt).interactionDelay)return!1;let r=1,i;e=="page"&&(i=py(t,n.open.tooltip))&&(r=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:a}=n.open.options,o=n.open.selected>-1?n.open.selected+r*(s?1:-1):s?0:a-1;return o<0?o=e=="page"?0:a-1:o>=a&&(o=e=="page"?a-1:0),t.dispatch({effects:j0.of(o)}),!0}}const JL=s=>{let e=s.state.field(zt,!1);return s.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<s.state.facet(dt).interactionDelay?!1:Qd(s,e.open.options[e.open.selected])},Kp=s=>s.state.field(zt,!1)?(s.dispatch({effects:jo.of(!0)}),!0):!1,ZL=s=>{let e=s.state.field(zt,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(s.dispatch({effects:Ni.of(null)}),!0)};class XL{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const eB=50,tB=1e3,sB=Xe.fromClass(class{constructor(s){this.view=s,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of s.state.field(zt).active)e.isPending&&this.startQuery(e)}update(s){let e=s.state.field(zt),t=s.state.facet(dt);if(!s.selectionSet&&!s.docChanged&&s.startState.field(zt)==e)return;let n=s.transactions.some(i=>{let a=B0(i,t);return a&8||(i.selection||i.docChanged)&&!(a&3)});for(let i=0;i<this.running.length;i++){let a=this.running[i];if(n||a.context.abortOnDocChange&&s.docChanged||a.updates.length+s.transactions.length>eB&&Date.now()-a.time>tB){for(let o of a.context.abortListeners)try{o()}catch(l){Tt(this.view.state,l)}a.context.abortListeners=null,this.running.splice(i--,1)}else a.updates.push(...s.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),s.transactions.some(i=>i.effects.some(a=>a.is(jo)))&&(this.pendingStart=!0);let r=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(i=>i.isPending&&!this.running.some(a=>a.active.source==i.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let i of s.transactions)i.isUserEvent("input.type")?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:s}=this.view,e=s.field(zt);for(let t of e.active)t.isPending&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(dt).updateSyncTime))}startQuery(s){let{state:e}=this.view,t=Dn(e),n=new O0(e,t,s.explicit,this.view),r=new XL(s,n);this.running.push(r),Promise.resolve(s.source(n)).then(i=>{r.context.aborted||(r.done=i||null,this.scheduleAccept())},i=>{this.view.dispatch({effects:Ni.of(null)}),Tt(this.view.state,i)})}scheduleAccept(){this.running.every(s=>s.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(dt).updateSyncTime))}accept(){var s;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(dt),n=this.view.state.field(zt);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let o=Dn(i.updates.length?i.updates[0].startState:this.view.state),l=Math.min(o,i.done.from+(i.active.explicit?0:1)),c=new fr(i.active.source,i.active.explicit,l,i.done,i.done.from,(s=i.done.to)!==null&&s!==void 0?s:o);for(let u of i.updates)c=c.update(u,t);if(c.hasResult()){e.push(c);continue}}let a=n.active.find(o=>o.source==i.active.source);if(a&&a.isPending)if(i.done==null){let o=new Xt(i.active.source,0);for(let l of i.updates)o=o.update(l,t);o.isPending||e.push(o)}else this.startQuery(a)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:Yd.of(e)})}},{eventHandlers:{blur(s){let e=this.view.state.field(zt,!1);if(e&&e.tooltip&&this.view.state.facet(dt).closeOnBlur){let t=e.open&&py(this.view,e.open.tooltip);(!t||!t.dom.contains(s.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Ni.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:jo.of(!1)}),20),this.composing=0}}}),nB=typeof navigator=="object"&&/Win/.test(navigator.platform),rB=Un.highest(J.domEventHandlers({keydown(s,e){let t=e.state.field(zt,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||s.key.length>1||s.ctrlKey&&!(nB&&s.altKey)||s.metaKey)return!1;let n=t.open.options[t.open.selected],r=t.active.find(a=>a.source==n.source),i=n.completion.commitCharacters||r.result.commitCharacters;return i&&i.indexOf(s.key)>-1&&Qd(e,n),!1}})),iB=J.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Ri={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},En=we.define({map(s,e){let t=e.mapPos(s,-1,At.TrackAfter);return t??void 0}}),Jd=new class extends zn{};Jd.startSide=1;Jd.endSide=-1;const I0=lt.define({create(){return Ne.empty},update(s,e){if(s=s.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);s=s.update({filter:n=>n>=t.from&&n<=t.to})}for(let t of e.effects)t.is(En)&&(s=s.update({add:[Jd.range(t.value,t.value+1)]}));return s}});function aB(){return[lB,I0]}const yc="()[]{}<>";function $0(s){for(let e=0;e<yc.length;e+=2)if(yc.charCodeAt(e)==s)return yc.charAt(e+1);return kd(s<128?s:s+1)}function _0(s,e){return s.languageDataAt("closeBrackets",e)[0]||Ri}const oB=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),lB=J.inputHandler.of((s,e,t,n)=>{if((oB?s.composing:s.compositionStarted)||s.state.readOnly)return!1;let r=s.state.selection.main;if(n.length>2||n.length==2&&Jt(mt(n,0))==1||e!=r.from||t!=r.to)return!1;let i=dB(s.state,n);return i?(s.dispatch(i),!0):!1}),cB=({state:s,dispatch:e})=>{if(s.readOnly)return!1;let n=_0(s,s.selection.main.head).brackets||Ri.brackets,r=null,i=s.changeByRange(a=>{if(a.empty){let o=hB(s.doc,a.head);for(let l of n)if(l==o&&Tl(s.doc,a.head)==$0(mt(l,0)))return{changes:{from:a.head-l.length,to:a.head+l.length},range:_.cursor(a.head-l.length)}}return{range:r=a}});return r||e(s.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},uB=[{key:"Backspace",run:cB}];function dB(s,e){let t=_0(s,s.selection.main.head),n=t.brackets||Ri.brackets;for(let r of n){let i=$0(mt(r,0));if(e==r)return i==r?mB(s,r,n.indexOf(r+r+r)>-1,t):fB(s,r,i,t.before||Ri.before);if(e==i&&F0(s,s.selection.main.from))return pB(s,r,i)}return null}function F0(s,e){let t=!1;return s.field(I0).between(0,s.doc.length,n=>{n==e&&(t=!0)}),t}function Tl(s,e){let t=s.sliceString(e,e+2);return t.slice(0,Jt(mt(t,0)))}function hB(s,e){let t=s.sliceString(e-2,e);return Jt(mt(t,0))==t.length?t:t.slice(1)}function fB(s,e,t,n){let r=null,i=s.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:t,from:a.to}],effects:En.of(a.to+e.length),range:_.range(a.anchor+e.length,a.head+e.length)};let o=Tl(s.doc,a.head);return!o||/\s/.test(o)||n.indexOf(o)>-1?{changes:{insert:e+t,from:a.head},effects:En.of(a.head+e.length),range:_.cursor(a.head+e.length)}:{range:r=a}});return r?null:s.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function pB(s,e,t){let n=null,r=s.changeByRange(i=>i.empty&&Tl(s.doc,i.head)==t?{changes:{from:i.head,to:i.head+t.length,insert:t},range:_.cursor(i.head+t.length)}:n={range:i});return n?null:s.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function mB(s,e,t,n){let r=n.stringPrefixes||Ri.stringPrefixes,i=null,a=s.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:En.of(o.to+e.length),range:_.range(o.anchor+e.length,o.head+e.length)};let l=o.head,c=Tl(s.doc,l),u;if(c==e){if(Yp(s,l))return{changes:{insert:e+e,from:l},effects:En.of(l+e.length),range:_.cursor(l+e.length)};if(F0(s,l)){let h=t&&s.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:_.cursor(l+h.length)}}}else{if(t&&s.sliceDoc(l-2*e.length,l)==e+e&&(u=Qp(s,l-2*e.length,r))>-1&&Yp(s,u))return{changes:{insert:e+e+e+e,from:l},effects:En.of(l+e.length),range:_.cursor(l+e.length)};if(s.charCategorizer(l)(c)!=Qe.Word&&Qp(s,l,r)>-1&&!gB(s,l,e,r))return{changes:{insert:e+e,from:l},effects:En.of(l+e.length),range:_.cursor(l+e.length)}}return{range:i=o}});return i?null:s.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function Yp(s,e){let t=kt(s).resolveInner(e+1);return t.parent&&t.from==e}function gB(s,e,t,n){let r=kt(s).resolveInner(e,-1),i=n.reduce((a,o)=>Math.max(a,o.length),0);for(let a=0;a<5;a++){let o=s.sliceDoc(r.from,Math.min(r.to,r.from+t.length+i)),l=o.indexOf(t);if(!l||l>-1&&n.indexOf(o.slice(0,l))>-1){let u=r.firstChild;for(;u&&u.from==r.from&&u.to-u.from>t.length+l;){if(s.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let c=r.to==e&&r.parent;if(!c)break;r=c}return!1}function Qp(s,e,t){let n=s.charCategorizer(e);if(n(s.sliceDoc(e-1,e))!=Qe.Word)return e;for(let r of t){let i=e-r.length;if(s.sliceDoc(i,e)==r&&n(s.sliceDoc(i-1,i))!=Qe.Word)return i}return-1}function vB(s={}){return[rB,zt,dt.of(s),sB,bB,iB]}const V0=[{key:"Ctrl-Space",run:Kp},{mac:"Alt-`",run:Kp},{key:"Escape",run:ZL},{key:"ArrowDown",run:La(!0)},{key:"ArrowUp",run:La(!1)},{key:"PageDown",run:La(!0,"page")},{key:"PageUp",run:La(!1,"page")},{key:"Enter",run:JL}],bB=Un.highest(ml.computeN([dt],s=>s.facet(dt).defaultKeymap?[V0]:[]));var Jp=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,n=[];e.closeBracketsKeymap!==!1&&(n=n.concat(uB)),e.defaultKeymap!==!1&&(n=n.concat(RL)),e.searchKeymap!==!1&&(n=n.concat(y5)),e.historyKeymap!==!1&&(n=n.concat(_5)),e.foldKeymap!==!1&&(n=n.concat(rz)),e.completionKeymap!==!1&&(n=n.concat(V0)),e.lintKeymap!==!1&&(n=n.concat(Lz));var r=[];return e.lineNumbers!==!1&&r.push(N3()),e.highlightActiveLineGutter!==!1&&r.push(O3()),e.highlightSpecialChars!==!1&&r.push(YO()),e.history!==!1&&r.push(R5()),e.foldGutter!==!1&&r.push(lz()),e.drawSelection!==!1&&r.push(IO()),e.dropCursor!==!1&&r.push(UO()),e.allowMultipleSelections!==!1&&r.push(Me.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&r.push(K3()),e.syntaxHighlighting!==!1&&r.push(Ry(hz,{fallback:!0})),e.bracketMatching!==!1&&r.push(yz()),e.closeBrackets!==!1&&r.push(aB()),e.autocompletion!==!1&&r.push(vB()),e.rectangularSelection!==!1&&r.push(c3()),t!==!1&&r.push(h3()),e.highlightActiveLine!==!1&&r.push(t3()),e.highlightSelectionMatches!==!1&&r.push(Xz()),e.tabSize&&typeof e.tabSize=="number"&&r.push(bl.of(" ".repeat(e.tabSize))),r.concat([ml.of(n.flat())]).filter(Boolean)};const yB="#e5c07b",Zp="#e06c75",wB="#56b6c2",xB="#ffffff",no="#abb2bf",Uu="#7d8799",SB="#61afef",kB="#98c379",Xp="#d19a66",CB="#c678dd",PB="#21252b",em="#2c313a",tm="#282c34",wc="#353a42",AB="#3E4451",sm="#528bff",TB=J.theme({"&":{color:no,backgroundColor:tm},".cm-content":{caretColor:sm},".cm-cursor, .cm-dropCursor":{borderLeftColor:sm},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:AB},".cm-panels":{backgroundColor:PB,color:no},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:tm,color:Uu,border:"none"},".cm-activeLineGutter":{backgroundColor:em},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:wc},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:wc,borderBottomColor:wc},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:em,color:no}}},{dark:!0}),EB=qi.define([{tag:B.keyword,color:CB},{tag:[B.name,B.deleted,B.character,B.propertyName,B.macroName],color:Zp},{tag:[B.function(B.variableName),B.labelName],color:SB},{tag:[B.color,B.constant(B.name),B.standard(B.name)],color:Xp},{tag:[B.definition(B.name),B.separator],color:no},{tag:[B.typeName,B.className,B.number,B.changed,B.annotation,B.modifier,B.self,B.namespace],color:yB},{tag:[B.operator,B.operatorKeyword,B.url,B.escape,B.regexp,B.link,B.special(B.string)],color:wB},{tag:[B.meta,B.comment],color:Uu},{tag:B.strong,fontWeight:"bold"},{tag:B.emphasis,fontStyle:"italic"},{tag:B.strikethrough,textDecoration:"line-through"},{tag:B.link,color:Uu,textDecoration:"underline"},{tag:B.heading,fontWeight:"bold",color:Zp},{tag:[B.atom,B.bool,B.special(B.variableName)],color:Xp},{tag:[B.processingInstruction,B.string,B.inserted],color:kB},{tag:B.invalid,color:xB}]),MB=[TB,Ry(EB)];var NB=J.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),RB=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:n=!0,readOnly:r=!1,theme:i="light",placeholder:a="",basicSetup:o=!0}=e,l=[];switch(t&&l.unshift(ml.of([DL])),o&&(typeof o=="boolean"?l.unshift(Jp()):l.unshift(Jp(o))),a&&l.unshift(i3(a)),i){case"light":l.push(NB);break;case"dark":l.push(MB);break;case"none":break;default:l.push(i);break}return n===!1&&l.push(J.editable.of(!1)),r&&l.push(Me.readOnly.of(!0)),[...l]},DB=s=>({line:s.state.doc.lineAt(s.state.selection.main.from),lineCount:s.state.doc.lines,lineBreak:s.state.lineBreak,length:s.state.doc.length,readOnly:s.state.readOnly,tabSize:s.state.tabSize,selection:s.state.selection,selectionAsSingle:s.state.selection.asSingle().main,ranges:s.state.selection.ranges,selectionCode:s.state.sliceDoc(s.state.selection.main.from,s.state.selection.main.to),selections:s.state.selection.ranges.map(e=>s.state.sliceDoc(e.from,e.to)),selectedText:s.state.selection.ranges.some(e=>!e.empty)}),nm=Os.define(),OB=[];function zB(s){var{value:e,selection:t,onChange:n,onStatistics:r,onCreateEditor:i,onUpdate:a,extensions:o=OB,autoFocus:l,theme:c="light",height:u=null,minHeight:d=null,maxHeight:h=null,width:f=null,minWidth:m=null,maxWidth:g=null,placeholder:v="",editable:b=!0,readOnly:C=!1,indentWithTab:A=!0,basicSetup:E=!0,root:x,initialState:R}=s,[O,z]=y.useState(),[M,$]=y.useState(),[W,V]=y.useState(),Z=J.theme({"&":{height:u,minHeight:d,maxHeight:h,width:f,minWidth:m,maxWidth:g},"& .cm-scroller":{height:"100% !important"}}),q=J.updateListener.of(de=>{if(de.docChanged&&typeof n=="function"&&!de.transactions.some(ue=>ue.annotation(nm))){var ge=de.state.doc,G=ge.toString();n(G,de)}r&&r(DB(de))}),Q=RB({theme:c,editable:b,readOnly:C,placeholder:v,indentWithTab:A,basicSetup:E}),re=[q,Z,...Q];return a&&typeof a=="function"&&re.push(J.updateListener.of(a)),re=re.concat(o),y.useEffect(()=>{if(O&&!W){var de={doc:e,selection:t,extensions:re},ge=R?Me.fromJSON(R.json,de,R.fields):Me.create(de);if(V(ge),!M){var G=new J({state:ge,parent:O,root:x});$(G),i&&i(G,ge)}}return()=>{M&&(V(void 0),$(void 0))}},[O,W]),y.useEffect(()=>z(s.container),[s.container]),y.useEffect(()=>()=>{M&&(M.destroy(),$(void 0))},[M]),y.useEffect(()=>{l&&M&&M.focus()},[l,M]),y.useEffect(()=>{M&&M.dispatch({effects:we.reconfigure.of(re)})},[c,o,u,d,h,f,m,g,v,b,C,A,E,n,a]),y.useEffect(()=>{if(e!==void 0){var de=M?M.state.doc.toString():"";M&&e!==de&&M.dispatch({changes:{from:0,to:de.length,insert:e||""},annotations:[nm.of(!0)]})}},[e,M]),{state:W,setState:V,view:M,setView:$,container:O,setContainer:z}}var LB=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],U0=y.forwardRef((s,e)=>{var{className:t,value:n="",selection:r,extensions:i=[],onChange:a,onStatistics:o,onCreateEditor:l,onUpdate:c,autoFocus:u,theme:d="light",height:h,minHeight:f,maxHeight:m,width:g,minWidth:v,maxWidth:b,basicSetup:C,placeholder:A,indentWithTab:E,editable:x,readOnly:R,root:O,initialState:z}=s,M=Pr(s,LB),$=y.useRef(null),{state:W,view:V,container:Z}=zB({container:$.current,root:O,value:n,autoFocus:u,theme:d,height:h,minHeight:f,maxHeight:m,width:g,minWidth:v,maxWidth:b,basicSetup:C,placeholder:A,indentWithTab:E,editable:x,readOnly:R,selection:r,onChange:a,onStatistics:o,onCreateEditor:l,onUpdate:c,extensions:i,initialState:z});if(y.useImperativeHandle(e,()=>({editor:$.current,state:W,view:V}),[$,Z,W,V]),typeof n!="string")throw new Error("value must be typeof string but got "+typeof n);var q=typeof d=="string"?"cm-theme-"+d:"cm-theme";return k.jsx("div",Be({ref:$,className:""+q+(t?" "+t:"")},M))});U0.displayName="CodeMirror";const BB=({value:s,onChange:e,loading:t})=>k.jsx(U0,{theme:"dark",value:s,height:"80vh",extensions:[Mz(),Gz(),l5({top:!0}),Iz(Az(),{delay:500})],onChange:e,autoFocus:!0,editable:!t});function ce(){return ce=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},ce.apply(null,arguments)}function Nt(s,e){if(s==null)return{};var t={};for(var n in s)if({}.hasOwnProperty.call(s,n)){if(e.indexOf(n)!==-1)continue;t[n]=s[n]}return t}var jB=["isArray","start","level","className","render"];function pr(s){var{isArray:e=!1,start:t=!1,level:n,className:r,render:i}=s,a=Nt(s,jB),o=e?"[]":"{}",l="w-rjv-"+(e?"brackets":"curlybraces")+"-"+(t?"start":"end")+" "+(r||""),c="var(--w-rjv-"+(e?"brackets":"curlybraces")+"-color, #236a7c)";if(i){var u=i(ce({isArray:e,level:n,className:l,style:{color:c},children:t?o.charAt(0):o.charAt(1)},a));if(u)return u}return k.jsx(Vs,ce({color:c,className:l},a,{children:t?o.charAt(0):o.charAt(1)}))}pr.displayName="JVR.Meta";var IB=["children","style","text","onCopied","render","show"];function Zd(s){var{style:e,text:t="",onCopied:n,render:r,show:i}=s,a=Nt(s,IB);if(!i)return null;var[o,l]=y.useState(!1),c=h=>{h.stopPropagation();var f=JSON.stringify(t||"",(m,g)=>typeof g=="bigint"?g.toString():g,2);t===1/0&&(f=1/0),navigator.clipboard.writeText(f).then(()=>{n&&n(f,t),l(!0);var m=setTimeout(()=>{l(!1),clearTimeout(m)},3e3)}).catch(m=>{})},u=ce({},e,{cursor:"pointer",verticalAlign:"middle",marginLeft:5}),d=ce({height:"1em",width:"1em",fill:"var(--w-rjv-copied-color, currentColor)",onClick:c,style:u,className:"w-rjv-copied"},a);return r?r(ce({},s,d)):o?k.jsx("svg",ce({viewBox:"0 0 32 36"},d,{fill:"var(--w-rjv-copied-success-color, #28a745)",children:k.jsx("path",{d:"M27.5,33 L2.5,33 L2.5,12.5 L27.5,12.5 L27.5,15.2249049 C29.1403264,13.8627542 29.9736597,13.1778155 30,13.1700887 C30,11.9705278 30,10.0804982 30,7.5 C30,6.1 28.9,5 27.5,5 L20,5 C20,2.2 17.8,0 15,0 C12.2,0 10,2.2 10,5 L2.5,5 C1.1,5 0,6.1 0,7.5 L0,33 C0,34.4 1.1,36 2.5,36 L27.5,36 C28.9,36 30,34.4 30,33 L30,26.1114493 L27.5,28.4926435 L27.5,33 Z M7.5,7.5 L10,7.5 C10,7.5 12.5,6.4 12.5,5 C12.5,3.6 13.6,2.5 15,2.5 C16.4,2.5 17.5,3.6 17.5,5 C17.5,6.4 18.8,7.5 20,7.5 L22.5,7.5 C22.5,7.5 25,8.6 25,10 L5,10 C5,8.5 6.1,7.5 7.5,7.5 Z M5,27.5 L10,27.5 L10,25 L5,25 L5,27.5 Z M28.5589286,16 L32,19.6 L21.0160714,30.5382252 L13.5303571,24.2571429 L17.1303571,20.6571429 L21.0160714,24.5428571 L28.5589286,16 Z M17.5,15 L5,15 L5,17.5 L17.5,17.5 L17.5,15 Z M10,20 L5,20 L5,22.5 L10,22.5 L10,20 Z"})})):k.jsx("svg",ce({viewBox:"0 0 32 36"},d,{children:k.jsx("path",{d:"M27.5,33 L2.5,33 L2.5,12.5 L27.5,12.5 L27.5,20 L30,20 L30,7.5 C30,6.1 28.9,5 27.5,5 L20,5 C20,2.2 17.8,0 15,0 C12.2,0 10,2.2 10,5 L2.5,5 C1.1,5 0,6.1 0,7.5 L0,33 C0,34.4 1.1,36 2.5,36 L27.5,36 C28.9,36 30,34.4 30,33 L30,29 L27.5,29 L27.5,33 Z M7.5,7.5 L10,7.5 C10,7.5 12.5,6.4 12.5,5 C12.5,3.6 13.6,2.5 15,2.5 C16.4,2.5 17.5,3.6 17.5,5 C17.5,6.4 18.8,7.5 20,7.5 L22.5,7.5 C22.5,7.5 25,8.6 25,10 L5,10 C5,8.5 6.1,7.5 7.5,7.5 Z M5,27.5 L10,27.5 L10,25 L5,25 L5,27.5 Z M22.5,21.5 L22.5,16.5 L12.5,24 L22.5,31.5 L22.5,26.5 L32,26.5 L32,21.5 L22.5,21.5 Z M17.5,15 L5,15 L5,17.5 L17.5,17.5 L17.5,15 Z M10,20 L5,20 L5,22.5 L10,22.5 L10,20 Z"})}))}Zd.displayName="JVR.Copied";var $B=["children","style"],_B=["children","length","style"],FB=["color","style","isURL","href","children"],VB=["value","parentValue","setValue","countInfo","data","keyName","indentWidth","isSet","namespace","renderKey","components","quotes","level","enableClipboard","displayObjectSize","displayDataTypes","shortenTextAfterLength"],UB=["children","color","fontSize","opacity","paddingRight","style"],sn=s=>k.jsx("div",ce({},s));sn.displayName="JVR.Line";var H0=s=>Number(s)===s&&s%1!==0||isNaN(s),kr={string:{color:"var(--w-rjv-type-string-color, #cb4b16)",label:"string"},number:{color:"var(--w-rjv-type-int-color, #268bd2)",label:"int"},float:{color:"var(--w-rjv-type-float-color, #859900)",label:"float"},bigint:{color:"var(--w-rjv-type-bigint-color, #268bd2)",label:"bigint"},boolean:{color:"var(--w-rjv-type-boolean-color, #2aa198)",label:"bool"},date:{color:"var(--w-rjv-type-date-color, #586e75)",label:"date"},url:{color:"var(--w-rjv-type-url-color, #0969da)",label:"url"},null:{color:"var(--w-rjv-type-null-color, #d33682)",label:"null"},Set:{color:"var(--w-rjv-type-set-color, #268bd2)",label:"Set"},Map:{color:"var(--w-rjv-type-map-color, #268bd2)",label:"Map"},NaN:{color:"var(--w-rjv-type-nan-color, #859900)",label:"NaN"},undefined:{color:"var(--w-rjv-type-undefined-color, #586e75)",label:"undefined"}},$o=s=>{var{children:e=":",style:t}=s,n=Nt(s,$B);return k.jsx("span",ce({className:"w-rjv-colon",style:ce({paddingRight:3},t,{color:"var(--w-rjv-colon-color, var(--w-rjv-color))"})},n,{children:e}))};$o.displayName="JVR.Colon";function Hu(s){var e=typeof s,t="";typeof s=="number"&&(e=H0(s)?"float":"number",t=s.toString(),isNaN(s)&&(e="NaN",t="NaN")),typeof s=="boolean"&&(e="boolean",t=s.toString()),typeof s=="object"&&s instanceof Date&&(e="date",t=s.toString()),s===null&&(e="null",t=(""+s).toLocaleUpperCase()),s===void 0&&(e="undefined",t=String(s)),typeof s=="bigint"&&(e="bigint",t=s+"n");var n=s instanceof URL;return n&&(e="url",t='"'+s.href+'"'),typeof s=="string"&&(t='"'+s+'"'),{type:e,content:t}}var W0=s=>{var{children:e,length:t,style:n}=s,r=Nt(s,_B),i=e,[a,o]=y.useState(t&&i.length>=t);y.useEffect(()=>o(t&&i.length>=t),[t]);var l=()=>o(!a),c=a?i.slice(0,t)+"...":i;return k.jsx(Xd,ce({},r,{style:ce({},n,{cursor:"pointer"}),onClick:l,children:c}))};W0.displayName="JVR.RenderShortenTextValue";var Xd=s=>{var{color:e,style:t,isURL:n,href:r,children:i}=s,a=Nt(s,FB);return k.jsxs(Vs,ce({color:e,style:t},a,{className:"w-rjv-value",children:[n&&k.jsx("a",{href:r,style:{color:e},target:"_blank",rel:"noopener noreferrer",children:i}),!n&&i]}))};Xd.displayName="JVR.RenderStringValue";function q0(s){var e,{value:t,parentValue:n,setValue:r,countInfo:i,data:a,keyName:o,indentWidth:l,namespace:c,renderKey:u,components:d={},quotes:h,enableClipboard:f,displayDataTypes:m,shortenTextAfterLength:g}=s,v=Nt(s,VB),b="",C={},{type:A,content:E}=Hu(t),x=k.jsx(Di,{type:A});t===null&&(x=k.jsx(y.Fragment,{}),C={fontWeight:"bold"}),(t===void 0||A.toLocaleLowerCase()==="nan"||!m)&&(x=k.jsx(y.Fragment,{}));var R=t instanceof URL;b=((e=kr[A])==null?void 0:e.color)||"";var[O,z]=y.useState(!1),M=y.useMemo(()=>f&&O&&k.jsx(Zd,{show:O,text:t}),[f,O,t]),$={className:"w-rjv-line",style:{paddingLeft:l}};if(f&&($.onMouseEnter=()=>z(!0),$.onMouseLeave=()=>z(!1)),E&&typeof E=="string"){var W=d.value&&d.value({className:"w-rjv-value",style:ce({color:b},C),type:A,value:t,setValue:r,data:a,parentValue:n,quotes:h,keyName:o,namespace:c,visible:O,content:E,children:E}),V=g&&A==="string"?k.jsx(W0,{color:b,href:R?t.href:"",style:C,isURL:R,length:g,children:E}):k.jsx(Xd,{color:b,href:R?t.href:"",style:C,isURL:R,children:E});return k.jsx(sn,ce({},$,{children:k.jsxs(Vs,ce({},v,{ref:null,children:[u,k.jsx($o,{}),x,W||V,M]}))}))}var Z=k.jsxs(y.Fragment,{children:[k.jsx(pr,{render:d.braces,start:!0,isArray:Array.isArray(t)}),k.jsx(pr,{render:d.braces,isArray:Array.isArray(t)}),i]});return k.jsx(sn,ce({},$,{children:k.jsxs(Vs,ce({},v,{ref:null,children:[u,k.jsx($o,{}),x,Z,M]}))}))}q0.displayName="JVR.ValueView";var Vs=y.forwardRef((s,e)=>{var{children:t,color:n,fontSize:r,opacity:i,paddingRight:a,style:o}=s,l=Nt(s,UB);return k.jsx("span",ce({style:ce({color:n,fontSize:r,opacity:i,paddingRight:a},o)},l,{ref:e,children:t}))});Vs.displayName="JVR.Label";var Di=s=>{var e,t,{type:n}=s,r=(e=kr[n])==null?void 0:e.color,i=(t=kr[n])==null?void 0:t.label;if(r&&i)return k.jsx(Vs,{color:r,fontSize:11,opacity:.8,paddingRight:4,className:"w-rjv-type","data-type":n,children:i})};Di.displayName="JVR.Type";var HB=["style"];function G0(s){var{style:e}=s,t=Nt(s,HB),n=ce({cursor:"pointer",height:"1em",width:"1em"},e);return k.jsx("svg",ce({viewBox:"0 0 24 24",fill:"var(--w-rjv-arrow-color, currentColor)",style:n},t,{children:k.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})}))}G0.displayName="JVR.TriangleArrow";var ei={},ti=[],rm={collapse(s){ei=ce({},ei,{[s]:!1}),im()},expand(s){ei=ce({},ei,{[s]:!0}),im()}};function WB(){return ei}function qB(s){return ti=[...ti,s],()=>{ti=ti.filter(e=>e!==s)}}function im(){for(var s of ti)s()}function GB(){var s=y.useSyncExternalStore(qB,WB);return s}var KB=["children","render","color","value","className","keyName","highlightUpdates","quotes","style","namespace","parentName"];function YB(s){var e=y.useRef();return y.useEffect(()=>{e.current=s}),e.current}function K0(s){var{value:e,highlightUpdates:t,highlightContainer:n}=s,r=YB(e),i=y.useMemo(()=>!t||r===void 0?!1:typeof e!=typeof r?!0:typeof e=="number"?isNaN(e)&&isNaN(r)?!1:e!==r:Array.isArray(e)!==Array.isArray(r)?!0:typeof e=="object"||typeof e=="function"?!1:e!==r,[t,e]);y.useEffect(()=>{n&&n.current&&i&&"animate"in n.current&&n.current.animate([{backgroundColor:"var(--w-rjv-update-color, #ebcb8b)"},{backgroundColor:""}],{duration:1e3,easing:"ease-in"})},[i,e,n])}var Wu=s=>{var{render:e,color:t,value:n,className:r="w-rjv-object-key",keyName:i,highlightUpdates:a,quotes:o,style:l,namespace:c,parentName:u}=s,d=Nt(s,KB),h=y.useRef(null),f=typeof i=="string"?""+o+i+o:i;return e?e(ce({className:r},d,{value:n,namespace:c,style:ce({},l,{color:t}),parentName:u,keyName:i,quotes:o,label:i,children:f})):(K0({value:n,highlightUpdates:a,highlightContainer:h}),k.jsx(Vs,ce({className:r,color:t},d,{ref:h,children:f})))};Wu.displayName="JSR.Semicolon";var QB=["style","render","count","level"],Y0=s=>{var{style:e,render:t,count:n,level:r}=s,i=Nt(s,QB),a=ce({cursor:"pointer"},e),o="w-rjv-ellipsis "+(i.className||"");return t?t(ce({style:a,count:n,level:r},i,{className:o})):k.jsx("span",ce({className:o,style:a},i,{children:"..."}))};Y0.displayName="JVR.Ellipsis";var JB=["value","keyName","className","displayDataTypes","components","displayObjectSize","enableClipboard","highlightUpdates","objectSortKeys","indentWidth","shortenTextAfterLength","collapsed","level","keyid","quotes","namespace","isSet","isMap","onCopied","onExpand","parentValue","setParentValue"];function ZB(s){try{return Object.keys(s).length}catch{return-1}}var qu=s=>{var{children:e}=s;return k.jsxs(Vs,{style:{paddingLeft:4,fontStyle:"italic"},color:"var(--w-rjv-info-color, #0000004d)",className:"w-rjv-object-size",children:[e," items"]})};qu.displayName="JVR.CountInfo";var _o=y.forwardRef((s,e)=>{var t,{value:n={},keyName:r,className:i,displayDataTypes:a=!0,components:o={},displayObjectSize:l=!0,enableClipboard:c=!0,highlightUpdates:u=!0,objectSortKeys:d=!1,indentWidth:h=15,shortenTextAfterLength:f=30,collapsed:m,level:g=1,keyid:v="root",quotes:b='"',namespace:C=[],isSet:A=!1,isMap:E=!1,onCopied:x,onExpand:R,parentValue:O,setParentValue:z}=s,M=Nt(s,JB),$=Array.isArray(n),W=y.useId(),V=GB(),Z=(t=V[v])!=null?t:typeof m=="boolean"?m:typeof m=="number"?g<=m:!0,q=()=>{R&&typeof R=="function"&&R({expand:!Z,keyid:v,keyName:r,value:n}),Z?rm.collapse(v):rm.expand(v)},[Q,re]=y.useState(n),de={components:o,indentWidth:h,displayDataTypes:a,displayObjectSize:l,enableClipboard:c,highlightUpdates:u,onCopied:x,onExpand:R,collapsed:m,parentValue:n,setParentValue:re,quotes:b,level:g+1,style:{paddingLeft:h}},ge={displayDataTypes:a,displayObjectSize:l,enableClipboard:c,shortenTextAfterLength:f,level:g+1,parentValue:n,indentWidth:h,data:Q,quotes:b,setValue:re},G={transform:"rotate("+(Z?"0":"-90")+"deg)",transition:"all 0.3s"},ue=o.arrow?y.cloneElement(o.arrow,{style:G,"data-expand":Z,className:"w-rjv-arrow"}):k.jsx(G0,{style:G,className:"w-rjv-arrow"}),[ne,N]=y.useState(!1),j={};c&&(j.onMouseEnter=()=>N(!0),j.onMouseLeave=()=>N(!1)),y.useEffect(()=>re(n),[n]);var F=$?Object.keys(Q).map(xe=>Number(xe)):Object.keys(Q),U=$?Object.entries(Q).map(xe=>[Number(xe[0]),xe[1]]):Object.entries(Q);d&&(U=d===!0?U.sort((xe,he)=>{var[fe]=xe,[ze]=he;return typeof fe=="string"&&typeof ze=="string"?fe.localeCompare(ze):0}):U.sort((xe,he)=>{var[fe]=xe,[ze]=he;return typeof fe=="string"&&typeof ze=="string"?d(fe,ze):0}));var ae=k.jsx(qu,{children:F.length});o.countInfo&&(ae=o.countInfo({count:F.length,level:g,visible:Z})||ae),l||(ae=null);var be=o.countInfoExtra&&o.countInfoExtra({count:F.length,level:g,showTools:ne,keyName:r,visible:Z,value:Q,namespace:[...C],parentValue:O,setParentValue:z,setValue:re});return k.jsxs("div",ce({ref:e},M,{className:i+" w-rjv-inner"},j,{children:[k.jsxs(sn,{style:{display:"inline-flex",alignItems:"center"},onClick:q,children:[ue,(typeof r=="string"||typeof r=="number")&&k.jsxs(y.Fragment,{children:[k.jsx(Wu,{value:Q,quotes:b,"data-keys":v,namespace:[...C],render:o.objectKey,keyName:r,parentName:r,color:typeof r=="number"?kr.number.color:""}),k.jsx($o,{})]}),A&&k.jsx(Di,{type:"Set"}),E&&k.jsx(Di,{type:"Map"}),k.jsx(pr,{start:!0,isArray:$,level:g,render:o.braces}),!Z&&k.jsx(Y0,{render:o.ellipsis,count:F.length,level:g}),!Z&&k.jsx(pr,{isArray:$,level:g,render:o.braces}),ae,be,c&&k.jsx(Zd,{show:ne,text:Q,onCopied:x,render:o==null?void 0:o.copied})]}),Z&&k.jsx(sn,{className:"w-rjv-content",style:{borderLeft:"var(--w-rjv-border-left-width, 1px) var(--w-rjv-line-style, solid) var(--w-rjv-line-color, #ebebeb)",marginLeft:6},children:U.length>0&&[...U].map((xe,he)=>{var[fe,ze]=xe,Ge=ze,Je=Ge instanceof Set,Rt=Ge instanceof Map,ke=Je?Array.from(Ge):Rt?Object.fromEntries(Ge):Ge,_e=Array.isArray(ke)&&ke.length===0||typeof ke=="object"&&ke&&!(ke instanceof Date)&&Object.keys(ke).length===0;if((Array.isArray(ke)||Je||Rt)&&!_e){var _t=$?he:fe;return k.jsx(sn,{className:"w-rjv-wrap",children:k.jsx(_o,ce({value:ke,isSet:Je,isMap:Rt,namespace:[...C,_t],keyName:_t,keyid:v+W+_t},de))},_t+he)}if(typeof ke=="object"&&ke&&!(ke instanceof Date)&&!_e)return k.jsx(sn,{className:"w-rjv-wrap",children:k.jsx(_o,ce({value:ke,namespace:[...C,fe],keyName:fe,keyid:v+W+fe},de))},fe+""+he);if(typeof ke!="function"){var Gn=k.jsx(Wu,{value:ke,"data-keys":v,quotes:b,namespace:[...C,fe],parentName:r,highlightUpdates:u,render:o.objectKey,color:typeof fe=="number"?kr.number.color:"",keyName:fe}),wn=Array.isArray(ke)?ke.length:ZB(ke);return ae=k.jsx(qu,{children:wn}),o.countInfo&&(ae=o.countInfo({count:wn,level:g,visible:Z})||ae),k.jsx(q0,ce({components:o,namespace:[...C,fe]},ge,{countInfo:ae,renderKey:Gn,keyName:fe,isSet:A,value:ke}),he)}})}),Z&&k.jsx(sn,{style:{paddingLeft:2},children:k.jsx(pr,{render:o.braces,isArray:$,level:g,style:{paddingLeft:2,display:"inline-block"}})})]}))});_o.displayName="JVR.RootNode";var XB=["value","style","className"],Q0=y.forwardRef((s,e)=>{var{value:t,style:n,className:r}=s,i=Nt(s,XB),a=ce({lineHeight:1.4,fontFamily:"var(--w-rjv-font-family, Menlo, monospace)",color:"var(--w-rjv-color, #002b36)",backgroundColor:"var(--w-rjv-background-color, #00000000)",fontSize:13},n),o="w-json-view-container w-rjv "+(r||""),l=y.useId();return k.jsx(_o,ce({className:o,value:t},i,{ref:e,keyid:l,style:a}))});Q0.displayName="JVR.JsonView";function am(s,e,t,n,r,i,a){try{var o=s[i](a),l=o.value}catch(c){return void t(c)}o.done?e(l):Promise.resolve(l).then(n,r)}function Oi(s){return function(){var e=this,t=arguments;return new Promise(function(n,r){var i=s.apply(e,t);function a(l){am(i,n,r,a,o,"next",l)}function o(l){am(i,n,r,a,o,"throw",l)}a(void 0)})}}var ej=["className","value","keyName","parentName","quotes","label","namespace","editableValue","onEdit","highlightUpdates","render"],J0=s=>{var{className:e,value:t,keyName:n,parentName:r,quotes:i,label:a,namespace:o,editableValue:l,onEdit:c,highlightUpdates:u=!0,render:d}=s,h=Nt(s,ej),[f,m]=y.useState(!1),[g,v]=y.useState(a);y.useEffect(()=>v(a),[a]);var b=y.useRef(null);K0({value:t,highlightUpdates:u,highlightContainer:b});var C=M=>{if(M.stopPropagation(),!!l&&typeof n=="string"&&!f&&(m(!0),b.current)){var $;b.current.contentEditable="true",($=b.current)==null||$.focus()}},A=function(){var M=Oi(function*(){if(b.current){var $;if(c){var W=yield c({value:b.current.innerText,oldValue:g,namespace:o,keyName:n,parentName:r,type:"key"});W?v(b.current.innerText):b.current.innerText=g}b.current.contentEditable="false",($=b.current)==null||$.focus()}m(!1)});return function(){return M.apply(this,arguments)}}(),E=()=>{if(b.current){var M;b.current.contentEditable="true",(M=b.current)==null||M.focus()}},x=M=>{M.key==="Enter"&&(M.stopPropagation(),M.preventDefault(),b.current.contentEditable="false")};y.useEffect(()=>{b.current&&b.current.addEventListener("paste",M=>{M.preventDefault();var $=M.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,$)})},[b]);var R={minWidth:34,minHeight:18,paddingInline:3,display:"inline-block"},O=typeof n=="string"?""+i+g+i:g,z={onClick:C,onFocus:E,onBlur:A,onKeyDown:x,style:f?R:{},contentEditable:f,spellCheck:!1,autoFocus:f,suppressContentEditableWarning:!0,children:f?g:O};return d?(z.value=t,z.keyName=n,z.parentName=r,d(ce({className:e},h,z,{parentName:r,label:g,children:f?g:O,ref:b}))):k.jsx(Vs,ce({className:e},h,{autoFocus:f},z,{ref:b}))};J0.displayName="JVR.ObjectKey";var tj=s=>{var{style:e}=s,t={verticalAlign:"middle",display:"inline-block",cursor:"pointer",marginLeft:5,height:"1em",width:"1em"};return k.jsx("svg",ce({viewBox:"0 0 26 26",fill:"var(--w-rjv-edit-color, currentColor)"},s,{style:ce({},e,t),children:k.jsx("path",{d:"M18,0 L7.74666667,0 C2.89333333,0 0,2.89333333 0,7.74666667 L0,17.9066667 C0,22.7733333 2.89333333,26 7.74666667,26 L18,26 C22.8533333,26 26.0001422,22.7733333 26.0001422,17.92 L26.0001422,7.74666667 C26.0133333,2.89333333 22.8533333,0 18,0 Z M11.9333333,20.68 C11.5466667,21.0666667 10.8133333,21.44 10.28,21.52 L7,21.9866667 C6.88,22 6.76,22.0133333 6.64,22.0133333 C6.09333333,22.0133333 5.58666667,21.8266667 5.22666667,21.4666667 C4.78666667,21.0266667 4.6,20.3866667 4.70666667,19.68 L5.17333333,16.4 C5.25333333,15.8533333 5.61333333,15.1333333 6.01333333,14.7466667 L11.96,8.8 C12.1719034,9.3972484 12.4397602,9.97314063 12.76,10.52 C12.8933333,10.7466667 13.04,10.96 13.16,11.12 C13.3066667,11.3466667 13.48,11.56 13.5866667,11.68 C13.6533333,11.7733333 13.7066667,11.84 13.7333333,11.8666667 C14.0666667,12.2666667 14.4533333,12.64 14.7866667,12.92 C14.88,13.0133333 14.9333333,13.0666667 14.96,13.08 C15.16,13.24 15.36,13.4 15.5333333,13.52 C15.7466667,13.68 15.96,13.8266667 16.1866667,13.9466667 C16.4533333,14.1066667 16.7466667,14.2533333 17.04,14.4 C17.3466667,14.5333333 17.6266667,14.6533333 17.9066667,14.7466667 L11.9333333,20.68 L11.9333333,20.68 Z M20.4933333,12.12 L19.2666667,13.36 C19.1887174,13.4373865 19.0831716,13.4805643 18.9733333,13.4800055 C18.9333333,13.4800055 18.88,13.4800055 18.8533333,13.4666667 C16.1309823,12.6775025 14.0024975,10.5490177 13.2133333,7.82666667 C13.1733333,7.68 13.2133333,7.52 13.32,7.42666667 L14.56,6.18666667 C16.5866667,4.16 18.52,4.2 20.5066667,6.18666667 C21.52,7.2 22.0133333,8.17333333 22.0133333,9.18666667 C22,10.1466667 21.5066667,11.1066667 20.4933333,12.12 L20.4933333,12.12 Z"})}))},Z0=s=>{var{style:e}=s,t={verticalAlign:"middle",display:"inline-block",cursor:"pointer",marginLeft:5,height:"1em",width:"1em"};return k.jsx("svg",ce({viewBox:"0 0 40 40",fill:"var(--w-rjv-delete-color, #dc3545)"},s,{style:ce({},e,t),children:k.jsx("path",{d:"M28.3940997,0 L11.625773,0 C4.34215619,0 0,4.34 0,11.62 L0,28.36 C0,35.66 4.34215619,40 11.625773,40 L28.3740897,40 C35.6577066,40 39.9999316,35.66 39.9999316,28.38 L39.9999316,11.62 C40.0198727,4.34 35.6777165,0 28.3940997,0 Z M30.3428039,27.0681654 C31.2346195,27.9595381 31.2346195,29.4349136 30.3428039,30.3262862 C29.88152,30.7873411 29.2972271,31.0025 28.7129341,31.0025 C28.1286412,31.0025 27.5443483,30.7873411 27.0830644,30.3262862 L20.0100446,23.2567787 L12.9370249,30.3262862 C12.475741,30.7873411 11.891448,31.0025 11.3071551,31.0025 C10.7228621,31.0025 10.1385692,30.7873411 9.67728531,30.3262862 C8.78464325,29.4234847 8.78464325,27.9709669 9.67728531,27.0681654 L16.7503051,19.9986579 L9.67728531,12.9291504 C8.78464325,12.0263488 8.78464325,10.573831 9.67728531,9.67102951 C10.5691008,8.77965683 12.0452093,8.77965683 12.9370249,9.67102951 L20.0100446,16.740537 L27.0830644,9.67102951 C27.9748799,8.77965683 29.4509884,8.77965683 30.3428039,9.67102951 C31.2346195,10.5624022 31.2346195,12.0377777 30.3428039,12.9291504 L23.2697842,19.9986579 L30.3428039,27.0681654 L30.3428039,27.0681654 Z"})}))},sj=["type","value","setValue","data","keyName","visible","quotes","style","children","namespace","displayDataTypes","editableValue","parentValue","onDelete","onEdit"],om=s=>{var{show:e,style:t,quotes:n}=s;if(!(!n||!e))return k.jsx("span",{style:t,children:n})};function X0(s){var e,{type:t,value:n,setValue:r,data:i,keyName:a,visible:o,quotes:l,style:c,namespace:u,displayDataTypes:d,editableValue:h,parentValue:f,onDelete:m,onEdit:g}=s,v=Nt(s,sj),[b,C]=y.useState(!1),A=y.useRef(null),[E,x]=y.useState(t),[R,O]=y.useState(n);y.useEffect(()=>O(n),[n]);var z=ge=>{if(ge.stopPropagation(),!!h&&A.current){var G;C(!0),A.current.setAttribute("contentEditable","true"),(G=A.current)==null||G.focus()}},M=ge=>{h&&ge.key==="Enter"&&(ge.stopPropagation(),ge.preventDefault(),C(!1),A.current&&A.current.setAttribute("contentEditable","false"))},$=function(){var ge=Oi(function*(){if(h&&(C(!1),A.current)){A.current.setAttribute("contentEditable","false");var G=A.current.innerHTML,ue=E;if((E==="number"||E==="float")&&(G=Number(G),ue=H0(G)?"float":"number"),E==="url"&&typeof G=="string"&&(G=new URL(G),ue="url"),Number.isNaN(G)&&(ue="number"),typeof G=="string"&&/^(true|false)$/gi.test(G))G=!!/^(true)$/gi.test(G),ue="boolean";else if(typeof G=="string"&&/^[\d]+n$/gi.test(G))G=BigInt(G.replace(/n$/gi,"")),ue="bigint";else if(typeof G=="string"&&/^(null)$/gi.test(G))G=null,ue="null";else if(typeof G=="string"&&/^(NaN)$/gi.test(G))G=NaN,ue="NaN";else if(typeof G=="string"&&/^(undefined)$/gi.test(G))G=void 0,ue="undefined";else if(typeof G=="string")try{if(G&&G.length>19&&!isNaN(Date.parse(G))){var ne=new Date(G);G=ne,ue="date"}}catch{}if(g){var N=yield g({type:"value",value:G,oldValue:R,namespace:u});if(N)x(ue),O(G);else{var{content:j}=Hu(R);A.current.innerHTML=String(j)}}}});return function(){return ge.apply(this,arguments)}}(),W={minWidth:34,minHeight:18,paddingInline:3,display:"inline-block"},{type:V,content:Z}=Hu(R),q=((e=kr[V])==null?void 0:e.color)||"",Q=ce({},v,{onBlur:$,onKeyDown:M,spellCheck:!1,style:b?ce({},c,W,{color:q}):ce({},c,{color:q})}),re=k.jsx(Di,{type:V});(V==="null"||V==="undefined"||t.toLocaleLowerCase()==="nan")&&(re=k.jsx(y.Fragment,{}));var de=function(){var ge=Oi(function*(G){if(G.stopPropagation(),i&&a&&a in i&&r&&m){var ue=yield m(a,n,f,{namespace:u});ue&&(delete i[a],r(ce({},i)))}});return function(ue){return ge.apply(this,arguments)}}();return k.jsxs(y.Fragment,{children:[d&&re,k.jsx(om,{style:c,quotes:l,show:V==="string"}),k.jsx("span",ce({},Q,{ref:A,"data-value":Z,children:typeof R=="string"?R:Z})),k.jsx(om,{style:c,quotes:l,show:V==="string"}),o&&h&&g&&k.jsx(tj,{onClick:z}),o&&h&&m&&k.jsx(Z0,{onClick:de})]})}X0.displayName="JVR.ReValue";var nj=s=>{var{style:e}=s,t={verticalAlign:"middle",display:"inline-block",cursor:"pointer",marginLeft:5,height:"1em",width:"1em"};return k.jsx("svg",ce({viewBox:"0 0 40 40",fill:"var(--w-rjv-add-color, currentColor)"},s,{style:ce({},e,t),children:k.jsx("path",{d:"M28.3940997,0 L11.625773,0 C4.34215619,0 0,4.34 0,11.62 L0,28.36 C0,35.66 4.34215619,40 11.625773,40 L28.3740897,40 C35.6577066,40 39.9999316,35.66 39.9999316,28.38 L39.9999316,11.62 C40.0198727,4.34 35.6777165,0 28.3940997,0 Z M30.12022,21.8947368 L21.9056145,21.8947368 L21.9056145,30.1052632 C21.9056145,31.1410526 21.0462404,32 20.0099363,32 C18.9736323,32 18.1142582,31.1410526 18.1142582,30.1052632 L18.1142582,21.8947368 L9.89965272,21.8947368 C8.86334865,21.8947368 8.00397454,21.0357895 8.00397454,20 C8.00397454,18.9642105 8.86334865,18.1052632 9.89965272,18.1052632 L18.1142582,18.1052632 L18.1142582,9.89473684 C18.1142582,8.85894737 18.9736323,8 20.0099363,8 C21.0462404,8 21.9056145,8.85894737 21.9056145,9.89473684 L21.9056145,18.1052632 L30.12022,18.1052632 C31.156524,18.1052632 32.0158982,18.9642105 32.0158982,20 C32.0158982,21.0357895 31.156524,21.8947368 30.12022,21.8947368 Z"})}))};function ew(s){var{visible:e,showTools:t,editable:n,keyName:r,value:i,namespace:a,parentValue:o,setValue:l,setParentValue:c,onAdd:u,onDelete:d}=s;if(!e||!t)return null;var h=function(){var m=Oi(function*(g){g.stopPropagation();var v="AddKeyOrValue",b=Array.isArray(i),C=b?!0:!(v in i),A=b?[...i,v]:ce({},i,{[v]:void 0});if(u&&l){var E=yield u(v,A,s.value,C);E&&l(A)}});return function(v){return m.apply(this,arguments)}}(),f=function(){var m=Oi(function*(g){if(g.stopPropagation(),d&&(r||typeof r=="number")&&o){var v=yield d(r,i,o,{namespace:a});v&&c&&(Array.isArray(o)?(o.splice(r,1),c([...o])):r in o&&(delete o[r],c(ce({},o))))}});return function(v){return m.apply(this,arguments)}}();return k.jsxs(y.Fragment,{children:[n&&u&&k.jsx(nj,{onClick:h}),n&&d&&o&&k.jsx(Z0,{onClick:f})]})}ew.displayName="JVR.CountInfoExtra";var rj=["onEdit","components","editable","displayDataTypes","onAdd","onDelete"],tw=y.forwardRef((s,e)=>{var{onEdit:t,components:n,editable:r=!0,displayDataTypes:i=!0,onAdd:a,onDelete:o}=s,l=Nt(s,rj),c=ce({},n,{countInfoExtra:u=>k.jsx(ew,ce({},u,{editable:r,onAdd:a,onDelete:o})),objectKey:u=>k.jsx(J0,ce({},u,{editableValue:r,onEdit:t,render:n==null?void 0:n.objectKey})),value:u=>k.jsx(X0,ce({},u,{editableValue:r,displayDataTypes:i,onDelete:o,onEdit:t}))});return k.jsx(Q0,ce({},l,{displayDataTypes:!1,components:c,ref:e}))});tw.displayName="JVR.JsonViewEditor";const ij=({obj:s,pattern:e})=>{const t=[];return Object.keys(s).forEach(n=>{e.test(n)&&t.push(n)}),t},aj=({arr:s,keyLength:e})=>{let t=0;try{const n=s.map(r=>Number(r.slice(e)));return s!=null&&s.length?(t=Math.max(...n),t+1):t}catch{return t}},oj=({obj:s,key:e})=>{const t=new RegExp("^"+e+"[0-9]*\\b$","i"),n=ij({obj:s,pattern:t}),r=aj({arr:n,keyLength:e.length});return r?`${e}${r}`:e},lj=({value:s,defaultLabel:e,newKeyName:t})=>{if(Array.isArray(s)){const n=s.findIndex(r=>r===e);n>=0&&(s[n]=null)}else{const n=oj({obj:s,key:t});s[n]=null,delete s[e]}return s};var sw=typeof global=="object"&&global&&global.Object===Object&&global,cj=typeof self=="object"&&self&&self.Object===Object&&self,Ws=sw||cj||Function("return this")(),Cr=Ws.Symbol,nw=Object.prototype,uj=nw.hasOwnProperty,dj=nw.toString,Gr=Cr?Cr.toStringTag:void 0;function hj(s){var e=uj.call(s,Gr),t=s[Gr];try{s[Gr]=void 0;var n=!0}catch{}var r=dj.call(s);return n&&(e?s[Gr]=t:delete s[Gr]),r}var fj=Object.prototype,pj=fj.toString;function mj(s){return pj.call(s)}var gj="[object Null]",vj="[object Undefined]",lm=Cr?Cr.toStringTag:void 0;function Yi(s){return s==null?s===void 0?vj:gj:lm&&lm in Object(s)?hj(s):mj(s)}function zi(s){return s!=null&&typeof s=="object"}var Fo=Array.isArray;function rw(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")}var bj="[object AsyncFunction]",yj="[object Function]",wj="[object GeneratorFunction]",xj="[object Proxy]";function iw(s){if(!rw(s))return!1;var e=Yi(s);return e==yj||e==wj||e==bj||e==xj}var xc=Ws["__core-js_shared__"],cm=function(){var s=/[^.]+$/.exec(xc&&xc.keys&&xc.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function Sj(s){return!!cm&&cm in s}var kj=Function.prototype,Cj=kj.toString;function Wn(s){if(s!=null){try{return Cj.call(s)}catch{}try{return s+""}catch{}}return""}var Pj=/[\\^$.*+?()[\]{}|]/g,Aj=/^\[object .+?Constructor\]$/,Tj=Function.prototype,Ej=Object.prototype,Mj=Tj.toString,Nj=Ej.hasOwnProperty,Rj=RegExp("^"+Mj.call(Nj).replace(Pj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dj(s){if(!rw(s)||Sj(s))return!1;var e=iw(s)?Rj:Aj;return e.test(Wn(s))}function Oj(s,e){return s==null?void 0:s[e]}function Dr(s,e){var t=Oj(s,e);return Dj(t)?t:void 0}var Gu=Dr(Ws,"WeakMap"),zj=9007199254740991,Lj=/^(?:0|[1-9]\d*)$/;function Bj(s,e){var t=typeof s;return e=e??zj,!!e&&(t=="number"||t!="symbol"&&Lj.test(s))&&s>-1&&s%1==0&&s<e}function aw(s,e){return s===e||s!==s&&e!==e}var jj=9007199254740991;function ow(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=jj}function Ij(s){return s!=null&&ow(s.length)&&!iw(s)}var $j=Object.prototype;function _j(s){var e=s&&s.constructor,t=typeof e=="function"&&e.prototype||$j;return s===t}function Fj(s,e){for(var t=-1,n=Array(s);++t<s;)n[t]=e(t);return n}var Vj="[object Arguments]";function um(s){return zi(s)&&Yi(s)==Vj}var lw=Object.prototype,Uj=lw.hasOwnProperty,Hj=lw.propertyIsEnumerable,Wj=um(function(){return arguments}())?um:function(s){return zi(s)&&Uj.call(s,"callee")&&!Hj.call(s,"callee")};function qj(){return!1}var cw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dm=cw&&typeof module=="object"&&module&&!module.nodeType&&module,Gj=dm&&dm.exports===cw,hm=Gj?Ws.Buffer:void 0,Kj=hm?hm.isBuffer:void 0,Ku=Kj||qj,Yj="[object Arguments]",Qj="[object Array]",Jj="[object Boolean]",Zj="[object Date]",Xj="[object Error]",e4="[object Function]",t4="[object Map]",s4="[object Number]",n4="[object Object]",r4="[object RegExp]",i4="[object Set]",a4="[object String]",o4="[object WeakMap]",l4="[object ArrayBuffer]",c4="[object DataView]",u4="[object Float32Array]",d4="[object Float64Array]",h4="[object Int8Array]",f4="[object Int16Array]",p4="[object Int32Array]",m4="[object Uint8Array]",g4="[object Uint8ClampedArray]",v4="[object Uint16Array]",b4="[object Uint32Array]",He={};He[u4]=He[d4]=He[h4]=He[f4]=He[p4]=He[m4]=He[g4]=He[v4]=He[b4]=!0;He[Yj]=He[Qj]=He[l4]=He[Jj]=He[c4]=He[Zj]=He[Xj]=He[e4]=He[t4]=He[s4]=He[n4]=He[r4]=He[i4]=He[a4]=He[o4]=!1;function y4(s){return zi(s)&&ow(s.length)&&!!He[Yi(s)]}function w4(s){return function(e){return s(e)}}var uw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fi=uw&&typeof module=="object"&&module&&!module.nodeType&&module,x4=fi&&fi.exports===uw,Sc=x4&&sw.process,fm=function(){try{var s=fi&&fi.require&&fi.require("util").types;return s||Sc&&Sc.binding&&Sc.binding("util")}catch{}}(),pm=fm&&fm.isTypedArray,dw=pm?w4(pm):y4,S4=Object.prototype,k4=S4.hasOwnProperty;function C4(s,e){var t=Fo(s),n=!t&&Wj(s),r=!t&&!n&&Ku(s),i=!t&&!n&&!r&&dw(s),a=t||n||r||i,o=a?Fj(s.length,String):[],l=o.length;for(var c in s)k4.call(s,c)&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Bj(c,l)))&&o.push(c);return o}function P4(s,e){return function(t){return s(e(t))}}var A4=P4(Object.keys,Object),T4=Object.prototype,E4=T4.hasOwnProperty;function M4(s){if(!_j(s))return A4(s);var e=[];for(var t in Object(s))E4.call(s,t)&&t!="constructor"&&e.push(t);return e}function N4(s){return Ij(s)?C4(s):M4(s)}var Li=Dr(Object,"create");function R4(){this.__data__=Li?Li(null):{},this.size=0}function D4(s){var e=this.has(s)&&delete this.__data__[s];return this.size-=e?1:0,e}var O4="__lodash_hash_undefined__",z4=Object.prototype,L4=z4.hasOwnProperty;function B4(s){var e=this.__data__;if(Li){var t=e[s];return t===O4?void 0:t}return L4.call(e,s)?e[s]:void 0}var j4=Object.prototype,I4=j4.hasOwnProperty;function $4(s){var e=this.__data__;return Li?e[s]!==void 0:I4.call(e,s)}var _4="__lodash_hash_undefined__";function F4(s,e){var t=this.__data__;return this.size+=this.has(s)?0:1,t[s]=Li&&e===void 0?_4:e,this}function $n(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var n=s[e];this.set(n[0],n[1])}}$n.prototype.clear=R4;$n.prototype.delete=D4;$n.prototype.get=B4;$n.prototype.has=$4;$n.prototype.set=F4;function V4(){this.__data__=[],this.size=0}function El(s,e){for(var t=s.length;t--;)if(aw(s[t][0],e))return t;return-1}var U4=Array.prototype,H4=U4.splice;function W4(s){var e=this.__data__,t=El(e,s);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():H4.call(e,t,1),--this.size,!0}function q4(s){var e=this.__data__,t=El(e,s);return t<0?void 0:e[t][1]}function G4(s){return El(this.__data__,s)>-1}function K4(s,e){var t=this.__data__,n=El(t,s);return n<0?(++this.size,t.push([s,e])):t[n][1]=e,this}function qs(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var n=s[e];this.set(n[0],n[1])}}qs.prototype.clear=V4;qs.prototype.delete=W4;qs.prototype.get=q4;qs.prototype.has=G4;qs.prototype.set=K4;var Bi=Dr(Ws,"Map");function Y4(){this.size=0,this.__data__={hash:new $n,map:new(Bi||qs),string:new $n}}function Q4(s){var e=typeof s;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?s!=="__proto__":s===null}function Ml(s,e){var t=s.__data__;return Q4(e)?t[typeof e=="string"?"string":"hash"]:t.map}function J4(s){var e=Ml(this,s).delete(s);return this.size-=e?1:0,e}function Z4(s){return Ml(this,s).get(s)}function X4(s){return Ml(this,s).has(s)}function e6(s,e){var t=Ml(this,s),n=t.size;return t.set(s,e),this.size+=t.size==n?0:1,this}function qn(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var n=s[e];this.set(n[0],n[1])}}qn.prototype.clear=Y4;qn.prototype.delete=J4;qn.prototype.get=Z4;qn.prototype.has=X4;qn.prototype.set=e6;function t6(s,e){for(var t=-1,n=e.length,r=s.length;++t<n;)s[r+t]=e[t];return s}function s6(){this.__data__=new qs,this.size=0}function n6(s){var e=this.__data__,t=e.delete(s);return this.size=e.size,t}function r6(s){return this.__data__.get(s)}function i6(s){return this.__data__.has(s)}var a6=200;function o6(s,e){var t=this.__data__;if(t instanceof qs){var n=t.__data__;if(!Bi||n.length<a6-1)return n.push([s,e]),this.size=++t.size,this;t=this.__data__=new qn(n)}return t.set(s,e),this.size=t.size,this}function cn(s){var e=this.__data__=new qs(s);this.size=e.size}cn.prototype.clear=s6;cn.prototype.delete=n6;cn.prototype.get=r6;cn.prototype.has=i6;cn.prototype.set=o6;function l6(s,e){for(var t=-1,n=s==null?0:s.length,r=0,i=[];++t<n;){var a=s[t];e(a,t,s)&&(i[r++]=a)}return i}function c6(){return[]}var u6=Object.prototype,d6=u6.propertyIsEnumerable,mm=Object.getOwnPropertySymbols,h6=mm?function(s){return s==null?[]:(s=Object(s),l6(mm(s),function(e){return d6.call(s,e)}))}:c6;function f6(s,e,t){var n=e(s);return Fo(s)?n:t6(n,t(s))}function gm(s){return f6(s,N4,h6)}var Yu=Dr(Ws,"DataView"),Qu=Dr(Ws,"Promise"),Ju=Dr(Ws,"Set"),vm="[object Map]",p6="[object Object]",bm="[object Promise]",ym="[object Set]",wm="[object WeakMap]",xm="[object DataView]",m6=Wn(Yu),g6=Wn(Bi),v6=Wn(Qu),b6=Wn(Ju),y6=Wn(Gu),Zs=Yi;(Yu&&Zs(new Yu(new ArrayBuffer(1)))!=xm||Bi&&Zs(new Bi)!=vm||Qu&&Zs(Qu.resolve())!=bm||Ju&&Zs(new Ju)!=ym||Gu&&Zs(new Gu)!=wm)&&(Zs=function(s){var e=Yi(s),t=e==p6?s.constructor:void 0,n=t?Wn(t):"";if(n)switch(n){case m6:return xm;case g6:return vm;case v6:return bm;case b6:return ym;case y6:return wm}return e});var Sm=Ws.Uint8Array,w6="__lodash_hash_undefined__";function x6(s){return this.__data__.set(s,w6),this}function S6(s){return this.__data__.has(s)}function Vo(s){var e=-1,t=s==null?0:s.length;for(this.__data__=new qn;++e<t;)this.add(s[e])}Vo.prototype.add=Vo.prototype.push=x6;Vo.prototype.has=S6;function k6(s,e){for(var t=-1,n=s==null?0:s.length;++t<n;)if(e(s[t],t,s))return!0;return!1}function C6(s,e){return s.has(e)}var P6=1,A6=2;function hw(s,e,t,n,r,i){var a=t&P6,o=s.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=i.get(s),u=i.get(e);if(c&&u)return c==e&&u==s;var d=-1,h=!0,f=t&A6?new Vo:void 0;for(i.set(s,e),i.set(e,s);++d<o;){var m=s[d],g=e[d];if(n)var v=a?n(g,m,d,e,s,i):n(m,g,d,s,e,i);if(v!==void 0){if(v)continue;h=!1;break}if(f){if(!k6(e,function(b,C){if(!C6(f,C)&&(m===b||r(m,b,t,n,i)))return f.push(C)})){h=!1;break}}else if(!(m===g||r(m,g,t,n,i))){h=!1;break}}return i.delete(s),i.delete(e),h}function T6(s){var e=-1,t=Array(s.size);return s.forEach(function(n,r){t[++e]=[r,n]}),t}function E6(s){var e=-1,t=Array(s.size);return s.forEach(function(n){t[++e]=n}),t}var M6=1,N6=2,R6="[object Boolean]",D6="[object Date]",O6="[object Error]",z6="[object Map]",L6="[object Number]",B6="[object RegExp]",j6="[object Set]",I6="[object String]",$6="[object Symbol]",_6="[object ArrayBuffer]",F6="[object DataView]",km=Cr?Cr.prototype:void 0,kc=km?km.valueOf:void 0;function V6(s,e,t,n,r,i,a){switch(t){case F6:if(s.byteLength!=e.byteLength||s.byteOffset!=e.byteOffset)return!1;s=s.buffer,e=e.buffer;case _6:return!(s.byteLength!=e.byteLength||!i(new Sm(s),new Sm(e)));case R6:case D6:case L6:return aw(+s,+e);case O6:return s.name==e.name&&s.message==e.message;case B6:case I6:return s==e+"";case z6:var o=T6;case j6:var l=n&M6;if(o||(o=E6),s.size!=e.size&&!l)return!1;var c=a.get(s);if(c)return c==e;n|=N6,a.set(s,e);var u=hw(o(s),o(e),n,r,i,a);return a.delete(s),u;case $6:if(kc)return kc.call(s)==kc.call(e)}return!1}var U6=1,H6=Object.prototype,W6=H6.hasOwnProperty;function q6(s,e,t,n,r,i){var a=t&U6,o=gm(s),l=o.length,c=gm(e),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var h=o[d];if(!(a?h in e:W6.call(e,h)))return!1}var f=i.get(s),m=i.get(e);if(f&&m)return f==e&&m==s;var g=!0;i.set(s,e),i.set(e,s);for(var v=a;++d<l;){h=o[d];var b=s[h],C=e[h];if(n)var A=a?n(C,b,h,e,s,i):n(b,C,h,s,e,i);if(!(A===void 0?b===C||r(b,C,t,n,i):A)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var E=s.constructor,x=e.constructor;E!=x&&"constructor"in s&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof x=="function"&&x instanceof x)&&(g=!1)}return i.delete(s),i.delete(e),g}var G6=1,Cm="[object Arguments]",Pm="[object Array]",Ba="[object Object]",K6=Object.prototype,Am=K6.hasOwnProperty;function Y6(s,e,t,n,r,i){var a=Fo(s),o=Fo(e),l=a?Pm:Zs(s),c=o?Pm:Zs(e);l=l==Cm?Ba:l,c=c==Cm?Ba:c;var u=l==Ba,d=c==Ba,h=l==c;if(h&&Ku(s)){if(!Ku(e))return!1;a=!0,u=!1}if(h&&!u)return i||(i=new cn),a||dw(s)?hw(s,e,t,n,r,i):V6(s,e,l,t,n,r,i);if(!(t&G6)){var f=u&&Am.call(s,"__wrapped__"),m=d&&Am.call(e,"__wrapped__");if(f||m){var g=f?s.value():s,v=m?e.value():e;return i||(i=new cn),r(g,v,t,n,i)}}return h?(i||(i=new cn),q6(s,e,t,n,r,i)):!1}function fw(s,e,t,n,r){return s===e?!0:s==null||e==null||!zi(s)&&!zi(e)?s!==s&&e!==e:Y6(s,e,t,n,fw,r)}function Q6(s,e){return fw(s,e)}const Tm=({path:s})=>s&&s.length>0?s[s.length-1]:null,Em=({mainObj:s,path:e})=>{let t=s;if(e&&e.length>0)for(let n=0;n<e.length-1;n++)t=t[e[n]];return t},pw=(s,e,t=[])=>{if(Q6(s,e))return t;if(s&&typeof s=="object")for(const n of Object.keys(s)){const r=pw(s[n],e,[...t,n]);if(r)return r}return null},Mm=s=>Number.isInteger(Number(s)),Nm=(s,e)=>e.length&&s===e,Rm=({obj:s,label:e})=>{if(Array.isArray(s))return s;{const t=Object.values(s),n=Object.keys(s),r=n.every(o=>Mm(o)),i=n.every(o=>Nm(o,e)),a=n.every(o=>Mm(o)||Nm(o,e));if(i)return s;if(r)return t;if(a)return t.map(o=>o!==void 0?o:null)}return s},J6={"--w-rjv-color":"#e16c73","--w-rjv-key-number":"#818499","--w-rjv-key-string":"#e16c73","--w-rjv-background-color":"#292c34","--w-rjv-line-color":"transparent","--w-rjv-arrow-color":"#818499","--w-rjv-edit-color":"#2196f3","--w-rjv-add-color":"#789849","--w-rjv-info-color":"#818499","--w-rjv-update-color":"","--w-rjv-copied-color":"#d7d7d7","--w-rjv-copied-success-color":"","--w-rjv-curlybraces-color":"#acb4be","--w-rjv-colon-color":"#acb4be","--w-rjv-brackets-color":"#acb4be","--w-rjv-ellipsis-color":"","--w-rjv-quotes-color":"#eb6383","--w-rjv-quotes-string-color":"#9bc181","--w-rjv-type-string-color":"#9cba7d","--w-rjv-type-int-color":"#e4c07c","--w-rjv-type-float-color":"#e4c07c","--w-rjv-type-bigint-color":"#e4c07c","--w-rjv-type-boolean-color":"#d9985f","--w-rjv-type-date-color":"#9cba7d","--w-rjv-type-url-color":"#9cba7d","--w-rjv-type-null-color":"#9cba7d","--w-rjv-type-nan-color":"#9cba7d","--w-rjv-type-undefined-color":"#9cba7d"},Z6={...J6,fontSize:"17px",fontFamily:"ui-monospace, Menlo, Monaco, 'Cascadia Mono', 'Segoe UI Mono','Roboto Mono', 'Oxygen Mono', 'Ubuntu Mono', 'Source Code Pro','Fira Mono', 'Droid Sans Mono', 'Consolas','Courier New', monospace"},X6=({value:s,onChange:e,error:t,loading:n})=>{const r=(o,l,c)=>(Array.isArray(c)?c.splice(o,1):o in c&&delete c[o],e==null||e(JSON.stringify(s,null,4)),!1),i=({value:o,oldValue:l,type:c,namespace:u})=>{const d=Tm({path:u}),h=Em({mainObj:s,path:u});if(c==="key"){const f=Object.keys(h).includes(o);l!==o&&!f&&(h[o]=h[l],delete h[l])}else if(c==="value")try{h[d]=JSON.parse(o)}catch{h[d]=o}return e==null||e(JSON.stringify(s,null,4)),!1},a=(o,l,c,u)=>{const d=Rm({obj:c,label:o});let h=Rm({obj:l,label:o});h=lj({value:h,defaultLabel:o,newKeyName:GN});const f=pw(s,d);if(f===null)return!1;if(f.length===0)s=h;else{const m=Tm({path:f}),g=Em({mainObj:s,path:f});g[m]=h}return e==null||e(JSON.stringify(s,null,4)),u};return t?k.jsx(dl,{message:P.t("Invalid JSON detected. Fix the value in the Code Editor")}):k.jsx("div",{style:{overflow:"auto",height:"80vh"},children:k.jsx(tw,{value:s,shortenTextAfterLength:0,style:Z6,displayDataTypes:!1,displayObjectSize:!0,collapsed:1,indentWidth:40,highlightUpdates:!0,editable:!n,onDelete:r,onEdit:i,onAdd:a})})},e8=({loading:s,value:e,handleEditorChange:t})=>{const[n,r]=y.useState("code"),[i,a]=y.useState(null),[o,l]=y.useState(!1),c=y.useMemo(()=>{a(null),l(!1);try{if(e==null)return{};const u=JSON.parse(e);if(typeof u=="object")return u;l(!0),r(ha)}catch(u){a(u.message)}},[e]);return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:Te.tabsContainer,children:[k.jsxs(Xo,{className:Te.tabs,children:[k.jsx(un,{onClick:()=>{r(ha)},selected:n===ha,children:P.t("Code")}),k.jsx(un,{onClick:()=>{r(Kl)},disabled:o,selected:n===Kl,children:P.t("Tree")})]}),k.jsx("div",{className:Te.helperIcon,children:k.jsx(Jo,{content:k.jsxs(k.Fragment,{children:[P.t("The Code editor is a free-form JSON editor."),k.jsx("br",{}),P.t("The Tree editor shows expandable nodes of the JSON object.")]}),placement:"right",openDelay:0,closeDelay:0,className:Te.tooltip,children:k.jsx(Gm,{color:"#6C7787"})})})]}),k.jsx(k.Fragment,{children:n===ha?k.jsx(BB,{value:e,onChange:t,loading:s}):n===Kl&&k.jsx(X6,{value:c,onChange:t,error:i,loading:s})})]})},t8=({handleClose:s,disableCloseButton:e,handleUpdate:t,loading:n,showButtons:r})=>{const{key:i}=ds();return k.jsxs(bd,{children:[k.jsx("span",{className:Te.editorPanelKeysLabel,children:i}),r&&k.jsxs("div",{className:Te.editorPanelEditButtons,children:[k.jsx(Bt,{small:!0,"aria-label":P.t("Close"),name:"close",onClick:()=>s(),title:P.t("Close"),disabled:e,children:P.t("Close")}),k.jsx(Bt,{small:!0,"aria-label":P.t("Save"),name:"save",onClick:()=>t(),title:P.t("Save"),primary:!0,loading:n,children:P.t("Save changes")})]})]})},Dm=({query:s})=>{const{key:e,namespace:t,store:n}=ds(),r=ji(),i=Mr(),[a,o]=y.useState(null),[l,c]=y.useState(!1),{showError:u,showSuccess:d}=ul(),{setHasUnsavedChanges:h,hasUnsavedChanges:f}=Mv(),{data:m,loading:g,refetch:v,error:b}=vn(s,{variables:{key:e,namespace:t}}),C=()=>i(`/${n}/edit/${t}`),[A,E]=y.useState(JSON.stringify(m==null?void 0:m.results,null,4)||"");y.useEffect(()=>{E(JSON.stringify(m==null?void 0:m.results,null,4))},[m]);const x=O=>{E(O),h(!0)},R=async()=>{if(f){let O;const z=`${n}`;o(null),c(!0);try{O=JSON.parse(A),await r.mutate({type:"update",resource:z,id:`${t}/${e}`,data:O},{onComplete:()=>{d(P.t("Key '{{key}}' updated successfully",{key:e})),v({key:e,namespace:t}),h(!1)},onError(M){u(P.t("There was a problem updating the key - {{error}}",{error:M.message,interpolation:{escapeValue:!1}}))}})}catch(M){o(M.message),u(P.t("There was a problem - {{error}}",{error:M.message,interpolation:{escapeValue:!1}}))}c(!1)}};return y.useEffect(()=>{v({key:e,namespace:t})},[n,t,e,v]),k.jsxs(k.Fragment,{children:[k.jsx(t8,{handleClose:C,disableCloseButton:l,handleUpdate:R,loading:!a&&l,showButtons:!b}),k.jsx("div",{className:Te.editorBackground,children:b?k.jsx(dl,{message:P.t("There was a problem fetching this key's value. {{error}}",{error:b.message,interpolation:{escapeValue:!1}})}):g?k.jsx(jm,{children:k.jsx(Uo,{})}):k.jsx(e8,{loading:l,value:A,handleEditorChange:x})})]})},s8={results:{resource:"dataStore",id:({key:s,namespace:e})=>`${e}/${s}`}},n8={results:{resource:"userDataStore",id:({key:s,namespace:e})=>`${e}/${s}`}},r8=()=>{const{store:s}=ds();return k.jsxs(k.Fragment,{children:[s===Ns&&k.jsx(Dm,{query:s8}),s===On&&k.jsx(Dm,{query:n8})]})},i8=()=>k.jsxs(k.Fragment,{children:[k.jsx(bd,{children:k.jsx("span",{className:Te.emptyEditorPanelHeader,children:k.jsx("i",{children:P.t("Choose a key to start editing")})})}),k.jsx("div",{className:Te.editorBackground})]});function a8(){const{store:s}=ds();return Nv.includes(s)?k.jsx("div",{className:Te.page,children:k.jsx(kv,{})}):k.jsx(Sv,{to:"dataStore",replace:!0})}const o8=LM([{path:"/",element:k.jsx(a8,{}),errorElement:k.jsx(WN,{}),children:[{index:!0,element:k.jsx(Sv,{to:"dataStore",replace:!0})},{path:":store",element:k.jsx(hR,{})},{path:":store/edit/:namespace",element:k.jsx(aR,{}),children:[{index:!0,element:k.jsx(i8,{})},{path:":key",element:k.jsx(r8,{})}]}]}]),p8=()=>k.jsx(KM,{children:k.jsx(GM,{router:o8})});export{p8 as default};
//# sourceMappingURL=App-Dxe7-1Aj.js.map
