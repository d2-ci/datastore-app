"use strict";(self.webpackChunk_dhis2_app_shell=self.webpackChunk_dhis2_app_shell||[]).push([[3524],{26073:function(e,t,r){r.r(t),r.d(t,{default:function(){return Pn}});var n=r(61172),a=r(72176),s=r(96801),o=r(29129),i=r(75593),l=r(88558),c=r(8018),u=r(39274),p=(0,c.default)({palette:{primary1Color:l.blue700,primary2Color:l.blue900,primary3Color:l.grey200,accent1Color:l.blue700,accent2Color:l.grey100,accent3Color:l.grey500,textColor:l.darkBlack,alternateTextColor:l.white,canvasColor:l.white,borderColor:l.grey300,disabledColor:(0,u.fade)(l.darkBlack,.3),pickerHeaderColor:l.blue500,clockCircleColor:(0,u.fade)(l.darkBlack,.07),shadowColor:l.fullBlack}}),d=r(80132);const h="SELECT_KEY",m="TOGGLE_NAMESPACE",y="VALUE_CHANGE",f="OPEN_DIALOG",E="CLOSE_DIALOG",g="SEARCH_VALUE_CHANGE",v="SNACKBAR_EMPTY",b="FETCH_NAMESPACES_FULFILLED",C="FETCH_NAMESPACES_PENDING",N="FETCH_NAMESPACES_REJECTED",S="FETCH_KEYS_FULFILLED",k="FETCH_KEYS_PENDING",w="FETCH_KEYS_REJECTED",x="FETCH_VALUE_FULFILLED",A="FETCH_VALUE_PENDING",j="FETCH_VALUE_REJECTED",_="UPDATE_VALUE_FULFILLED",T="UPDATE_VALUE_PENDING",L="UPDATE_VALUE_REJECTED",D="FORMAT_VALUE_REJECTED",V="CREATE_VALUE_FULFILLED",O="CREATE_VALUE_PENDING",P="CREATE_VALUE_REJECTED",F="DELETE_KEY_FULFILLED",I="DELETE_KEY_PENDING",M="DELETE_KEY_REJECTED",K="DELETE_NAMESPACE_FULFILLED",R="DELETE_NAMESPACE_PENDING",U="DELETE_NAMESPACE_REJECTED",J="SET_IGNORE_NEXT_CONFIRM_NAVIGATION";var B=r(39797);function W(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class H{constructor(){this.cache=new Map}clearNamespace(e){this.cache.has(e)&&this.cache.get(e).clear()}contains(e,t){return this.cache.has(e)&&this.cache.get(e).has(t)}get(e,t){if(this.contains(e,t))return this.cache.get(e).get(t)}set(e,t,r){this.cache.has(e)||this.cache.set(e,new Map),this.cache.get(e).set(t,r)}delete(e,t){this.contains(e,t)&&this.cache.get(e).delete(t)}}const G=new class{constructor(){W(this,"getNamespaces",(async()=>(await(0,B.iE)()).dataStore.getAll())),W(this,"deleteNamespace",(async e=>{const t=await(0,B.iE)(),r=await t.dataStore.delete(e);return this.cache.clearNamespace(e),r})),W(this,"getKeys",(async e=>{const t=await(0,B.iE)();return(await t.dataStore.get(e)).getKeys()})),W(this,"getValue",(async(e,t)=>{if(this.cache.contains(e,t))return this.cache.get(e,t);const r=await(0,B.iE)(),n=await r.dataStore.get(e,!1),a=await n.get(t),s={value:a,length:JSON.stringify(a).length};return this.cache.set(e,t,s),s})),W(this,"createValue",(async(e,t,r)=>{const n=await(0,B.iE)(),a=await n.dataStore.get(e,!1),s=await a.set(t,r,!0);return this.cache.set(e,t,{length:0,value:r}),s})),W(this,"updateValue",(async(e,t,r)=>{const n=await(0,B.iE)(),a=await n.dataStore.get(e),s=await a.update(t,r);return this.cache.set(e,t,{value:r}),s})),W(this,"deleteValue",(async(e,t)=>{const r=await(0,B.iE)(),n=await r.dataStore.get(e),a=await n.delete(t);return this.cache.delete(e,t),a})),this.cache=new H}};var Y=G;function z(){return{type:J,ignoreNextConfirm:!0}}function $(e,t){return{type:S,namespace:e,keys:t}}function q(e){return{type:k,namespace:e}}function Q(e,t,r,n){return{type:L,namespace:e,key:t,value:r,error:n}}function X(e){return{type:K,namespace:e}}function Z(e,t){return{type:m,namespace:e,override:t}}function ee(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r=>(r(q(e)),Y.getKeys(e).then((t=>{r($(e,t))})).then((()=>r(Z(e,t)))).catch((t=>{if(404===t.httpStatusCode)return r(X(e));if(t)throw t;return null})).catch((t=>{r(function(e,t){return{type:w,namespace:e,error:t}}(e,t))})))}function te(e,t){return r=>(r(function(e,t){return{type:A,namespace:e,key:t}}(e,t)),Y.getValue(e,t).then((n=>{r(function(e,t,r){return{type:x,namespace:e,key:t,value:r}}(e,t,n)),r(function(e,t,r){return{type:h,namespace:e,key:t,value:r}}(e,t,n.value))})).catch((n=>r(function(e,t,r){return{type:j,namespace:e,key:t,error:r}}(e,t,n)))))}function re(){return e=>(e({type:C}),Y.getNamespaces().then((t=>{e(function(e){return{type:b,namespaces:e}}(t))})).catch((t=>e(function(e){return{type:N,error:e}}(t)))))}function ne(e,t,r){return n=>(n(function(e,t,r){return{type:O,namespace:e,key:t,value:r}}(e,t,r)),Y.createValue(e,t,r).then((()=>n(function(e,t,r){return{type:V,namespace:e,key:t,value:r}}(e,t,r)))))}function ae(e,t){return r=>{r(ne(e,t,{})).then((()=>i.RL.push(`/edit/${e}/${t}`))).then((()=>r(ee(e,!0)))).catch((n=>r({type:P,namespace:e,key:t,value:{},error:n})))}}function se(e,t,r){return n=>(n(function(e,t,r){return{type:T,namespace:e,key:t,value:r}}(e,t,r)),Y.updateValue(e,t,r).then((()=>n(function(e,t,r){return{type:_,namespace:e,key:t,value:r}}(e,t,r)))).catch((()=>n(Q(e,t,r)))))}function oe(e,t){return(r,n)=>(r(function(e,t){return{type:I,namespace:e,key:t}}(e,t)),Y.deleteValue(e,t).then((()=>r(function(e,t){return{type:F,namespace:e,key:t}}(e,t)))).then((e=>(n().display.key==t&&(r(z()),i.RL.push("/")),e))).then((()=>r(function(e){return t=>(t(q(e)),Y.getKeys(e).then((r=>{if(r.length<1)return Promise.reject({status:404});t($(e,r))})))}(e)))).catch((t=>{if(404===t.httpStatusCode)r(X(e));else{if(t)throw t;r(Z(e,!0))}})).catch((n=>{r(function(e,t,r){return{type:M,namespace:e,key:t,error:r}}(e,t,n))})))}function ie(e){return(t,r)=>(t(function(e){return{type:R,namespace:e}}(e)),Y.deleteNamespace(e).then((n=>(t(X(e)),r().display.namespace===e&&(t(z()),i.RL.push("/")),n))).catch((r=>{console.log(r),t(function(e,t){return{type:U,namespace:e,error:t}}(e))})))}const le="SEARCH_JSON",ce="EXPAND_JSON",ue="COLLAPSE_JSON",pe="REDO_JSON",de="UNDO_JSON",he="CHANGE_JSON_MODE",me="FORMAT_JSON",ye="COMPACT_JSON";function fe(e){return{type:he,mode:e}}var Ee=r(50750),ge=r(91913);function ve(e){return{type:f,dialogprops:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},dialogType:e}}class be extends a.Component{static buildButton(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.createElement(ge.default,{label:t,primary:r,onClick:e})}render(){const{title:e,cancelAction:t,cancelLabel:r,approveAction:n,approveLabel:s,contentStyle:o,defaultCloseDialog:i}=this.props,l=[],c=()=>{Promise.resolve(n()).then((()=>i())).catch((()=>{}))};return l.push(be.buildButton(t||i,r||"Cancel")),n&&l.push(be.buildButton(c,s||"Create",!0)),a.createElement(Ee.A,{open:!0,title:e,actions:l,modal:!1,contentStyle:o||{},onRequestClose:i},this.props.children)}}var Ce=(0,o.Ng)(null,(e=>({defaultCloseDialog(){e({type:E})}})))(be);function Ne(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Se extends a.Component{constructor(){super(),Ne(this,"handleCancel",(()=>{this.setState({...this.state,confirmed:!1,show:!1,blockNext:!0})})),Ne(this,"handleConfirm",(()=>{this.setState({...this.state,confirmed:!0,show:!1,blockNext:!1},(()=>this.props.router.push(this.state.nextLocation)))})),Ne(this,"routerWillLeave",(e=>this.state.confirmed?(this.setState({...this.state,confirmed:!1,blockNext:!1}),!0):!(this.state.blockNext&&!this.props.ignoreNext)||(this.setState({...this.state,show:!0,blockNext:!1,nextLocation:e}),!1))),this.state={show:!1,blockNext:!1,confirmed:!1,nextLocation:null}}componentDidMount(){this.props.router.setRouteLeaveHook(this.props.route,this.routerWillLeave)}UNSAFE_componentWillReceiveProps(e){const t=e;if(this.props.ignoreNext)return this.setState({...this.state,blockNext:!1}),void this.props.setIgnoreNext(!1);t.value!==t.editedValue?this.setState({...this.state,blockNext:!0}):this.setState({...this.state,blockNext:!1,confirmed:!1})}render(){const e=Ce.buildButton(this.handleCancel,"Stay",!1),t=Ce.buildButton(this.handleConfirm,"Discard",!0);return a.createElement(Ee.A,{open:this.state.show,title:"Unsaved changes",actions:[e,t],modal:!0,onRequestClose:this.props.cancelNavigation},"You have unsaved changes! Are you sure you want to discard them?")}}var ke=(0,o.Ng)((e=>({ignoreNext:e.navigation.ignoreNextConfirm})),(e=>({setIgnoreNext(t){e(z())}})))(Se),we="Display_display__UZSLW",xe="Display_displayArea__0CjM+",Ae=r(87024),je=r(16896),_e=r(38738);const Te={alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},Le={fill:"rgb(117, 117, 117)",display:"block",margin:"0 auto 0 auto",width:"100px",height:"auto"};class De extends a.Component{render(){const{text:e}=this.props;return a.createElement("div",{className:xe,style:Te},a.createElement("div",null,a.createElement(_e.A,{style:Le}),a.createElement("p",null,e)))}}class Ve extends a.Component{render(){const{text:e}=this.props;return a.createElement("div",{className:xe,style:Te},a.createElement("div",null,a.createElement(je.A,{style:Le}),a.createElement("p",null,e)))}}class Oe extends a.Component{render(){return a.createElement(Ve,{text:this.props.error||Ae.A.t("An error has occurred.")})}}var Pe=Oe,Fe=r(64349);const Ie=e=>{let{size:t="small"}=e;switch(t){case"small":return a.createElement(Fe.F,{small:!0});case"medium":return a.createElement(Fe.F,null);case"large":return a.createElement(Fe.F,{large:!0})}return null},Me={alignItems:"center",justifyContent:"center"};class Ke extends a.Component{render(){return a.createElement(d.default,{zDepth:0,className:xe,style:Me},a.createElement(Ie,{size:"large"}))}}var Re=Ke;function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ue.apply(null,arguments)}function Je(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Be=e=>{class t extends a.Component{constructor(){super(...arguments),Je(this,"renderLoading",(()=>a.createElement(Re,null))),Je(this,"renderError",(()=>a.createElement(Pe,{error:this.props.errorMessage})))}render(){const{loading:t,error:r,...n}=this.props;return t?this.renderLoading():r?this.renderError():a.createElement(e,Ue({},n,this.state))}}return(0,o.Ng)((e=>({loading:e.display.fetching,error:e.display.error,errorMessage:e.display.errorMessage})))(t)},We=r(96730),He=r.n(We);const Ge="NEW_NAMESPACE",Ye="NEW_KEY",ze="CONFIRM_DELETE_NAMESPACE",$e="CONFIRM_DELETE_KEY",qe="ERROR_DIALOG";r(71346);const Qe=e=>e&&"object"===typeof e?Array.isArray(e)?e.map(Qe):Object.keys(e).sort().reduce(((t,r)=>(t[r]=Qe(e[r]),t)),{}):e;function Xe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ze={backgroundColor:"white",height:"100%"};class et extends a.Component{constructor(e){super(e),Xe(this,"changedEvent",(()=>{this.props.dataChanged(this.editor)})),Xe(this,"jsonEditorIsValid",(()=>{try{return this.editor.get(),!0}catch(e){return!1}})),Xe(this,"handleJsonEditor",(e=>{const{jsonSearchValue:t,collapse:r,expand:n,undo:a,redo:s,mode:o,compact:i,format:l}=e.jsonEditor;"code"!==this.editor.getMode()&&(this.editor.search(t||""),r&&this.editor.collapseAll(),n&&this.editor.expandAll(),a&&this.editor._onUndo(),s&&this.editor._onRedo()),"tree"!==this.editor.getMode()&&(i&&this.editor.compact(),l&&this.editor.format()),this.editor.getMode()!==o&&("code"===this.editor.options.mode&&(this.jsonEditorIsValid()?this.editor.setMode(o):(this.props.openErrorMessage(Ae.A.t("Invalid JSON. Please fix all remaining issues and try again.")),this.props.jsonChangeMode(this.editor.getMode()))),"code"!==this.editor.options.mode&&this.editor.setMode(o)),this.removeBuiltInMenu()})),this.editor=null}componentDidMount(){this.initEditor()}componentWillUnmount(){this.editor&&this.editor.destroy()}shouldComponentUpdate(e){const{namespace:t,selectedKey:r}=this.props;return t!==e.namespace||r!==e.selectedKey}UNSAFE_componentWillReceiveProps(e){for(const[t,r]of Object.entries(this.props.jsonEditor))if(e.jsonEditor[t]!==r){this.handleJsonEditor(e);break}}updateValue(e){this.editor.set(Qe(e))}UNSAFE_componentWillUpdate(e){this.updateValue(e.value),this.handleJsonEditor(e)}removeBuiltInMenu(){this.editor&&this.editor.frame&&this.editor.frame.contains(this.editor.menu)&&this.editor.frame.removeChild(this.editor.menu)}initEditor(){if(!this.editor&&this.editorContainer){const e={modes:["tree","view","text","form"],onChange:this.changedEvent};this.editor=new(He())(this.editorContainer,e),this.removeBuiltInMenu(),this.updateValue(this.props.value)}}render(){return a.createElement("div",{id:"jsoneditor",style:Ze,ref:e=>this.editorContainer=e})}}var tt=(0,o.Ng)((e=>({jsonEditor:e.jsonEditor})),(e=>({jsonChangeMode(t){e(fe(t))},openErrorMessage(t){e(ve(qe,{message:t}))}})))(et);function rt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class nt extends a.Component{constructor(){super(...arguments),rt(this,"handleDataChange",(e=>{try{const t=e.get();this.props.valueChange(t)}catch(t){this.props.valueChange(t,!0)}}))}render(){const{value:e,namespace:t,selectedKey:r}=this.props;return a.createElement("div",{className:xe},a.createElement(tt,{value:e,namespace:t,selectedKey:r,dataChanged:this.handleDataChange}))}}var at=Be(nt),st=r(97732),ot=r(42091),it=r(88674),lt=r(90497),ct=r(47840),ut=r(15667),pt=r(54939),dt=r(48830),ht=r(92836),mt=r(4580),yt=r(95417),ft=r(21151);function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Et.apply(null,arguments)}class gt extends a.Component{constructor(e){super(e),this.changeEvent=this.changeEvent.bind(this),this.handleKeys=this.handleKeys.bind(this)}handleKeys(e){27===e.keyCode&&this.searchField.blur()}changeEvent(e){const t=e.target.value;this.props.changeAction(t)}render(){const{jsonLength:e}=this.props,t={disabled:!1};return e&&e>5e5&&(t.disabled=!0,t.title="Object is too big to search"),a.createElement(ft.A,Et({name:"searchbar",floatingLabelText:"Search Object",floatingLabelStyle:{top:"42px"},inputStyle:{marginTop:"13px"},onChange:this.changeEvent,style:this.props.style,onKeyUp:this.handleKeys,underlineStyle:{maxWidth:"150px"},ref:e=>{this.searchField=e}},t))}}var vt=gt,bt=r(73902);const Ct={button:{cursor:"default",maxWidth:"200px",textOverflow:"ellipsis"},label:{paddingLeft:0}};class Nt extends a.Component{render(){const{label:e}=this.props;return a.createElement(ge.default,{primary:!0,style:Ct.button,labelStyle:Ct.label,label:e,labelPosition:"before",disableTouchRipple:!0,hoverColor:"rgba(0,0,0,0)"})}}var St=Nt,kt="DisplayToolbarTitle_toolbarTitle__WqYlE";class wt extends a.Component{renderPath(e){const t={fill:p.palette.primary1Color,padding:"0 16px 0 16px",verticalAlign:"middle"},r=e.split("/"),n=r.length-1;return a.createElement("span",{className:kt},r.map(((e,r)=>a.createElement("span",{key:r},a.createElement(St,{label:e,key:r}),r===n?null:a.createElement(bt.A,{style:t})))))}renderDefault(){return a.createElement("span",{className:kt},"Value")}render(){const{path:e}=this.props;return e?this.renderPath(e):this.renderDefault()}}var xt=wt;function At(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const jt={dropDownMenuIcon:{fill:"black"},dropDownMenu:{marginBottom:"6px"},searchBar:{marginBottom:"25px",maxWidth:"150px",padding:"0 16px 0 16px"}};class _t extends a.Component{constructor(e){super(e),At(this,"handleJsonSearch",(e=>{if(this.state.debounced)this.state.debounced(e);else{const t=function(e,t,r){var n;return function(){var a=this,s=arguments,o=r&&!n;clearTimeout(n),n=setTimeout((function(){n=null,r||e.apply(a,s)}),t),o&&e.apply(a,s)}}((e=>{this.props.jsonSearchAction(e)}),250);this.setState({...this.state,debounced:t}),t(e)}})),this.renderTreeEdit=this.renderTreeEdit.bind(this),this.renderCodeEdit=this.renderCodeEdit.bind(this),this.handleDropDownMenuChange=this.handleDropDownMenuChange.bind(this),this.state={debounced:null}}handleDropDownMenuChange(e,t,r){this.props.jsonChangeMode(r)}static renderSavingSpinner(){return a.createElement(Ie,{style:{position:"relative"}})}renderTreeEdit(){const{path:e,saving:t}=this.props;return a.createElement(d.default,{style:{zIndex:5}},a.createElement(yt.M7,null,a.createElement(yt.$Q,null,a.createElement(ot.default,{onClick:this.props.handleSave,tooltip:"Save",disabled:t},t?_t.renderSavingSpinner():a.createElement(ct.A,null)),a.createElement(st.Ay,{value:this.props.mode,style:jt.dropDownMenu,onChange:this.handleDropDownMenuChange,iconStyle:jt.dropDownMenuIcon},a.createElement(it.A,{value:"tree",primaryText:"Tree"}),a.createElement(it.A,{value:"code",primaryText:"Code"})),a.createElement(ot.default,{onClick:this.props.jsonCollapse,tooltip:"Collapse"},a.createElement(ht.default,null)),a.createElement(ot.default,{onClick:this.props.jsonExpand,tooltip:"Expand"},a.createElement(mt.default,null)),a.createElement(ot.default,{onClick:this.props.jsonUndo,tooltip:"Undo"},a.createElement(ut.A,null)),a.createElement(ot.default,{onClick:this.props.jsonRedo,tooltip:"Redo"},a.createElement(lt.A,null)),a.createElement(vt,{style:jt.searchBar,jsonLength:this.props.jsonEditor.jsonLength,changeAction:this.handleJsonSearch})),a.createElement(yt.$Q,null,a.createElement(xt,{path:e}))))}renderCodeEdit(){const{path:e}=this.props;return a.createElement(d.default,{style:{zIndex:5}},a.createElement(yt.M7,null,a.createElement(yt.$Q,null,a.createElement(ot.default,{onClick:this.props.handleSave,tooltip:"Save"},a.createElement(ct.A,null)),a.createElement(st.Ay,{value:this.props.mode,style:jt.dropDownMenu,onChange:this.handleDropDownMenuChange,iconStyle:jt.dropDownMenuIcon},a.createElement(it.A,{value:"tree",primaryText:"Tree"}),a.createElement(it.A,{value:"code",primaryText:"Code"})),a.createElement(ot.default,{onClick:this.props.handleFormat,tooltip:"Format"},a.createElement(dt.A,null)),a.createElement(ot.default,{onClick:this.props.handleFormatCompact,tooltip:"Format Compact"},a.createElement(pt.A,null))),a.createElement(yt.$Q,null,a.createElement(xt,{path:e}))))}render(){const{mode:e}=this.props;return"tree"===e?this.renderTreeEdit():this.renderCodeEdit()}}var Tt=(0,o.Ng)((e=>({mode:e.jsonEditor.mode,jsonEditor:e.jsonEditor,saving:e.jsonEditor.saving})),(e=>({jsonSearchAction(t){e(function(e){return{type:le,searchValue:e}}(t))},jsonCollapse(){e({type:ue})},jsonExpand(){e({type:ce})},jsonUndo(){e({type:de})},jsonRedo(){e({type:pe})},jsonChangeMode(t){e(fe(t))}})))(_t);class Lt extends a.Component{constructor(){super(),this.state={valueError:null},this.handleChangeValue=this.handleChangeValue.bind(this),this.handleFormatValue=this.handleFormatValue.bind(this),this.handleFormatValueCompact=this.handleFormatValueCompact.bind(this),this.handleSaveValue=this.handleSaveValue.bind(this)}componentDidMount(){const{getValue:e,params:{namespace:t,key:r}}=this.props;"undefined"!==typeof t&&"undefined"!==typeof r&&e(t,r)}UNSAFE_componentWillReceiveProps(e){const{fetchedNamespaces:t,params:r}=e,{fetchKeysForNamespace:n,getValue:a,params:s}=this.props;(!this.props.fetchedNamespaces&&t||!t)&&n(r.namespace,!0),s.namespace===r.namespace&&s.key===r.key||a(r.namespace,r.key)}handleSaveValue(){const{editedValue:e}=this.props,{namespace:t,key:r}=this.props.params;this.state.valueError?this.props.rejectUpdateValue(t,r,e,"Failed to update value: Not valid JSON"):e&&this.props.updateValue(t,r,e)}handleChangeValue(e,t){const{valueChange:r}=this.props,{namespace:n,key:a}=this.props.params;t?this.setState({...this.state,valueError:t}):(this.setState({...this.state,valueError:!1}),r(n,a,e))}handleFormatValue(){this.state.valueError?this.props.rejectFormat("Failed to format value: Not valid JSON"):this.props.jsonFormat()}handleFormatValueCompact(){this.state.valueError?this.props.rejectFormat("Failed to format value: Not valid JSON"):this.props.jsonCompact()}render(){const{namespace:e,selectedKey:t}=this.props;let r="";return"undefined"!==typeof e&&(r+=e),"undefined"!==typeof t&&(r+=`/${t}`),a.createElement(d.default,{zDepth:0,className:we},a.createElement(ke,{route:this.props.route,router:this.props.router,value:this.props.value,editedValue:this.props.editedValue}),a.createElement(Tt,{path:r,handleSave:this.handleSaveValue,handleFormat:this.handleFormatValue,handleFormatCompact:this.handleFormatValueCompact}),a.createElement(at,{namespace:e,selectedKey:t,value:this.props.value,valueChange:this.handleChangeValue}))}}var Dt=(0,i.y)((0,o.Ng)((e=>({value:e.display.value,selectedKey:e.display.key,namespace:e.display.namespace,editedValue:e.display.editedValue,fetchedNamespaces:e.sidebar.fetched})),(e=>({getValue(t,r){e(te(t,r))},fetchKeysForNamespace(t,r){e(ee(t,r))},updateValue(t,r,n){e(se(t,r,n))},valueChange(t,r,n){e(function(e,t,r){return{type:y,namespace:e,key:t,value:r}}(t,r,n))},rejectUpdateValue(t,r,n,a){e(Q(t,r,n,a))},rejectFormat(t){e({type:D,error:t})},jsonFormat(){e({type:me})},jsonCompact(){e({type:ye})}})))(Lt));class Vt extends a.Component{render(){return a.createElement("div",{className:we},a.createElement(De,{text:"Select a namespace and a key to edit."}))}}var Ot=Be(Vt);var Pt=()=>a.createElement(d.default,{style:{zIndex:5}},a.createElement(yt.M7,null));class Ft extends a.Component{render(){return a.createElement(d.default,{zDepth:0,className:we},a.createElement(Pt,null),a.createElement(Ot,null))}}var It=Ft;function Mt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Kt extends a.Component{constructor(){super(...arguments),Mt(this,"handleConfirmed",(()=>{const{namespace:e,keyValue:t}=this.props;this.props.deleteKeyInNamespace(e,t)}))}render(){const{namespace:e,keyValue:t,namespaceStore:r}=this.props;let n=0;r&&r[e]&&(n=Object.keys(this.props.namespaceStore[e].keys).length);const s=a.createElement("p",null,"This will also delete the namespace ",e,".");return a.createElement(Ce,{approveAction:this.handleConfirmed,approveLabel:"Delete",contentStyle:{maxWidth:"400px"}},a.createElement("p",null,"Are you sure you want to delete ",`'${t}'`," in"," ",e,"?"),n<2?s:"")}}var Rt=(0,o.Ng)((e=>({namespace:e.dialog.namespace,keyValue:e.dialog.key,namespaceStore:e.sidebar.namespaces})),(e=>({deleteKeyInNamespace(t,r){e(oe(t,r))}})))(Kt);function Ut(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Jt extends a.Component{constructor(){super(...arguments),Ut(this,"handleConfirmed",(()=>{this.props.deleteNamespace(this.props.namespace)}))}render(){return a.createElement(Ce,{approveAction:this.handleConfirmed,approveLabel:"Delete",contentStyle:{maxWidth:"400px"}},a.createElement("p",null,"Are you sure you want to delete"," ",`'${this.props.namespace}'`,"?"),a.createElement("p",null,"This will delete ",a.createElement("u",null,"all")," keys in this namespace."))}}var Bt=(0,o.Ng)((e=>({namespace:e.dialog.namespace})),(e=>({deleteNamespace(t){e(ie(t))}})))(Jt);class Wt extends a.Component{render(){const e=this.props.component;return a.createElement(e,null)}}var Ht=Wt;function Gt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Yt extends a.Component{constructor(){super(...arguments),Gt(this,"matchDialog",(e=>e.props.name===this.props.dialogType))}render(){const e=this.props.children.find(this.matchDialog);if(!e)return null;const t=e.props.component;return a.createElement(t,null)}}var zt=(0,o.Ng)((e=>({dialogType:e.dialog.dialogType})))(Yt);class $t extends a.Component{render(){return a.createElement(Ce,{cancelAction:this.props.closeDialog,contentStyle:{maxWidth:"400px"}},this.props.message)}}var qt=(0,o.Ng)((e=>({message:e.dialog.message})))($t);function Qt(e){const t={valid:!1,message:"Required Field."};if(!e)return t;let r="";["#"].forEach((t=>{e.includes(t)&&(r=t)}));const n=`You cannot use this character: ${r} in namespaces or keys`;return t.message=n,r?t:{valid:!0,message:""}}class Xt extends a.Component{constructor(e){super(e),this.state={keyValue:"",keyError:""},this.handleCreate=this.handleCreate.bind(this),this.keyRef=a.createRef()}componentDidMount(){setTimeout((()=>{this.keyRef.current.focus()}),1)}handleKeyInput(e){const t=e.target.value;this.setState({keyError:Qt(t).message,keyValue:t})}handleCreate(){const{keyValue:e}=this.state,{namespace:t}=this.props;return new Promise(((r,n)=>{const a=Qt(e);t&&a.valid?(this.props.createNamespace(t,e),r()):(this.setState({keyError:a.message}),n())}))}render(){return a.createElement(Ce,{title:"New key for "+this.props.namespace,approveAction:this.handleCreate,contentStyle:{maxWidth:"500px"}},a.createElement(ft.A,{hintText:"Key name",autoFocus:!0,ref:this.keyRef,errorText:this.state.keyError,style:{display:"block",width:"100%"},onChange:this.handleKeyInput.bind(this)}))}}var Zt=(0,o.Ng)((e=>({namespace:e.dialog.namespace})),(e=>({createNamespace(t,r){e(ae(t,r))}})))(Xt);function er(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class tr extends a.Component{constructor(e){super(e),er(this,"handleNamespaceInput",(e=>{const t=e.target.value;this.setState({namespaceError:Qt(t).message,namespaceValue:e.target.value})})),er(this,"handleKeyInput",(e=>{const t=e.target.value;this.setState({keyError:Qt(t).message,keyValue:e.target.value})})),er(this,"handleCreate",(()=>{const{namespaceValue:e,keyValue:t}=this.state;return new Promise(((r,n)=>{const a=Qt(e),s=Qt(t);s.valid&&a.valid?(this.props.createNamespace(e,t),r()):(this.setState({keyError:s.message,namespaceError:a.message}),n())}))})),this.state={namespaceValue:"",keyValue:"",namespaceError:"",keyError:""}}handleClose(){this.props.closeDialog()}render(){const e={display:"block",width:"100%"};return a.createElement(Ce,{title:"New namespace",approveAction:this.handleCreate,cancelAction:this.props.closeDialog,contentStyle:{maxWidth:"500px"}},a.createElement(ft.A,{autoFocus:!0,hintText:"Namespace",style:e,errorText:this.state.namespaceError,onChange:this.handleNamespaceInput}),a.createElement(ft.A,{fullWidth:!0,hintText:"Key name",style:{fieldStyle:e},errorText:this.state.keyError,onChange:this.handleKeyInput}))}}var rr=(0,o.Ng)(null,(e=>({createNamespace(t,r){e(ae(t,r))}})))(tr),nr=r(64642),ar=r(74885),sr="Sidebar_sidebar__-ya5X",or="Sidebar_sidebarList__xhYnY";function ir(){return ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ir.apply(null,arguments)}function lr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const cr={alignItems:"center",justifyContent:"center"};var ur=(e,t)=>{class r extends a.Component{constructor(){super(...arguments),lr(this,"renderLoading",(()=>a.createElement("div",{className:or,style:cr},a.createElement(Ie,{size:"medium"})))),lr(this,"renderError",(()=>a.createElement("div",{className:or,style:cr},a.createElement(ot.default,{onClick:t},a.createElement(ar.A,null)),a.createElement("p",null,"Try again"))))}render(){const{loading:t,error:r,items:n}=this.props;return t||0===n.length?this.renderLoading():r?this.renderError():a.createElement(e,ir({},this.props,this.state))}}return(0,o.Ng)((e=>({loading:e.sidebar.fetching,error:e.sidebar.error})))(r)},pr=r(51586),dr=r(41025),hr=r(10020),mr=r(43836),yr=r(84136),fr=r(33891),Er=r(97269);function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gr.apply(null,arguments)}class vr extends a.Component{render(){return a.createElement(ot.default,gr({},this.props,{touch:!0,tooltipPosition:"bottom-left"}),a.createElement(Er.A,{color:p.palette.accent3Color}))}}var br=vr;function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cr.apply(null,arguments)}const Nr={vertical:"bottom",horizontal:"left"},Sr={vertical:"top",horizontal:"left"};class kr extends a.Component{deleteKey(e,t){this.props.deleteKeyInNamespace(e,t)}render(){const{namespace:e,keyName:t,deleteKeyInNamespace:r,...n}=this.props;return a.createElement(yr.Ay,Cr({disableAutoFocus:!0,anchorOrigin:Nr,targetOrigin:Sr,iconButtonElement:a.createElement(br,null)},n),a.createElement(it.A,{leftIcon:a.createElement(fr.A,null),onClick:this.deleteKey.bind(this,e,t)},"Delete"))}}var wr=(0,o.Ng)(null,(e=>({deleteKeyInNamespace(t,r){e(ve($e,{namespace:t,key:r}))}})))(kr);function xr(){return xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xr.apply(null,arguments)}const Ar={primaryText:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",height:"18px"},selectedKey:{backgroundColor:"rgba(0, 0, 0, 0.2)"}};class jr extends a.Component{render(){const{index:e,namespace:t,keyName:r,router:n,params:s,routes:o,location:l,...c}=this.props,u=s.namespace===t&&s.key===r;return a.createElement(pr.ck,xr({primaryText:a.createElement("div",{style:Ar.primaryText},r),key:e,rightIconButton:a.createElement(wr,{namespace:t,keyName:r}),leftIcon:a.createElement(mr.A,null),onClick:()=>i.RL.push(`/edit/${t}/${r}`),style:u?Ar.selectedKey:{}},c))}}var _r=(0,i.y)(jr),Tr=r(606);function Lr(){return Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lr.apply(null,arguments)}const Dr={vertical:"bottom",horizontal:"left"},Vr={vertical:"top",horizontal:"left"};class Or extends a.Component{createKey(e){this.props.newKey(e)}deleteNamespace(e){this.props.deleteNamespace(e)}render(){const{name:e,deleteNamespace:t,newKey:r,...n}=this.props;return a.createElement(yr.Ay,Lr({disableAutoFocus:!0,iconButtonElement:a.createElement(br,null),anchorOrigin:Dr,targetOrigin:Vr},n),a.createElement(it.A,{leftIcon:a.createElement(Tr.A,null),onClick:this.createKey.bind(this,e)},"New key"),a.createElement(it.A,{leftIcon:a.createElement(fr.A,null),onClick:this.deleteNamespace.bind(this,e)},"Delete"))}}var Pr=(0,o.Ng)(null,(e=>({deleteNamespace(t){e(ve(ze,{namespace:t}))},newKey(t){e(ve(Ye,{namespace:t}))}})))(Or);function Fr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ir={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",height:"18px"};class Mr extends a.Component{constructor(){super(...arguments),Fr(this,"handleToggleNamespace",((e,t)=>{e?this.props.closeNamespace(t):this.props.openNamespace(t)}))}render(){const{search:e,namespace:{error:t,name:r,fetching:n,open:s}}=this.props;if(t)return a.createElement(pr.ck,{primaryText:r,leftIcon:a.createElement(hr.A,null)},a.createElement(je.A,null));const o=Object.keys(this.props.namespace.keys).filter((t=>!e||t.toLowerCase().includes(e))).map((e=>a.createElement(_r,{namespace:r,keyName:e,key:e})));let i=a.createElement(Ie,null);return n||(i=s?a.createElement(dr.A,null):a.createElement(hr.A,null)),a.createElement(pr.ck,{primaryText:a.createElement("div",{style:Ir},r),open:s,leftIcon:i,rightIconButton:a.createElement(Pr,{name:r}),nestedItems:o,onClick:()=>this.handleToggleNamespace(s,r)})}}var Kr=(0,o.Ng)(null,(e=>({openNamespace(t){e(ee(t))},closeNamespace(t){e(Z(t))}})))(Mr);function Rr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ur={overflowY:"auto",overflowX:"hidden",height:"calc(100% - 72px)",paddingTop:0,margin:"8px 5px",backgroundColor:p.palette.primary3Color};class Jr extends a.Component{constructor(){super(...arguments),Rr(this,"filterNamespaces",(e=>{const t=this.props.search.toLowerCase()||"";if(!t)return!0;let r=t.indexOf("#");r<0&&(r=t.length);const n=t.substring(0,r);return e.toLowerCase().includes(n)})),Rr(this,"filterKeys",(()=>{const e=this.props.search.toLowerCase(),t=e.indexOf("#")+1,r=e.substring(t,e.length);return t>0?r:""}))}render(){const{items:e}=this.props;return a.createElement(pr.B8,{style:Ur},Object.keys(e).filter((e=>this.filterNamespaces(e))).sort().map((t=>a.createElement(Kr,{namespace:e[t],search:this.filterKeys(),key:t}))))}}var Br=(0,o.Ng)((e=>({search:e.sidebar.searchValue})))(Jr);function Wr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Hr extends a.Component{constructor(){super(...arguments),Wr(this,"handleKeys",(e=>{"Enter"===e.key&&this.searchField.blur()}))}render(){const{searchChanged:e,searchValue:t}=this.props;return a.createElement(ft.A,{name:"searchbar",hintText:"Namespace#Key",floatingLabelStyle:{top:"25px"},style:{height:"auto"},inputStyle:{marginTop:"6px"},floatingLabelText:"Search",value:t,onChange:t=>{let{target:{value:r}}=t;return e(r)},onFocus:()=>e(""),onKeyUp:this.handleKeys,ref:e=>{this.searchField=e}})}}var Gr=(0,o.Ng)((e=>({searchValue:e.sidebar.searchValue})),(e=>({searchChanged(t){e(function(e){return{type:g,searchValue:e}}(t))}})))(Hr);class Yr extends a.Component{render(){return a.createElement(d.default,{style:{zIndex:5}},a.createElement(yt.M7,null,a.createElement(Gr,null),a.createElement(yt.$Q,{lastChild:!0},this.props.children)))}}var zr=Yr;class $r extends a.Component{constructor(e){super(e),this.state={showDialog:!1,namespaceListImproved:ur(Br,e.getNamespaces)}}componentDidMount(){this.props.getNamespaces()}showDialog(){this.props.openNamespaceDialog()}render(){const{items:e}=this.props,t=this.state.namespaceListImproved;return a.createElement("div",{className:sr},a.createElement(zr,null,a.createElement(nr.A,{label:"New",onClick:this.showDialog.bind(this),primary:!0})),a.createElement(t,{items:e}))}}var qr=(0,o.Ng)((e=>({items:e.sidebar.namespaces})),(e=>({openNamespaceDialog(){e(ve(Ge))},getNamespaces(){e(re())}})))($r),Qr=r(20469);class Xr extends a.Component{render(){return a.createElement(Qr.A,{open:"string"===typeof this.props.message,message:a.createElement("span",null,this.props.message),autoHideDuration:5e3,onRequestClose:this.props.emptySnackbar})}}var Zr=(0,o.Ng)((e=>({message:e.snackbar.message})),(e=>({emptySnackbar(){e({type:v})}})))(Xr),en="Layout_layoutContainer__ISJjs",tn="Layout_wrapper__2wQ18",rn="Layout_pageContainer__c+5Pd";class nn extends a.Component{render(){return a.createElement("div",{className:tn},a.createElement("div",{className:en},a.createElement("div",{className:rn},a.createElement(qr,null),this.props.children,a.createElement(zt,null,a.createElement(Ht,{name:Ye,component:Zt}),a.createElement(Ht,{name:Ge,component:rr}),a.createElement(Ht,{name:qe,component:qt}),a.createElement(Ht,{name:$e,component:Rt}),a.createElement(Ht,{name:ze,component:Bt})))),a.createElement(Zr,null))}}var an=nn;class sn extends a.Component{shouldComponentUpdate(){return!1}render(){const{store:e}=this.props;return a.createElement(s.A,{muiTheme:p},a.createElement(o.Kq,{store:e},a.createElement(i.Ix,{history:i.RL},a.createElement(i.qh,{path:"/",component:an},a.createElement(i.O4,{component:It}),a.createElement(i.qh,{path:"edit/:namespace/:key",component:Dt})))))}}var on=sn,ln=r(97012),cn=r(99189);const un={dialogType:null},pn={...un};var dn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:{const{dialogType:r,dialogprops:n}=t;return{...e,dialogType:r,...n}}case E:return{...e,...un};default:return e}};const hn={fetching:!1,fetched:!0,error:!1},mn={fetching:!0,fetched:!1,error:!1},yn={fetching:!1,fetched:!1,error:!0},fn={fetching:!1,fetched:!1};var En=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return{...e,jsonSearchValue:t.searchValue};case C:case A:case"LOAD_VALUE":return{...e,...mn};case N:case j:return{...e,...yn};case x:case b:return{...e,...hn};case h:{const{namespace:r,key:n,value:a}=t;return{...e,...hn,namespace:r,key:n,value:a,editedValue:a}}case y:{const{namespace:r,key:n,value:a}=t;return{...e,...hn,namespace:r,key:n,editedValue:a}}case _:return{...e,...hn,value:t.value};default:return e}};const gn={mode:"tree",undo:!1,redo:!1,jsonSearchValue:"",saving:!1};var vn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return{...e,jsonSearchValue:t.searchValue};case ue:return{...e,expand:!1,collapse:!0};case ce:return{...e,expand:!0,collapse:!1};case ye:return{...e,compact:!0,format:!1};case me:return{...e,compact:!1,format:!0};case pe:return{...e,redo:!0};case de:return{...e,undo:!0};case he:return{...e,mode:t.mode};case"VALUE_CHANGE":return{...e,undo:!1,redo:!1};case h:return{...e,...gn};case x:{const{length:r}=t.value;return{...e,jsonLength:r}}case T:return{...e,saving:!0};case L:case _:return{...e,saving:!1};default:return{...e}}};const bn={ignoreNextConfirm:!1};var Cn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;return t.type===J?{...e,ignoreNextConfirm:t.ignoreNextConfirm}:e};const Nn={fetching:!1,fetched:!0,error:!1},Sn={fetching:!0,fetched:!1,error:!1},kn={fetching:!1,fetched:!1,error:!0},wn={searchValue:"",history:[],fetching:!1,fetched:!1,namespaces:{}},xn=(e,t)=>{const r={};return e.filter((e=>"undefined"===typeof t[e])).forEach((e=>{r[e]={name:e,open:!1,keys:{}}})),r},An=e=>{const t={};return e.forEach((e=>{t[e]={key:e}})),t};var jn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{...e,searchValue:t.searchValue};case m:{const{namespace:r}=t,n=t.override||!e.namespaces[r].open;return{...e,namespaces:{...e.namespaces,[r]:{...e.namespaces[r],open:n}}}}case b:return{...e,...Nn,namespaces:{...e.namespaces,...xn(t.namespaces,e.namespaces)}};case C:return{...e,...Sn};case N:return{...e,...kn};case S:{const{namespace:r}=t;return{...e,namespaces:{...e.namespaces,[r]:{...e.namespaces[r],...Nn,keys:An(t.keys)}}}}case k:{const{namespace:r}=t;return{...e,namespaces:{...e.namespaces,[r]:{...e.namespaces[r],...Sn}}}}case w:{const{namespace:r,error:n}=t;return{...e,namespaces:{...e.namespaces,[r]:{...e.namespaces[r],...kn,errorMessage:n}}}}case x:case V:{const{namespace:r,key:n}=t,a=t.value.value,s={};return"undefined"!==typeof e.namespaces[r]?s[r]={...e.namespaces[r],keys:{...e.namespaces[r].keys,[n]:{key:n,value:a}}}:s[r]={name:r,open:!1,keys:{[n]:{key:n,value:{}}}},{...e,...Nn,namespaces:{...e.namespaces,...s}}}case h:{const{namespace:r,key:n,value:a}=t;return{...e,namespace:r,key:n,value:a}}case K:{const r=e.namespaces;return delete r[t.namespace],{...e,namespaces:{...r}}}case F:{const{namespace:r,key:n}=t,a=e.namespaces[r];return delete a.keys[n],{...e,namespaces:{...e.namespaces,[a.name]:a}}}default:return{...e}}};const _n={snackbarMessage:{message:""}},Tn={};var Ln=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{..._n};case _:return{...e,message:"Value saved."};case L:{let r="Failed to save.";const{error:n}=t;return n&&"string"===typeof n&&(r=t.error),{...e,message:r}}case D:{const r=t.error||"Failed to format";return{...e,message:r}}case w:return{...e,message:t.error};case F:return{...e,message:"Key deleted."};case K:return{...e,message:"Namespace deleted."};case P:{let r="Failed to create. ";return t.error&&t.error.message&&(r+=t.error.message),{...e,message:r}}case v:return{..._n};default:return{...e}}},Dn=(0,ln.HY)({display:En,sidebar:jn,snackbar:Ln,dialog:dn,jsonEditor:vn,navigation:Cn}),Vn=(0,ln.y$)(Dn,(0,ln.Tw)(cn.A)),On=JSON.parse('{"An error has occurred.":"","Invalid JSON. Please fix all remaining issues and try again.":""}');Ae.A.addResources("en","default",On);var Pn=()=>{const{d2:e}=(0,n.g)();return e?a.createElement(on,{store:Vn}):null}}}]);
//# sourceMappingURL=app.7dd15de9.chunk.js.map